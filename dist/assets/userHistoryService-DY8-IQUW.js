import{d as s,m as i,n as o,p as r}from"./firebaseService-CNi3H3Tw.js";import{c}from"./Dashboard-COH9xpID.js";import"./index-B3gPsghR.js";import"./clock-DLLJtmD0.js";import"./proxy-BQHhQHVF.js";import"./share-2-CzmRxmWB.js";import"./arrow-left-2Zq-8vrk.js";import"./SEO-BJ4ChhB2.js";const n="user_histories",g=async(a,e)=>{if(!(!s||!a))try{const t=i(s,n,a);await o(t,{shownDishNames:r(e.name),lastUpdated:new Date},{merge:!0}),console.log(`[History] Tracked shown dish: ${e.name}`)}catch(t){console.warn("[History] Failed to track shown dish:",t)}},h=async(a,e)=>{if(!(!s||!a))try{const t=i(s,n,a);await o(t,{likedDishes:r({name:e.name,cuisine:e.cuisine,tags:e.tags||[],timestamp:new Date}),lastUpdated:new Date},{merge:!0}),console.log(`[History] Tracked liked dish: ${e.name}`),c.recordEvent({type:"swipe_right",dish:e,timestamp:Date.now()})}catch(t){console.warn("[History] Failed to track liked dish:",t)}},u=async(a,e)=>{if(!(!s||!a))try{const t=i(s,n,a);await o(t,{dislikedDishes:r({name:e.name,cuisine:e.cuisine,tags:e.tags||[],timestamp:new Date}),lastUpdated:new Date},{merge:!0}),console.log(`[History] Tracked disliked dish: ${e.name}`),c.recordEvent({type:"swipe_left",dish:e,timestamp:Date.now()})}catch(t){console.warn("[History] Failed to track disliked dish:",t)}};export{u as trackDislikedDish,h as trackLikedDish,g as trackShownDish};
