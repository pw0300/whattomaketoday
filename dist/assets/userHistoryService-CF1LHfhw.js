import{d as a,h as i,i as n,j as o}from"./firebaseService-C1mq1556.js";const r="user_histories",d=async(s,e)=>{if(!(!a||!s))try{const t=i(a,r,s);await n(t,{shownDishNames:o(e.name),lastUpdated:new Date},{merge:!0}),console.log(`[History] Tracked shown dish: ${e.name}`)}catch(t){console.warn("[History] Failed to track shown dish:",t)}},l=async(s,e)=>{if(!(!a||!s))try{const t=i(a,r,s);await n(t,{likedDishes:o({name:e.name,cuisine:e.cuisine,tags:e.tags||[],timestamp:new Date}),lastUpdated:new Date},{merge:!0}),console.log(`[History] Tracked liked dish: ${e.name}`)}catch(t){console.warn("[History] Failed to track liked dish:",t)}},m=async(s,e)=>{if(!(!a||!s))try{const t=i(a,r,s);await n(t,{dislikedDishes:o({name:e.name,cuisine:e.cuisine,tags:e.tags||[],timestamp:new Date}),lastUpdated:new Date},{merge:!0}),console.log(`[History] Tracked disliked dish: ${e.name}`)}catch(t){console.warn("[History] Failed to track disliked dish:",t)}};export{m as trackDislikedDish,l as trackLikedDish,d as trackShownDish};
