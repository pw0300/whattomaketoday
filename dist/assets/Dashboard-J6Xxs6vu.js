const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/knowledgeGraphService-DV8qVhbm.js","assets/index-1Zneb5no.js","assets/vendor-ai-CPrgQTwB.js","assets/index-1kTZQrIe.css","assets/firebaseService-C9yZOPCO.js","assets/vendor-db-CpiILupR.js","assets/clock-pZb8NoLU.js","assets/zap-BcV8zEwV.js","assets/share-2-CI2VHR69.js","assets/arrow-left-Cj57b7l6.js","assets/SEO-BL8M3-1-.js","assets/userHistoryService-DKZlYY3g.js","assets/contextManagerService-B6eCq0LR.js","assets/pineconeService-sEl9xxIl.js","assets/preWarmService-BTeQI0EQ.js"])))=>i.map(i=>d[i]);
import{c as w,_ as ae,S as cs,a as fe,R as ds}from"./index-1Zneb5no.js";import{G as hs,R as ee,a as b,j as t,m as G,A as ge,u as Mt,b as xe}from"./vendor-ai-CPrgQTwB.js";import{d as Se,s as la,e as Lt,a as ca,b as da,o as us,c as ps,f as ms,g as Pt,r as gs,l as fs}from"./firebaseService-C9yZOPCO.js";import{T as ha,a as ua,c as gt,q as xs,l as ys,g as bs}from"./vendor-db-CpiILupR.js";import{C as pa}from"./clock-pZb8NoLU.js";import{A as ft,C as Ie,b as xt,a as Ns,S as Le,Z as Ft,U as qe}from"./zap-BcV8zEwV.js";import{S as yt}from"./share-2-CI2VHR69.js";import{A as ma}from"./arrow-left-Cj57b7l6.js";import{S as vs}from"./SEO-BL8M3-1-.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tt=w("activity",ws);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],Es=w("apple",ks);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Ss=w("barcode",js);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_s=w("book-open",Is);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Cs=w("bookmark",Ts);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Ds=w("brain-circuit",As);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Os=w("brain",Rs);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46",key:"rfqxbe"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z",key:"6b25w4"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z",key:"fn65lo"}]],Ls=w("carrot",Ms);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bt=w("chevron-left",Ps);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Us=w("circle-alert",Fs);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Hs=w("circle-arrow-down",Gs);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vs=w("circle-check-big",$s);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zs=w("circle-check",Bs);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ys=w("circle-x",qs);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ws=w("circle",Ks);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z",key:"4ite01"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34",key:"1gxipu"}],["path",{d:"m14 10-5.5 5.5",key:"92pfem"}],["path",{d:"M14 17.85V10H6.15",key:"xqmtsk"}]],Xs=w("citrus",Js);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Qs=w("clipboard-list",Zs);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"m17 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"adpv5j"}],["path",{d:"M17 22v-4h-4",key:"ex1ofj"}],["path",{d:"M20.996 15.251A4.5 4.5 0 0 0 17.495 8h-1.79a7 7 0 1 0-12.709 5.607",key:"ziqt14"}],["path",{d:"M7 10v4h4",key:"1j6gx1"}],["path",{d:"m7 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"19q5h7"}]],tr=w("cloud-sync",er);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ar=w("cloud-upload",nr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],rr=w("coffee",sr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],or=w("copy",ir);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],cr=w("database",lr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M15.4 15.63a7.875 6 135 1 1 6.23-6.23 4.5 3.43 135 0 0-6.23 6.23",key:"1dtqwm"}],["path",{d:"m8.29 12.71-2.6 2.6a2.5 2.5 0 1 0-1.65 4.65A2.5 2.5 0 1 0 8.7 18.3l2.59-2.59",key:"1oq1fw"}]],hr=w("drumstick",dr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["path",{d:"M12 2C8 2 4 8 4 14a8 8 0 0 0 16 0c0-6-4-12-8-12",key:"1le142"}]],pr=w("egg",ur);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],gr=w("eraser",mr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xr=w("external-link",fr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],br=w("eye",yr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],vr=w("file-check",Nr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kr=w("file-text",wr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],jr=w("flame",Er);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ir=w("gamepad-2",Sr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ga=w("globe",_r);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Cr=w("grid-3x3",Tr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ot=w("heart",Ar);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rr=w("info",Dr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Nt=w("layers",Or);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Lr=w("layout-grid",Mr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Fr=w("leaf",Pr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Gr=w("link-2",Ur);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$r=w("link",Hr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Br=w("lock-open",Vr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ut=w("lock",zr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yr=w("log-in",qr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wr=w("log-out",Kr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vt=w("message-circle",Jr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],fa=w("mic",Xr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qr=w("minus",Zr);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],xa=w("package-check",ei);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ya=w("package",ti);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],ai=w("pizza",ni);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ri=w("play",si);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_e=w("plus",ii);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],li=w("printer",oi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],di=w("rotate-ccw",ci);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Gt=w("rotate-cw",hi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777",key:"f1wd0e"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25",key:"1pfu07"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9",key:"1oq9qw"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"1fnwu5"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1",key:"itshg"}]],pi=w("sandwich",ui);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lt=w("save",mi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],fi=w("scroll-text",gi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wt=w("search",xi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bi=w("send",yi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nt=w("shield-check",Ni);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wi=w("shield",vi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],Ei=w("shopping-basket",ki);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ba=w("shopping-cart",ji);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],Ii=w("soup",Si);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kt=w("square-check-big",_i);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ci=w("square-pen",Ti);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Na=w("square",Ai);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ri=w("target",Di);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],va=w("terminal",Oi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Li=w("timer",Mi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Et=w("trash-2",Pi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ui=w("trending-up",Fi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ht=w("triangle-alert",Gi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$i=w("upload",Hi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jt=w("user",Vi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wa=w("users",Bi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],qi=w("volume-2",zi);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],he=w("x",Yi);var $=(e=>(e.Gluten="Gluten",e.Dairy="Dairy",e.Nuts="Nuts",e.Shellfish="Shellfish",e.Eggs="Eggs",e.Soy="Soy",e))($||{}),Ye=(e=>(e.None="None",e.Diabetes="Diabetes",e.Hypertension="Hypertension",e.PCOS="PCOS",e))(Ye||{}),ne=(e=>(e.Left="Left",e.Right="Right",e.Up="Up",e))(ne||{}),Y=(e=>(e.Intro="Intro",e.Onboarding="Onboarding",e.Curating="Curating",e.Swipe="Swipe",e.Planner="Planner",e.Shopping="Shopping",e.Pantry="Pantry",e.Journal="Journal",e.Profile="Profile",e))(Y||{});const Ue=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ki={PROFILE:"tadkaSync_profile"},Wi=[{id:"1",name:"Spinach Cottage Cheese Curry",localName:"Palak Paneer",description:"Creamy spinach gravy with soft cottage cheese cubes.",primaryIngredient:"Paneer",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=1",macros:{protein:20,carbs:12,fat:25,calories:350},ingredients:[{name:"Spinach",quantity:"500g",category:"Produce"},{name:"Paneer",quantity:"200g",category:"Dairy"},{name:"Cream",quantity:"2 tbsp",category:"Dairy"},{name:"Garlic",quantity:"4 cloves",category:"Produce"}],instructions:["Blanch spinach leaves in boiling water for 2 mins, then plunge in ice water.","Blend spinach with ginger and green chilies to a smooth paste.","Sauté chopped garlic and cumin in ghee until fragrant.","Add spinach puree, salt, and garam masala. Cook for 5 mins.","Stir in paneer cubes and fresh cream. Simmer for 2 mins and serve."],tags:["Creamy","Vegetarian"],allergens:[$.Dairy]},{id:"2",name:"Spiced Okra Stir Fry",localName:"Bhindi Masala",description:"Crispy ladyfingers tossed in aromatic spices.",primaryIngredient:"Okra",cuisine:"Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=2",macros:{protein:5,carbs:18,fat:12,calories:200},ingredients:[{name:"Okra",quantity:"500g",category:"Produce"},{name:"Onion",quantity:"2 medium",category:"Produce"},{name:"Amchur (Mango Powder)",quantity:"1 tsp",category:"Spices"}],instructions:["Wash okra and dry completely before chopping to avoid slime.","Heat oil in a pan, add cumin seeds and sliced onions.","Add okra and cook on medium heat without covering the pan.","Once tender, add turmeric, chili powder, coriander powder, and salt.","Finish with dry mango powder (amchur) for tanginess."],tags:["Dry","Vegetarian","Vegan"],allergens:[]},{id:"3",name:"Grilled Chicken Salad",localName:"Grilled Chicken Salad",description:"Herb marinated chicken breast with fresh greens.",primaryIngredient:"Chicken",cuisine:"Continental",type:"Lunch",image:"https://picsum.photos/400/400?random=3",macros:{protein:35,carbs:8,fat:10,calories:320},ingredients:[{name:"Chicken Breast",quantity:"200g",category:"Protein"},{name:"Lettuce",quantity:"1 head",category:"Produce"},{name:"Olive Oil",quantity:"1 tbsp",category:"Pantry"}],instructions:["Marinate chicken breast with lemon juice, olive oil, dried herbs, and salt for 20 mins.","Grill on medium-high heat for 6-7 mins per side until fully cooked.","Rest chicken for 5 mins before slicing.","Toss lettuce, cherry tomatoes, and cucumber in a light vinaigrette.","Top salad with sliced chicken."],tags:["Healthy","Low Carb"],allergens:[]},{id:"4",name:"Lentil Soup with Rice",localName:"Dal Fry & Jeera Rice",description:"Yellow lentils tempered with cumin and garlic.",primaryIngredient:"Lentils",cuisine:"Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=4",macros:{protein:18,carbs:60,fat:12,calories:450},ingredients:[{name:"Toor Dal",quantity:"1 cup",category:"Pantry"},{name:"Basmati Rice",quantity:"1 cup",category:"Pantry"},{name:"Ghee",quantity:"1 tbsp",category:"Dairy"}],instructions:["Pressure cook toor dal with turmeric and salt until soft.","In a separate pan, heat ghee and add cumin seeds, dried red chilies, and garlic.","Pour tempering over the cooked dal and mix well.","Cook basmati rice with a pinch of cumin seeds.","Serve hot garnished with coriander."],tags:["Comfort","Vegetarian"],allergens:[]},{id:"5",name:"Chickpea Curry",localName:"Chana Masala",description:"Spicy white chickpeas in tomato gravy.",primaryIngredient:"Chickpeas",cuisine:"Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=5",macros:{protein:15,carbs:45,fat:10,calories:380},ingredients:[{name:"Chickpeas",quantity:"1 cup",category:"Pantry"},{name:"Tomatoes",quantity:"3",category:"Produce"},{name:"Chana Masala Spice",quantity:"1 tbsp",category:"Spices"}],instructions:["Soak chickpeas overnight and pressure cook until tender.","Sauté onion ginger garlic paste in oil until golden brown.","Add tomato puree and cook until oil separates.","Add chana masala powder, turmeric, and salt.","Add cooked chickpeas and simmer for 15 mins to thicken gravy."],tags:["Spicy","Vegan"],allergens:[]}];var Ji={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $t;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($t||($t={}));var Vt;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Vt||(Vt={}));var Bt;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Bt||(Bt={}));var O;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(O||(O={}));var zt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zt||(zt={}));var qt;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qt||(qt={}));var Yt;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Yt||(Yt={}));var Kt;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Kt||(Kt={}));var Wt;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wt||(Wt={}));var Jt;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Jt||(Jt={}));var Xt;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Xt||(Xt={}));var Zt;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Zt||(Zt={}));var Qt;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Qt||(Qt={}));var en;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(en||(en={}));var tn;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(tn||(tn={}));var nn;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(nn||(nn={}));var an;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(an||(an={}));var sn;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(sn||(sn={}));var rn;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rn||(rn={}));var on;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(on||(on={}));var ln;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ln||(ln={}));var cn;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(cn||(cn={}));var dn;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dn||(dn={}));var hn;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hn||(hn={}));var un;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(un||(un={}));var pn;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(pn||(pn={}));var mn;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(mn||(mn={}));var gn;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(gn||(gn={}));var fn;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(fn||(fn={}));var xn;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xn||(xn={}));var yn;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(yn||(yn={}));var bn;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(bn||(bn={}));var Nn;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Nn||(Nn={}));var vn;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(vn||(vn={}));var wn;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wn||(wn={}));var kn;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kn||(kn={}));var En;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(En||(En={}));var jn;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jn||(jn={}));var Sn;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Sn||(Sn={}));var In;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(In||(In={}));var _n;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(_n||(_n={}));var Tn;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Tn||(Tn={}));var Cn;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Cn||(Cn={}));var An;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(An||(An={}));var Dn;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Dn||(Dn={}));var Rn;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Rn||(Rn={}));var On;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(On||(On={}));var Mn;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Mn||(Mn={}));var Ln;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ln||(Ln={}));var Pn;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Pn||(Pn={}));var Fn;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fn||(Fn={}));var Un;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Un||(Un={}));var Gn;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Gn||(Gn={}));var Hn;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hn||(Hn={}));var $n;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})($n||($n={}));var Vn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vn||(Vn={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Bn||(Bn={}));function Ke(e,n){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]]);return a}function zn(e){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&e[n],s=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(e){return this instanceof Z?(this.v=e,this):new Z(e)}function Me(e,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(e,n||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(m){return function(y){return Promise.resolve(y).then(m,c)}}function p(m,y){s[m]&&(r[m]=function(N){return new Promise(function(d,f){i.push([m,N,d,f])>1||o(m,N)})},y&&(r[m]=y(r[m])))}function o(m,y){try{u(s[m](y))}catch(N){g(i[0][3],N)}}function u(m){m.value instanceof Z?Promise.resolve(m.value.v).then(h,c):g(i[0][2],m)}function h(m){o("next",m)}function c(m){o("throw",m)}function g(m,y){m(y),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Ee(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],a;return n?n.call(e):(e=typeof zn=="function"?zn(e):e[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(i){a[i]=e[i]&&function(l){return new Promise(function(p,o){l=e[i](l),r(p,o,l.done,l.value)})}}function r(i,l,p,o){Promise.resolve(o).then(function(u){i({value:u,done:p})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ka=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return ka=e.randomUUID.bind(e),e.randomUUID();const n=new Uint8Array(1),a=e?()=>e.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^a()&15>>+s/4).toString(16))};const Xi=()=>ka();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ct(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const dt=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const n=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(n.stack=e.stack),e.cause&&!n.cause&&(n.cause=e.cause),e.name&&(n.name=e.name),n}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class de extends Error{}class ce extends de{constructor(n,a,s,r){super(`${ce.makeMessage(n,a,s)}`),this.status=n,this.headers=r,this.error=a}static makeMessage(n,a,s){const r=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return n&&r?`${n} ${r}`:n?`${n} status code (no body)`:r||"(no status code or body)"}static generate(n,a,s,r){if(!n||!r)return new Xe({message:s,cause:dt(a)});const i=a;return n===400?new ja(n,i,s,r):n===401?new Sa(n,i,s,r):n===403?new Ia(n,i,s,r):n===404?new _a(n,i,s,r):n===409?new Ta(n,i,s,r):n===422?new Ca(n,i,s,r):n===429?new Aa(n,i,s,r):n>=500?new Da(n,i,s,r):new ce(n,i,s,r)}}class ht extends ce{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Xe extends ce{constructor({message:n,cause:a}){super(void 0,void 0,n||"Connection error.",void 0),a&&(this.cause=a)}}class Ea extends Xe{constructor({message:n}={}){super({message:n??"Request timed out."})}}class ja extends ce{}class Sa extends ce{}class Ia extends ce{}class _a extends ce{}class Ta extends ce{}class Ca extends ce{}class Aa extends ce{}class Da extends ce{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi=/^[a-z][a-z0-9+.-]*:/i,Qi=e=>Zi.test(e);let ut=e=>(ut=Array.isArray,ut(e));const eo=ut;let to=eo;const qn=to;function no(e){if(!e)return!0;for(const n in e)return!1;return!0}function ao(e,n){return Object.prototype.hasOwnProperty.call(e,n)}const so=(e,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new de(`${e} must be an integer`);if(n<0)throw new de(`${e} must be a positive integer`);return n},ro=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const io=e=>new Promise(n=>setTimeout(n,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const we="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oo(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lo=()=>{var e,n,a,s,r;const i=oo();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":we,"X-Stainless-OS":Kn(Deno.build.os),"X-Stainless-Arch":Yn(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":we,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":we,"X-Stainless-OS":Kn((a=globalThis.process.platform)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Arch":Yn((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=co();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":we,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":we,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function co(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:a}of e){const s=a.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,l=s[3]||0;return{browser:n,version:`${r}.${i}.${l}`}}}return null}const Yn=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Kn=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ge;const ho=()=>Ge??(Ge=lo());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uo(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ra(...e){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...e)}function po(e){let n=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Ra({start(){},async pull(a){const{done:s,value:r}=await n.next();s?a.close():a.enqueue(r)},async cancel(){var a;await((a=n.return)===null||a===void 0?void 0:a.call(n))}})}function Oa(e){if(e[Symbol.asyncIterator])return e;const n=e.getReader();return{async next(){try{const a=await n.read();return a!=null&&a.done&&n.releaseLock(),a}catch(a){throw n.releaseLock(),a}},async return(){const a=n.cancel();return n.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mo(e){var n,a;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((a=(n=e[Symbol.asyncIterator]()).return)===null||a===void 0?void 0:a.call(n));return}const s=e.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const go=({headers:e,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ma=()=>{var e;if(typeof File>"u"){const{process:n}=globalThis,a=typeof((e=n==null?void 0:n.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(a?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function at(e,n,a){return Ma(),new File(e,n??"unknown_file",a)}function fo(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const xo=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const La=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",yo=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&La(e),bo=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function No(e,n,a){if(Ma(),e=await e,yo(e))return e instanceof File?e:at([await e.arrayBuffer()],e.name);if(bo(e)){const r=await e.blob();return n||(n=new URL(e.url).pathname.split(/[\\/]/).pop()),at(await pt(r),n,a)}const s=await pt(e);if(n||(n=fo(e)),!(a!=null&&a.type)){const r=s.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(a=Object.assign(Object.assign({},a),{type:r}))}return at(s,n,a)}async function pt(e){var n,a,s,r,i;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(La(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(xo(e))try{for(var p=!0,o=Ee(e),u;u=await o.next(),n=u.done,!n;p=!0){r=u.value,p=!1;const h=r;l.push(...await pt(h))}}catch(h){a={error:h}}finally{try{!p&&!n&&(s=o.return)&&await s.call(o)}finally{if(a)throw a.error}}else{const h=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${vo(e)}`)}return l}function vo(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(a=>`"${a}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa{constructor(n){this._client=n}}Pa._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fa(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wn=Object.freeze(Object.create(null)),wo=(e=Fa)=>(function(a,...s){if(a.length===1)return a[0];let r=!1;const i=[],l=a.reduce((h,c,g)=>{var m,y,N;/[?#]/.test(c)&&(r=!0);const d=s[g];let f=(r?encodeURIComponent:e)(""+d);return g!==s.length&&(d==null||typeof d=="object"&&d.toString===((N=Object.getPrototypeOf((y=Object.getPrototypeOf((m=d.hasOwnProperty)!==null&&m!==void 0?m:Wn))!==null&&y!==void 0?y:Wn))===null||N===void 0?void 0:N.toString))&&(f=d+"",i.push({start:h.length+c.length,length:f.length,error:`Value of type ${Object.prototype.toString.call(d).slice(8,-1)} is not a valid path parameter`})),h+c+(g===s.length?"":f)},""),p=l.split(/[?#]/,1)[0],o=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=o.exec(p))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((h,c)=>h.start-c.start),i.length>0){let h=0;const c=i.reduce((g,m)=>{const y=" ".repeat(m.start-h),N="^".repeat(m.length);return h=m.start+m.length,g+y+N},"");throw new de(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${l}
${c}`)}return l}),He=wo(Fa);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua extends Pa{create(n,a){var s;const{api_version:r=this._client.apiVersion}=n,i=Ke(n,["api_version"]);if("model"in i&&"agent_config"in i)throw new de("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new de("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(He`/${r}/interactions`,Object.assign(Object.assign({body:i},a),{stream:(s=n.stream)!==null&&s!==void 0?s:!1}))}delete(n,a={},s){const{api_version:r=this._client.apiVersion}=a??{};return this._client.delete(He`/${r}/interactions/${n}`,s)}cancel(n,a={},s){const{api_version:r=this._client.apiVersion}=a??{};return this._client.post(He`/${r}/interactions/${n}/cancel`,s)}get(n,a={},s){var r;const i=a??{},{api_version:l=this._client.apiVersion}=i,p=Ke(i,["api_version"]);return this._client.get(He`/${l}/interactions/${n}`,Object.assign(Object.assign({query:p},s),{stream:(r=a==null?void 0:a.stream)!==null&&r!==void 0?r:!1}))}}Ua._key=Object.freeze(["interactions"]);class Ga extends Ua{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ko(e){let n=0;for(const r of e)n+=r.length;const a=new Uint8Array(n);let s=0;for(const r of e)a.set(r,s),s+=r.length;return a}let $e;function St(e){let n;return($e??(n=new globalThis.TextEncoder,$e=n.encode.bind(n)))(e)}let Ve;function Jn(e){let n;return(Ve??(n=new globalThis.TextDecoder,Ve=n.decode.bind(n)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ze{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const a=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?St(n):n;this.buffer=ko([this.buffer,a]);const s=[];let r;for(;(r=Eo(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Jn(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=Jn(this.buffer.subarray(0,i));s.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Ze.NEWLINE_CHARS=new Set([`
`,"\r"]);Ze.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Eo(e,n){for(let r=n??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function jo(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const We={off:0,error:200,warn:300,info:400,debug:500},Xn=(e,n,a)=>{if(e){if(ao(We,e))return e;le(a).warn(`${n} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(We))}`)}};function Oe(){}function Be(e,n,a){return!n||We[e]>We[a]?Oe:n[e].bind(n)}const So={error:Oe,warn:Oe,info:Oe,debug:Oe};let Zn=new WeakMap;function le(e){var n;const a=e.logger,s=(n=e.logLevel)!==null&&n!==void 0?n:"off";if(!a)return So;const r=Zn.get(a);if(r&&r[0]===s)return r[1];const i={error:Be("error",a,s),warn:Be("warn",a,s),info:Be("info",a,s),debug:Be("debug",a,s)};return Zn.set(a,[s,i]),i}const be=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([n,a])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ke{constructor(n,a,s){this.iterator=n,this.controller=a,this.client=s}static fromSSEResponse(n,a,s){let r=!1;const i=s?le(s):console;function l(){return Me(this,arguments,function*(){var o,u,h,c;if(r)throw new de("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let g=!1;try{try{for(var m=!0,y=Ee(Io(n,a)),N;N=yield Z(y.next()),o=N.done,!o;m=!0){c=N.value,m=!1;const d=c;if(!g)if(d.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Z(JSON.parse(d.data))}catch(f){throw i.error("Could not parse message into JSON:",d.data),i.error("From chunk:",d.raw),f}}}catch(d){u={error:d}}finally{try{!m&&!o&&(h=y.return)&&(yield Z(h.call(y)))}finally{if(u)throw u.error}}g=!0}catch(d){if(ct(d))return yield Z(void 0);throw d}finally{g||a.abort()}})}return new ke(l,a,s)}static fromReadableStream(n,a,s){let r=!1;function i(){return Me(this,arguments,function*(){var o,u,h,c;const g=new Ze,m=Oa(n);try{for(var y=!0,N=Ee(m),d;d=yield Z(N.next()),o=d.done,!o;y=!0){c=d.value,y=!1;const f=c;for(const v of g.decode(f))yield yield Z(v)}}catch(f){u={error:f}}finally{try{!y&&!o&&(h=N.return)&&(yield Z(h.call(N)))}finally{if(u)throw u.error}}for(const f of g.flush())yield yield Z(f)})}function l(){return Me(this,arguments,function*(){var o,u,h,c;if(r)throw new de("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let g=!1;try{try{for(var m=!0,y=Ee(i()),N;N=yield Z(y.next()),o=N.done,!o;m=!0){c=N.value,m=!1;const d=c;g||d&&(yield yield Z(JSON.parse(d)))}}catch(d){u={error:d}}finally{try{!m&&!o&&(h=y.return)&&(yield Z(h.call(y)))}finally{if(u)throw u.error}}g=!0}catch(d){if(ct(d))return yield Z(void 0);throw d}finally{g||a.abort()}})}return new ke(l,a,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],a=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=s.next();n.push(l),a.push(l)}return i.shift()}});return[new ke(()=>r(n),this.controller,this.client),new ke(()=>r(a),this.controller,this.client)]}toReadableStream(){const n=this;let a;return Ra({async start(){a=n[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:i}=await a.next();if(i)return s.close();const l=St(JSON.stringify(r)+`
`);s.enqueue(l)}catch(r){s.error(r)}},async cancel(){var s;await((s=a.return)===null||s===void 0?void 0:s.call(a))}})}}function Io(e,n){return Me(this,arguments,function*(){var s,r,i,l;if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new de("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new de("Attempted to iterate over a response with no body");const p=new To,o=new Ze,u=Oa(e.body);try{for(var h=!0,c=Ee(_o(u)),g;g=yield Z(c.next()),s=g.done,!s;h=!0){l=g.value,h=!1;const m=l;for(const y of o.decode(m)){const N=p.decode(y);N&&(yield yield Z(N))}}}catch(m){r={error:m}}finally{try{!h&&!s&&(i=c.return)&&(yield Z(i.call(c)))}finally{if(r)throw r.error}}for(const m of o.flush()){const y=p.decode(m);y&&(yield yield Z(y))}})}function _o(e){return Me(this,arguments,function*(){var a,s,r,i;let l=new Uint8Array;try{for(var p=!0,o=Ee(e),u;u=yield Z(o.next()),a=u.done,!a;p=!0){i=u.value,p=!1;const h=i;if(h==null)continue;const c=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?St(h):h;let g=new Uint8Array(l.length+c.length);g.set(l),g.set(c,l.length),l=g;let m;for(;(m=jo(l))!==-1;)yield yield Z(l.slice(0,m)),l=l.slice(m)}}catch(h){s={error:h}}finally{try{!p&&!a&&(r=o.return)&&(yield Z(r.call(o)))}finally{if(s)throw s.error}}l.length>0&&(yield yield Z(l))})}class To{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(n),n.startsWith(":"))return null;let[a,s,r]=Co(n,":");return r.startsWith(" ")&&(r=r.substring(1)),a==="event"?this.event=r:a==="data"&&this.data.push(r),null}}function Co(e,n){const a=e.indexOf(n);return a!==-1?[e.substring(0,a),n,e.substring(a+n.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ao(e,n){const{response:a,requestLogID:s,retryOfRequestLogID:r,startTime:i}=n,l=await(async()=>{var p;if(n.options.stream)return le(e).debug("response",a.status,a.url,a.headers,a.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(a,n.controller,e):ke.fromSSEResponse(a,n.controller,e);if(a.status===204)return null;if(n.options.__binaryResponse)return a;const o=a.headers.get("content-type"),u=(p=o==null?void 0:o.split(";")[0])===null||p===void 0?void 0:p.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await a.json():await a.text()})();return le(e).debug(`[${s}] response parsed`,be({retryOfRequestLogID:r,url:a.url,status:a.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class It extends Promise{constructor(n,a,s=Ao){super(r=>{r(null)}),this.responsePromise=a,this.parseResponse=s,this.client=n}_thenUnwrap(n){return new It(this.client,this.responsePromise,async(a,s)=>n(await this.parseResponse(a,s),s))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:a}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,a){return this.parse().then(n,a)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ha=Symbol("brand.privateNullableHeaders");function*Do(e){if(!e)return;if(Ha in e){const{values:s,nulls:r}=e;yield*s.entries();for(const i of r)yield[i,null];return}let n=!1,a;e instanceof Headers?a=e.entries():qn(e)?a=e:(n=!0,a=Object.entries(e??{}));for(let s of a){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=qn(s[1])?s[1]:[s[1]];let l=!1;for(const p of i)p!==void 0&&(n&&!l&&(l=!0,yield[r,null]),yield[r,p])}}const De=e=>{const n=new Headers,a=new Set;for(const s of e){const r=new Set;for(const[i,l]of Do(s)){const p=i.toLowerCase();r.has(p)||(n.delete(i),r.add(p)),l===null?(n.delete(i),a.add(p)):(n.append(i,l),a.delete(p))}}return{[Ha]:!0,values:n,nulls:a}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const st=e=>{var n,a,s,r,i,l;if(typeof globalThis.process<"u")return(s=(a=(n=Ji)===null||n===void 0?void 0:n[e])===null||a===void 0?void 0:a.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $a;class Qe{constructor(n){var a,s,r,i,l,p,o,{baseURL:u=st("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(a=st("GEMINI_API_KEY"))!==null&&a!==void 0?a:null,apiVersion:c="v1beta"}=n,g=Ke(n,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:h,apiVersion:c},g),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(s=m.timeout)!==null&&s!==void 0?s:Qe.DEFAULT_TIMEOUT,this.logger=(r=m.logger)!==null&&r!==void 0?r:console;const y="warn";this.logLevel=y,this.logLevel=(l=(i=Xn(m.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Xn(st("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(p=m.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(o=m.fetch)!==null&&o!==void 0?o:uo(),this.encoder=go,this._options=m,this.apiKey=h,this.apiVersion=c,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:a}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!a.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const a=De([n.headers]);if(!(a.values.has("authorization")||a.values.has("x-goog-api-key"))){if(this.apiKey)return De([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return De([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new de(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${we}`}defaultIdempotencyKey(){return`stainless-node-retry-${Xi()}`}makeStatusError(n,a,s,r){return ce.generate(n,a,s,r)}buildURL(n,a,s){const r=!this.baseURLOverridden()&&s||this.baseURL,i=Qi(n)?new URL(n):new URL(r+(r.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),l=this.defaultQuery();return no(l)||(a=Object.assign(Object.assign({},l),a)),typeof a=="object"&&a&&!Array.isArray(a)&&(i.search=this.stringifyQuery(a)),i.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const a=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${a}`}}async prepareRequest(n,{url:a,options:s}){}get(n,a){return this.methodRequest("get",n,a)}post(n,a){return this.methodRequest("post",n,a)}patch(n,a){return this.methodRequest("patch",n,a)}put(n,a){return this.methodRequest("put",n,a)}delete(n,a){return this.methodRequest("delete",n,a)}methodRequest(n,a,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:n,path:a},r)))}request(n,a=null){return new It(this,this.makeRequest(n,a,void 0))}async makeRequest(n,a,s){var r,i,l;const p=await n,o=(r=p.maxRetries)!==null&&r!==void 0?r:this.maxRetries;a==null&&(a=o),await this.prepareOptions(p);const{req:u,url:h,timeout:c}=await this.buildRequest(p,{retryCount:o-a});await this.prepareRequest(u,{url:h,options:p});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=s===void 0?"":`, retryOf: ${s}`,y=Date.now();if(le(this).debug(`[${g}] sending request`,be({retryOfRequestLogID:s,method:p.method,url:h,options:p,headers:u.headers})),!((i=p.signal)===null||i===void 0)&&i.aborted)throw new ht;const N=new AbortController,d=await this.fetchWithTimeout(h,u,c,N).catch(dt),f=Date.now();if(d instanceof globalThis.Error){const _=`retrying, ${a} attempts remaining`;if(!((l=p.signal)===null||l===void 0)&&l.aborted)throw new ht;const E=ct(d)||/timed? ?out/i.test(String(d)+("cause"in d?String(d.cause):""));if(a)return le(this).info(`[${g}] connection ${E?"timed out":"failed"} - ${_}`),le(this).debug(`[${g}] connection ${E?"timed out":"failed"} (${_})`,be({retryOfRequestLogID:s,url:h,durationMs:f-y,message:d.message})),this.retryRequest(p,a,s??g);throw le(this).info(`[${g}] connection ${E?"timed out":"failed"} - error; no more retries left`),le(this).debug(`[${g}] connection ${E?"timed out":"failed"} (error; no more retries left)`,be({retryOfRequestLogID:s,url:h,durationMs:f-y,message:d.message})),E?new Ea:new Xe({cause:d})}const v=`[${g}${m}] ${u.method} ${h} ${d.ok?"succeeded":"failed"} with status ${d.status} in ${f-y}ms`;if(!d.ok){const _=await this.shouldRetry(d);if(a&&_){const X=`retrying, ${a} attempts remaining`;return await mo(d.body),le(this).info(`${v} - ${X}`),le(this).debug(`[${g}] response error (${X})`,be({retryOfRequestLogID:s,url:d.url,status:d.status,headers:d.headers,durationMs:f-y})),this.retryRequest(p,a,s??g,d.headers)}const E=_?"error; no more retries left":"error; not retryable";le(this).info(`${v} - ${E}`);const j=await d.text().catch(X=>dt(X).message),H=ro(j),J=H?void 0:j;throw le(this).debug(`[${g}] response error (${E})`,be({retryOfRequestLogID:s,url:d.url,status:d.status,headers:d.headers,message:J,durationMs:Date.now()-y})),this.makeStatusError(d.status,H,J,d.headers)}return le(this).info(v),le(this).debug(`[${g}] response start`,be({retryOfRequestLogID:s,url:d.url,status:d.status,headers:d.headers,durationMs:f-y})),{response:d,options:p,controller:N,requestLogID:g,retryOfRequestLogID:s,startTime:y}}async fetchWithTimeout(n,a,s,r){const i=a||{},{signal:l,method:p}=i,o=Ke(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const u=setTimeout(()=>r.abort(),s),h=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},h?{duplex:"half"}:{}),{method:"GET"}),o);p&&(c.method=p.toUpperCase());try{return await this.fetch.call(void 0,n,c)}finally{clearTimeout(u)}}async shouldRetry(n){const a=n.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,a,s,r){var i;let l;const p=r==null?void 0:r.get("retry-after-ms");if(p){const u=parseFloat(p);Number.isNaN(u)||(l=u)}const o=r==null?void 0:r.get("retry-after");if(o&&!l){const u=parseFloat(o);Number.isNaN(u)?l=Date.parse(o)-Date.now():l=u*1e3}if(!(l&&0<=l&&l<60*1e3)){const u=(i=n.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(a,u)}return await io(l),this.makeRequest(n,a-1,s)}calculateDefaultRetryTimeoutMillis(n,a){const i=a-n,l=Math.min(.5*Math.pow(2,i),8),p=1-Math.random()*.25;return l*p*1e3}async buildRequest(n,{retryCount:a=0}={}){var s,r,i;const l=Object.assign({},n),{method:p,path:o,query:u,defaultBaseURL:h}=l,c=this.buildURL(o,u,h);"timeout"in l&&so("timeout",l.timeout),l.timeout=(s=l.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:g,body:m}=this.buildBody({options:l}),y=await this.buildHeaders({options:n,method:p,bodyHeaders:g,retryCount:a});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:y},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:c,timeout:l.timeout}}async buildHeaders({options:n,method:a,bodyHeaders:s,retryCount:r}){let i={};this.idempotencyHeader&&a!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=n.idempotencyKey);const l=await this.authHeaders(n);let p=De([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),ho()),this._options.defaultHeaders,s,n.headers,l]);return this.validateHeaders(p),p.values}buildBody({options:{body:n,headers:a}}){if(!n)return{bodyHeaders:void 0,body:void 0};const s=De([a]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&s.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:po(n)}:this.encoder({body:n,headers:s})}}Qe.DEFAULT_TIMEOUT=6e4;class re extends Qe{constructor(){super(...arguments),this.interactions=new Ga(this)}}$a=re;re.GeminiNextGenAPIClient=$a;re.GeminiNextGenAPIClientError=de;re.APIError=ce;re.APIConnectionError=Xe;re.APIConnectionTimeoutError=Ea;re.APIUserAbortError=ht;re.NotFoundError=_a;re.ConflictError=Ta;re.RateLimitError=Aa;re.BadRequestError=ja;re.AuthenticationError=Sa;re.InternalServerError=Da;re.PermissionDeniedError=Ia;re.UnprocessableEntityError=Ca;re.toFile=No;re.Interactions=Ga;async function Va(e,n=3,a=1e3,s=2){try{return await e()}catch(r){if(n<=0)throw r;const i=a*s;return console.warn(`[Retry] Operation failed. Retrying in ${a}ms... (${n} left). Error: ${r instanceof Error?r.message:String(r)}`),await new Promise(l=>setTimeout(l,a)),Va(e,n-1,i,s)}}function Ro(e,n){const a=[];for(let s=0;s<e.length;s+=n)a.push(e.slice(s,s+n));return a}const Ba=e=>e?Math.ceil(e.length/4):0,Oo={feed:{model:"gemini-2.0-flash",maxOutputTokens:300,temperature:.4,description:"Fast generation for swipe deck"},enrich:{model:"gemini-2.0-flash",maxOutputTokens:500,temperature:.3,description:"Dish hydration (Standard JSON)"},cook:{model:"gemini-3.0-flash",maxOutputTokens:1e3,temperature:.3,description:"Reasoning model for complex constraints"},analyze:{model:"gemini-2.0-flash",maxOutputTokens:1500,temperature:.2,description:"Multimodal analysis"},embed:{model:"text-embedding-004",maxOutputTokens:0,temperature:0,description:"Text embeddings"}};function Mo(e){const n=Oo[e];return console.debug(`[ModelSelect] Task: ${e} → Model: ${n.model}`),n}class Lo{constructor(){this.cache=new Map,this.maxSize=500,this.ttlMs=3600*1e3,this.metrics={hits:0,misses:0}}hashText(n){let a=0;const s=n.toLowerCase().trim();for(let r=0;r<s.length;r++){const i=s.charCodeAt(r);a=(a<<5)-a+i,a=a&a}return`emb_${a}`}get(n){const a=this.hashText(n),s=this.cache.get(a);return s&&s.expiry>Date.now()?(this.metrics.hits++,console.debug(`[EmbeddingCache] HIT (${this.getHitRate()}% rate)`),s.embedding):(s&&this.cache.delete(a),this.metrics.misses++,null)}set(n,a){const s=this.hashText(n);if(this.cache.size>=this.maxSize){const r=this.cache.keys().next().value;r&&this.cache.delete(r)}this.cache.set(s,{embedding:a,expiry:Date.now()+this.ttlMs})}getHitRate(){const n=this.metrics.hits+this.metrics.misses;return n>0?Math.round(this.metrics.hits/n*100):0}getStats(){return{size:this.cache.size,hits:this.metrics.hits,misses:this.metrics.misses,hitRate:this.getHitRate()}}clear(){this.cache.clear(),console.log("[EmbeddingCache] Cleared")}}const Qn=new Lo;class Po{constructor(){this.pending=new Map,this.metrics={coalesced:0,unique:0}}async request(n,a){if(this.pending.has(n))return this.metrics.coalesced++,console.debug(`[Coalescer] Reusing in-flight request: ${n.slice(0,30)}...`),this.pending.get(n);this.metrics.unique++;const s=a().finally(()=>{this.pending.delete(n)});return this.pending.set(n,s),s}generateKey(n,...a){return`${n}:${JSON.stringify(a)}`}getStats(){const n=this.metrics.coalesced+this.metrics.unique;return{coalesced:this.metrics.coalesced,unique:this.metrics.unique,savingsRate:n>0?Math.round(this.metrics.coalesced/n*100):0}}}const za=new Po,Fo={feed:{maxInputTokens:500,maxOutputTokens:300},enrich:{maxInputTokens:800,maxOutputTokens:500},cook:{maxInputTokens:1200,maxOutputTokens:800},analyze:{maxInputTokens:2e3,maxOutputTokens:1500},embed:{maxInputTokens:2e3,maxOutputTokens:0}};function Uo(e){return Fo[e]}function Go(e,n){const a=n*4;return e.length<=a?e:(console.debug(`[TokenBudget] Truncating from ${e.length} to ${a} chars`),e.slice(0,a)+"...")}const et=async()=>{const{knowledgeGraph:e}=await ae(async()=>{const{knowledgeGraph:n}=await import("./knowledgeGraphService-DV8qVhbm.js");return{knowledgeGraph:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]));return e},_t="cached_dishes",qa=async e=>{if(Se)try{const n=e.map(a=>{const s={...a,createdAt:ha.now(),searchTags:[...a.tags||[],...a.healthTags||[],a.cuisine,a.type]},r=la(s);return ua(gt(Se,_t),r)});await Promise.all(n),console.log(`[Cache] Saved ${e.length} dishes to Firestore.`)}catch(n){console.warn("Cache Write Failed:",n)}},Ya=async(e,n)=>{if(!Se)return[];try{const a=gt(Se,_t);let s=xs(a,ys(100));const i=(await bs(s)).docs.map(o=>({id:o.id,...o.data()})),l=await et(),p=i.filter(o=>{var u,h;return!(n.dietaryPreference!=="Any"&&!((u=o.tags)!=null&&u.includes(n.dietaryPreference))||(h=o.allergens)!=null&&h.some(c=>n.allergens.includes(c))||!l.isDishContextSafe(o,n.allergens))});return console.log(`[Cache] Found ${p.length} valid dishes from pool of ${i.length}`),p.sort(()=>.5-Math.random()).slice(0,e)}catch(a){return console.warn("Cache Read Failed:",a),[]}},Ho=async e=>{var a;if(!Se)return 0;let n=0;try{for(const s of e){if(!s.name||!((a=s.ingredients)!=null&&a.length))continue;const r={...s,id:s.id||crypto.randomUUID(),createdAt:ha.now(),searchTags:[...s.tags||[],...s.healthTags||[],s.cuisine,s.type].filter(Boolean)},i=la(r);await ua(gt(Se,_t),i),n++}return console.log(`[Seed] Uploaded ${n} recipes to Firestore cache.`),n}catch(s){return console.error("Seed Error:",s),n}},Ka=e=>new Promise((n,a)=>{const s=new FileReader;s.onloadend=()=>{const i=s.result.split(",")[1];n(i)},s.onerror=a,s.readAsDataURL(e)}),Wa={type:O.OBJECT,properties:{name:{type:O.STRING},quantity:{type:O.STRING},category:{type:O.STRING,enum:["Produce","Protein","Dairy","Pantry","Spices"]}}},Ja={type:O.OBJECT,properties:{name:{type:O.STRING},localName:{type:O.STRING},description:{type:O.STRING},primaryIngredient:{type:O.STRING},cuisine:{type:O.STRING},type:{type:O.STRING,enum:["Breakfast","Lunch","Dinner","Snack"]},ingredients:{type:O.ARRAY,items:Wa},instructions:{type:O.ARRAY,items:{type:O.STRING}},tags:{type:O.ARRAY,items:{type:O.STRING}},healthTags:{type:O.ARRAY,items:{type:O.STRING}},macros:{type:O.OBJECT,properties:{calories:{type:O.NUMBER},protein:{type:O.NUMBER},carbs:{type:O.NUMBER},fat:{type:O.NUMBER}}},flavorProfile:{type:O.STRING,enum:["Sweet","Sour","Salty","Bitter","Umami","Spicy","Savory","Balanced"]},textureProfile:{type:O.STRING,enum:["Crunchy","Soft","Creamy","Chewy","Soup/Liquid","Dry"]},glycemicIndex:{type:O.STRING,enum:["Low","Medium","High"]}},required:["name","description","cuisine","type","tags","healthTags","macros"]},Xa={type:O.OBJECT,properties:{name:{type:O.STRING},localName:{type:O.STRING},description:{type:O.STRING},cuisine:{type:O.STRING},type:{type:O.STRING,enum:["Breakfast","Lunch","Dinner","Snack"]},tags:{type:O.ARRAY,items:{type:O.STRING}},healthTags:{type:O.ARRAY,items:{type:O.STRING}},macros:{type:O.OBJECT,properties:{calories:{type:O.NUMBER}}},flavorProfile:{type:O.STRING,enum:["Sweet","Sour","Salty","Bitter","Umami","Spicy","Savory","Balanced"]},textureProfile:{type:O.STRING,enum:["Crunchy","Soft","Creamy","Chewy","Soup/Liquid","Dry"]},glycemicIndex:{type:O.STRING,enum:["Low","Medium","High"]}},required:["name","description","cuisine","type","tags","healthTags","macros"]},$o={type:O.OBJECT,properties:{ingredients:{type:O.ARRAY,items:Wa},instructions:{type:O.ARRAY,items:{type:O.STRING}}}},Vo={feed:1e3},Tt=(e,n)=>{const a=Ba(e);return a<=n?e:(console.debug(`[Context] Truncating context from ${a} to ${n} tokens`),e.slice(0,n*4))},Pe=async e=>{const n=await et(),a=[];e.dietaryPreference!=="Any"&&a.push(`Diet: ${e.dietaryPreference}`),e.allergens.length>0&&a.push(`No: ${e.allergens.join(", ")}`);let s=a.join(". ");const r=await n.getRelevantSafetyContext(e.allergens,e.conditions),i=[];r&&i.push(r),e.allergenNotes&&i.push(`Allergen Details: "${e.allergenNotes}"`),e.conditions.length>0&&i.push(`Health: ${e.conditions.join(", ")}`),e.conditionNotes&&i.push(`Health Details: "${e.conditionNotes}"`),e.cuisines&&e.cuisines.length>0&&i.push(`PREFERRED CUISINES (PRIORITIZE): ${e.cuisines.join(", ")}`),e.cuisineNotes&&i.push(`MUST HAVE: "${e.cuisineNotes}"`),e.customNotes&&i.push(`Custom Note: "${e.customNotes}"`),e.healthReportSummary&&i.push(`Health Report: "${e.healthReportSummary}"`),e.dislikedDishes&&e.dislikedDishes.length>0&&i.push(`Do NOT suggest: ${e.dislikedDishes.join(", ")}`),e.likedDishes&&e.likedDishes.length>0&&i.push(`USER FAVORITES (suggest similar): ${e.likedDishes.slice(-5).join(", ")}`);const l=Vo.feed-Ba(s),p=Tt(i.join(". "),Math.max(0,l));return s+(p?". "+p:"")},Ct=e=>!e||typeof e!="object"?(console.debug("[Validation] FAILED: Dish is null or not object",e),!1):!e.name||typeof e.name!="string"||e.name.trim().length<2?(console.debug("[Validation] FAILED: Invalid name",e.name),!1):!e.description||typeof e.description!="string"||e.description.trim().length<10?(console.debug("[Validation] FAILED: Invalid description",e.description),!1):!e.cuisine||typeof e.cuisine!="string"?(console.debug("[Validation] FAILED: Missing cuisine"),!1):!e.type||typeof e.type!="string"?(console.debug("[Validation] FAILED: Missing type"),!1):!0,At=(e,n)=>{const a=Math.floor(Math.random()*100),s=["grilled","roasted","stir-fried","steamed","sautéed"],r=s[a%s.length];let i;if(n&&n.length>0)i=n[a%n.length];else{const p=["Italian","Thai","Indian","Chinese","Mediterranean"];i=p[a%p.length]}return`${e?`CRITICAL: ${e}

`:""}${i} ${r} dish. Seed:${a}`},Za=async(e,n=3)=>{for(let a=1;a<=n;a++)try{const s=await Te(e,Xa,"feed");if(s&&Ct(s))return s;a<n&&console.log(`[Gemini Retry] Attempt ${a} failed validation, retrying...`)}catch(s){console.error(`[Gemini Retry] Attempt ${a} error:`,s)}return console.warn(`[Gemini Quality] Failed to generate valid dish after ${n} attempts`),null},Je=Lt.gemini.apiKey?new hs(Lt.gemini.apiKey):null,Te=async(e,n,a="feed")=>{const s=typeof e=="string"?e:JSON.stringify(e),r=`gen:${a}:${s.slice(0,50)}:${JSON.stringify(n).length}`;return za.request(r,async()=>Va(async()=>{const i=Mo(a),l=Uo(a),p=typeof e=="string"?Go(e,l.maxInputTokens):e,o={schema:n,modelName:i.model,config:{maxOutputTokens:i.maxOutputTokens,temperature:i.temperature}};typeof p=="string"?o.prompt=p:o.contents=p;try{if(typeof window>"u")throw new Error("Skipping proxy in Node environment");console.debug(`[Gemini] Generating via secure proxy: ${i.model} (Task: ${a})`);const u=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(u.ok)return await u.json();throw new Error(`Proxy returned ${u.status}`)}catch{if(!Je)throw new Error("Gemini API unavailable: No proxy and no client key configured.");const h=Je.getGenerativeModel({model:i.model,generationConfig:{responseMimeType:"application/json",responseSchema:n,temperature:i.temperature,candidateCount:1,maxOutputTokens:i.maxOutputTokens}});let c;typeof p=="string"?c=await h.generateContent(p):p.contents?c=await h.generateContent(p.contents):c=await h.generateContent(p);const g=c.response.text();return JSON.parse(Bo(g))}},3,1e3))},Bo=e=>{let n=e.trim();return n.startsWith("```")&&(n=n.replace(/^```(?:json)?/i,"").replace(/```$/,"")),n.trim()},zo=async e=>{const n=Qn.get(e);if(n)return n;try{return await za.request(`embed:${e}`,async()=>{if(!Je)return console.warn("[Gemini] Embedding disabled - No client API key."),null;const r=(await Je.getGenerativeModel({model:"text-embedding-004"}).embedContent(e)).embedding.values;return r&&Qn.set(e,r),r})}catch(a){return console.error("Embedding Error:",a),null}},Qa=(e,n)=>`${n?`CRITICAL INSTRUCTIONS:
STRICTLY FOLLOW THESE CONSTRAINTS: ${n}
(Any violation of diet/allergens is a critical failure.)

`:""}"${e}". Complete all schema fields.`;let je=[],rt=!1;const qo=2,es=async(e,n)=>{if(!(je.length>=3||rt)){rt=!0,console.log("[Gemini Latency] Starting background pre-generation...");try{const a=await Dt(3,n,"Explorer",e,!0);a.length>0&&(je.push(...a),console.log(`[Gemini Latency] Pre-fetched ${a.length} dishes. Buffer size: ${je.length}`))}catch(a){console.warn("[Gemini Latency] Pre-fetch failed",a)}finally{rt=!1}}},Dt=async(e=3,n,a="Explorer",s,r=!1)=>{var i;try{if(!r&&je.length>0){const C=e,V=je.splice(0,C);if(console.log(`[Gemini Latency] Instant Serve: ${V.length} dishes from pre-fetch buffer.`),je.length<qo&&s&&es(s,n),V.length>=e)return V;const U=e-V.length;console.log(`[Gemini Latency] Partial Hit. fetching ${U} more directly.`);const B=await Dt(U,n,a,s,!0);return[...V,...B]}const{getShownDishNames:l,filterUnseenDishes:p}=await ae(async()=>{const{getShownDishNames:C,filterUnseenDishes:V}=await import("./userHistoryService-DKZlYY3g.js");return{getShownDishNames:C,filterUnseenDishes:V}},__vite__mapDeps([11,4,5,12,1,2,3,6,7,8,9,10])),o=s?await l(s):[],u=await Ya(e*3,n),h=p(u,o).slice(0,e);if(h.length>=e)return console.log(`[Gemini Telemetry] Cache Hit - Served ${h.length}/${e} dishes from cache`),h;const c=await Pe(n),g=e-h.length;let m=[];if(g>0&&s)try{const{contextManager:C}=await ae(async()=>{const{contextManager:q}=await import("./contextManagerService-B6eCq0LR.js");return{contextManager:q}},__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10])),{pineconeService:V}=await ae(async()=>{const{pineconeService:q}=await import("./pineconeService-sEl9xxIl.js");return{pineconeService:q}},__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10])),U=`${c} ${n.cuisines.join(" ")} ${((i=C.getCondensedMemory())==null?void 0:i.summary)||""}`.trim();console.log(`[Gemini] Semantic Search Query: "${U.slice(0,50)}..."`),m=(await V.search(U,"dishes",e*2)).filter(q=>q.score&&q.score>.85).map(q=>q.metadata).filter(q=>Ct(q)&&!o.includes(q.name)),console.log(`[Gemini] Vector Cache Hit: Found ${m.length} similar dishes.`)}catch(C){console.warn("[Gemini] Vector Search Failed:",C)}const N=[...h,...m].filter((C,V,U)=>V===U.findIndex(B=>B.name===C.name)).slice(0,e);if(N.length>=e)return console.log(`[Gemini Telemetry] Total Cache Hit - Served ${N.length} dishes`),N;const d=e-N.length,{getUserHistory:f,analyzeUserPreferences:v}=await ae(async()=>{const{getUserHistory:C,analyzeUserPreferences:V}=await import("./userHistoryService-DKZlYY3g.js");return{getUserHistory:C,analyzeUserPreferences:V}},__vite__mapDeps([11,4,5,12,1,2,3,6,7,8,9,10]));let _="",E=[];if(s){const{contextManager:C}=await ae(async()=>{const{contextManager:B}=await import("./contextManagerService-B6eCq0LR.js");return{contextManager:B}},__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10]));if(C.currentSession||C.initSession(s),_=C.getOptimizedContext("feed"),!_){const B=await f(s),q=v(B);q&&(_=Tt(`

USER FEEDBACK:${q}`,200))}E=(await(await et()).suggestDishes({dietaryPreference:n.dietaryPreference,allergens:n.allergens,cuisines:n.cuisines})).map(B=>B.displayName).filter(B=>!o.includes(B))}const j=o.length>0?`
Avoid: ${o.slice(-10).join(", ")}`:"",H=[];for(;E.length>0&&H.length<d;){const C=E.shift();C&&H.push(Qa(C,c)+_)}for(;H.length<d+1;)H.push(At(c,n.cuisines)+_+j);const oe=Ro(H,2),X=[];for(const C of oe){const V=C.map(q=>Za(q,3)),U=await Promise.all(V);if(X.push(...U),X.filter(q=>q!==null).length>=d)break}const F=X.filter(C=>C!==null).map(C=>{var U;return{id:C.name.replace(/\s+/g,"-").toLowerCase()+"-"+Date.now()+Math.random(),name:C.name,localName:C.localName,description:C.description,cuisine:C.cuisine,type:C.type,ingredients:[],instructions:[],allergens:[],prepTime:Math.floor(Math.random()*30)+15,macros:{calories:((U=C.macros)==null?void 0:U.calories)||300+Math.floor(Math.random()*400),protein:0,carbs:0,fat:0},image:C.image||null,tags:C.tags||[],healthTags:C.healthTags||[],matchScore:85+Math.floor(Math.random()*10),generatedAt:Date.now(),flavorProfile:C.flavorProfile||"Balanced",textureProfile:C.textureProfile||"Soft",glycemicIndex:C.glycemicIndex||"Medium"}}).filter((C,V,U)=>V===U.findIndex(B=>B.name===C.name));return F.length>0&&(async()=>{try{const{pineconeService:C}=await ae(async()=>{const{pineconeService:U}=await import("./pineconeService-sEl9xxIl.js");return{pineconeService:U}},__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10])),V=F.map(U=>{var q;const B={...U,_type:"dish"};return B.image=U.image||"",B.localName=U.localName||"",U.macros&&(B.macros=JSON.stringify(U.macros)),U.ingredients&&(B.ingredients=JSON.stringify(U.ingredients)),U.instructions&&(B.instructions=JSON.stringify(U.instructions)),{id:U.id,text:`${U.name} ${U.description} ${U.cuisine} ${(q=U.tags)==null?void 0:q.join(" ")}`,metadata:B}});await C.upsert(V,"dishes"),console.log(`[Gemini] Upserted ${F.length} new dishes to Vector DB.`)}catch(C){console.error("[Gemini] Vector Upsert Failed:",C)}})(),[...N,...F].slice(0,e)}catch(l){return console.error("Error generating new dishes:",l),[]}},ts=async(e,n,a,s="Explorer")=>{const r=await Pe(n),i=At(r,n.cuisines),l=Array.from({length:e}).map(async()=>{var h;const u=await Za(i,5);if(u){const c={...u,id:crypto.randomUUID(),image:`https://picsum.photos/400/400?random=${Math.floor(Math.random()*1e3)}`,ingredients:[],instructions:[],allergens:u.allergens||[],nutrition:{calories:((h=u.macros)==null?void 0:h.calories)||0,protein:0,carbs:0,fat:0},isStaple:!1};return a(c),c}return null}),o=(await Promise.allSettled(l)).filter(u=>u.status==="fulfilled"&&u.value).map(u=>u.value);o.length>0&&qa(o)},ns=async(e,n)=>{var a;try{const{contextManager:s}=await ae(async()=>{const{contextManager:g}=await import("./contextManagerService-B6eCq0LR.js");return{contextManager:g}},__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10])),{pineconeService:r}=await ae(async()=>{const{pineconeService:g}=await import("./pineconeService-sEl9xxIl.js");return{pineconeService:g}},__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10])),i=n?await Pe(n):"",l=(a=n==null?void 0:n.allergens)!=null&&a.length?`CRITICAL SAFETY: STRICTLY AVOID [${n.allergens.join(", ")}].`:"",p=s.getCondensedMemory(),o=p!=null&&p.summary?`User Persona: "${p.summary}". Adjust flavors/difficulty accordingly.`:"";let u="";try{const g=await r.search(`${e.name} ${e.cuisine}`,"dishes",2);if(g.length>0){const m=g.map(y=>{var N;return(N=y.metadata)==null?void 0:N.name}).filter(Boolean).join(", ");u=m?`Reference style from: ${m}.`:""}}catch(g){console.warn("[enrichDishDetails] Vector search failed:",g)}const h=`Create personalized recipe for: ${e.name} (${e.description}). 
    ${i}. ${l}
    ${o}
    ${u}
    Return ingredients (with qty/category) and instructions. 
    Use minimal tokens.`,c=await Te(h,$o,"enrich");return c?{...e,...c}:e}catch(s){return console.error("Enrich Error:",s),e}},as=async(e,n,a="1K",s,r)=>{try{const{contextManager:i}=await ae(async()=>{const{contextManager:m}=await import("./contextManagerService-B6eCq0LR.js");return{contextManager:m}},__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10])),l=s?await Pe(s):"",p=r?r.replace(/[{}"'`\\]/g,"").replace(/\n/g," ").slice(0,200):"",o=p?`Note: ${p}`:"",u=i.getCondensedMemory(),h=u!=null&&u.summary?`User goal: ${u.summary}.`:"";let c;if(e==="text")c=`Recipe for: "${n}". ${l} ${h} ${o}. Return JSON.`;else if(e==="pantry"&&typeof n=="string")c=`Ingredients: ${n}. ${l} ${h} ${o}. Minimal shopping. Return JSON.`;else if(e==="image"&&n instanceof File){const m=await Ka(n);c={parts:[{inlineData:{mimeType:n.type,data:m}},{text:`Analyze dish. ${h} Return recipe JSON.`}]}}else return null;const g=await Te(c,Ja,"feed");return g?{...g,id:`imp_${Date.now()}`,image:`https://picsum.photos/400/400?random=${Math.floor(Math.random()*100)}`,allergens:[]}:null}catch(i){return console.error("Analysis Error:",i),null}},ss=async(e,n)=>{try{const{contextManager:a}=await ae(async()=>{const{contextManager:d}=await import("./contextManagerService-B6eCq0LR.js");return{contextManager:d}},__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10])),{pineconeService:s}=await ae(async()=>{const{pineconeService:d}=await import("./pineconeService-sEl9xxIl.js");return{pineconeService:d}},__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10])),r=e.filter(d=>d.lunch||d.dinner);if(r.length===0)return null;const i=r.map(d=>{let f=`${d.day}:`;return d.lunch&&(f+=` Lunch- ${d.lunch.name} (${d.lunch.localName}).`),d.dinner&&(f+=` Dinner- ${d.dinner.name} (${d.dinner.localName}).`),f}).join(`
`),l=n?await Pe(n):"",p=l?`IMPORTANT SAFETY CONTEXT (Tell the Cook): ${l}`:"",o=await et(),u=n?await o.getRelevantSafetyContext(n.allergens,n.conditions):"No constraints provided.",h=a.getOptimizedContext("cook");let c="";try{const d=r.flatMap(f=>{var v,_;return[(v=f.lunch)==null?void 0:v.name,(_=f.dinner)==null?void 0:_.name]}).filter(Boolean);if(d.length>0){const f=d.slice(0,3).join(" ")+" prep instructions soaking marinating",_=(await s.search(f,"dishes",3)).map(E=>{var j;return(j=E.metadata)==null?void 0:j.text}).filter(Boolean).slice(0,2);_.length>0&&(c=`
Prep Tips from Database:
${_.join(`
`)}`)}}catch(d){console.warn("[generateCookInstructions] Vector prep search failed:",d)}const m=`Create a WhatsApp message for the cook.
    DO NOT include any greeting (no "Namaste", "Sun", "Hey", etc). Start directly with the menu/instructions.

    INPUT DATA:
    Menu: ${i.slice(0,1e3)}
    User Constraints: ${p}
    Recent Context: ${h}
    Knowledge Graph Safety Rules:
    ${u}
    ${c}

    TASK:
    1.  **Analyze (Internal Monologue)**: 
        - Go through EACH dish vs EACH constraint.
        - **Consult Knowledge Graph**: Check if ingredients in the dish (e.g., Paneer) trigger User Allergens (e.g., Dairy). 
        - If conflict found -> Suggest Substitute from KG (e.g., Tofu) or plan specific warning ("Paneer mat dalna").
        - If User has Diabetes -> Check rich dishes -> Plan modification (e.g., "Use less oil/sugar").
    
    2.  **Generate Message**: Write the final Hinglish WhatsApp message based on your analysis.

    OUTPUT FORMAT (JSON):
    {
      "reasoning": "Step-by-step analysis using Knowledge Graph lookup...",
      "whatsapp_message": "The final clean message for the cook"
    }`,y={type:O.OBJECT,properties:{reasoning:{type:O.STRING},whatsapp_message:{type:O.STRING}}},N=await Te(m,y,"cook");return N!=null&&N.reasoning&&console.log("[AI Reasoning]:",N.reasoning),(N==null?void 0:N.whatsapp_message)||null}catch(a){return console.error("Cook Instruction Error:",a),null}},rs=async e=>(console.warn("TTS is disabled in this version."),null),Rt=async e=>{var n,a,s;try{const{pineconeService:r}=await ae(async()=>{const{pineconeService:d}=await import("./pineconeService-sEl9xxIl.js");return{pineconeService:d}},__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10])),i=await Ka(e),l=`Analyze this health/medical/allergy report image and extract dietary-relevant information.

EXTRACT (as JSON):
{
  "allergies": ["list of food allergies"],
  "conditions": ["list of medical conditions"],
  "avoid_keywords": ["general foods/categories to avoid based on report"],
  "notes": "any other recommendations"
}

If not a health report: return { "error": "Unable to analyze" }`,p={type:O.OBJECT,properties:{allergies:{type:O.ARRAY,items:{type:O.STRING}},conditions:{type:O.ARRAY,items:{type:O.STRING}},avoid_keywords:{type:O.ARRAY,items:{type:O.STRING}},notes:{type:O.STRING},error:{type:O.STRING}}},o=await Te({contents:[{parts:[{inlineData:{mimeType:e.type,data:i}},{text:l}]}]},p,"analyze");if(o!=null&&o.error)return"Unable to analyze report. Please try uploading a clearer image.";let u=[];try{const d=[...(o==null?void 0:o.conditions)||[],...(o==null?void 0:o.avoid_keywords)||[]];if(d.length>0){const f=d.join(" ")+" ingredients avoid diet restrictions";console.log(`[analyzeHealthReport] RAG Query: "${f}"`),u=(await r.search(f,"knowledge_graph",5)).filter(_=>_.score&&_.score>.7).map(_=>{var E,j;return((E=_.metadata)==null?void 0:E.name)||((j=_.metadata)==null?void 0:j.text)}).filter(Boolean),console.log(`[analyzeHealthReport] RAG Mapped ${u.length} ingredients:`,u)}}catch(d){console.warn("[analyzeHealthReport] RAG mapping failed:",d)}const h=((n=o==null?void 0:o.allergies)==null?void 0:n.length)>0?`- Allergies: ${o.allergies.join(", ")}`:"",c=((a=o==null?void 0:o.conditions)==null?void 0:a.length)>0?`- Conditions: ${o.conditions.join(", ")}`:"",g=((s=o==null?void 0:o.avoid_keywords)==null?void 0:s.length)>0?`- Avoid: ${o.avoid_keywords.join(", ")}`:"",m=u.length>0?`- Specific Ingredients to Exclude (Auto-Mapped): ${u.join(", ")}`:"",y=o!=null&&o.notes?`- Notes: ${o.notes}`:"";return[h,c,g,m,y].filter(Boolean).join(`
`)||"Unable to analyze report. Please try uploading a clearer image."}catch(r){return console.error("Health Report Analysis Error:",r),"Error analyzing report. Please try again."}},is=Object.freeze(Object.defineProperty({__proto__:null,LIGHT_DISH_SCHEMA:Ja,METADATA_DISH_SCHEMA:Xa,analyzeAndGenerateDish:as,analyzeHealthReport:Rt,buildRecipePrompt:At,buildSeededRecipePrompt:Qa,cacheGeneratedDishes:qa,enrichDishDetails:ns,generateCookAudio:rs,generateCookInstructions:ss,generateEmbedding:zo,generateNewDishes:Dt,generateNewDishesProgressive:ts,getCachedDishes:Ya,getConstrainedContext:Tt,isValidDish:Ct,prefetchDishes:es,secureGenerate:Te,seedRecipesToFirebase:Ho},Symbol.toStringTag,{value:"Module"})),Yo=[{id:"veg-paneer-tikka",name:"Paneer Tikka",localName:"पनीर टिक्का",description:"Grilled cottage cheese marinated in spices",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=1",tags:["Vegetarian","High-Protein"],allergens:[$.Dairy],macros:{calories:320,protein:18,carbs:12,fat:22},ingredients:[{name:"Paneer",quantity:"250g",category:"Dairy"}],instructions:[],healthTags:["High-Protein","Low-Carb"]},{id:"veg-dal-tadka",name:"Dal Tadka",localName:"दाल तड़का",description:"Yellow lentils tempered with cumin and garlic",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=2",tags:["Vegetarian","Vegan","Comfort-Food"],allergens:[],macros:{calories:180,protein:12,carbs:28,fat:4},ingredients:[{name:"Yellow Lentils",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["High-Fiber","Heart-Healthy","Diabetic-Friendly"]},{id:"veg-palak-paneer",name:"Palak Paneer",localName:"पालक पनीर",description:"Cottage cheese in creamy spinach gravy",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=3",tags:["Vegetarian","Iron-Rich"],allergens:[$.Dairy],macros:{calories:280,protein:16,carbs:15,fat:18},ingredients:[{name:"Spinach",quantity:"2 cups",category:"Produce"}],instructions:[],healthTags:["Iron-Rich","High-Protein"]},{id:"veg-chole",name:"Chole",localName:"छोले",description:"Spiced chickpea curry",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=6",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:220,protein:10,carbs:35,fat:6},ingredients:[{name:"Chickpeas",quantity:"2 cups",category:"Pantry"}],instructions:[],healthTags:["High-Fiber","Heart-Healthy"]},{id:"veg-rajma",name:"Rajma",localName:"राजमा",description:"Red kidney beans in thick tomato gravy",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=7",tags:["Vegetarian","Vegan","Comfort-Food"],allergens:[],macros:{calories:240,protein:12,carbs:38,fat:5},ingredients:[{name:"Kidney Beans",quantity:"2 cups",category:"Pantry"}],instructions:[],healthTags:["High-Fiber","High-Protein"]},{id:"veg-aloo-gobi",name:"Aloo Gobi",localName:"आलू गोभी",description:"Potato and cauliflower dry curry",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=8",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:180,protein:4,carbs:28,fat:7},ingredients:[{name:"Potato",quantity:"2 medium",category:"Produce"}],instructions:[],healthTags:["Gluten-Free"]},{id:"veg-bhindi-masala",name:"Bhindi Masala",localName:"भिंडी मसाला",description:"Spiced okra stir-fry",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=9",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:120,protein:3,carbs:15,fat:6},ingredients:[{name:"Okra",quantity:"250g",category:"Produce"}],instructions:[],healthTags:["Low-Carb","Diabetic-Friendly"]},{id:"veg-kadhi-pakora",name:"Kadhi Pakora",localName:"कढ़ी पकोड़ा",description:"Yogurt-based curry with fritters",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=10",tags:["Vegetarian","Comfort-Food"],allergens:[$.Dairy,$.Gluten],macros:{calories:280,protein:8,carbs:30,fat:14},ingredients:[{name:"Yogurt",quantity:"2 cups",category:"Dairy"}],instructions:[],healthTags:[]},{id:"veg-masala-dosa",name:"Masala Dosa",localName:"मसाला डोसा",description:"Crispy rice crepe with spiced potato filling",cuisine:"South Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=11",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:250,protein:6,carbs:40,fat:8},ingredients:[{name:"Dosa Batter",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["Gluten-Free"]},{id:"veg-sambar",name:"Sambar",localName:"सांभर",description:"Lentil stew with vegetables",cuisine:"South Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=12",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:150,protein:8,carbs:25,fat:3},ingredients:[{name:"Toor Dal",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["High-Fiber","Diabetic-Friendly"]},{id:"veg-idli",name:"Idli",localName:"इडली",description:"Steamed rice cakes",cuisine:"South Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=13",tags:["Vegetarian","Vegan","Light"],allergens:[],macros:{calories:80,protein:2,carbs:15,fat:.5},ingredients:[{name:"Idli Batter",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["Low-Fat","Gluten-Free","Diabetic-Friendly"]},{id:"veg-rasam",name:"Rasam",localName:"रसम",description:"Tangy tomato-tamarind soup",cuisine:"South Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=14",tags:["Vegetarian","Vegan","Light"],allergens:[],macros:{calories:60,protein:2,carbs:10,fat:1},ingredients:[{name:"Tomato",quantity:"2 medium",category:"Produce"}],instructions:[],healthTags:["Low-Calorie","Heart-Healthy"]},{id:"veg-upma",name:"Upma",localName:"उपमा",description:"Savory semolina breakfast",cuisine:"South Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=15",tags:["Vegetarian"],allergens:[$.Gluten],macros:{calories:200,protein:5,carbs:35,fat:5},ingredients:[{name:"Semolina",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:[]},{id:"vegan-chana-masala",name:"Chana Masala",localName:"चना मसाला",description:"Spicy chickpeas in tomato sauce",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=16",tags:["Vegetarian","Vegan","High-Protein"],allergens:[],macros:{calories:210,protein:11,carbs:32,fat:5},ingredients:[{name:"Chickpeas",quantity:"2 cups",category:"Pantry"}],instructions:[],healthTags:["High-Fiber","Heart-Healthy","Diabetic-Friendly"]},{id:"vegan-baingan-bharta",name:"Baingan Bharta",localName:"बैंगन भर्ता",description:"Smoky mashed eggplant",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=17",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:130,protein:3,carbs:18,fat:6},ingredients:[{name:"Eggplant",quantity:"1 large",category:"Produce"}],instructions:[],healthTags:["Low-Carb","Keto"]},{id:"vegan-aloo-methi",name:"Aloo Methi",localName:"आलू मेथी",description:"Potatoes with fenugreek leaves",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=18",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:160,protein:4,carbs:25,fat:6},ingredients:[{name:"Fenugreek Leaves",quantity:"1 bunch",category:"Produce"}],instructions:[],healthTags:["Diabetic-Friendly"]},{id:"keto-paneer-bhurji",name:"Paneer Bhurji",localName:"पनीर भुर्जी",description:"Scrambled cottage cheese with spices",cuisine:"North Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=19",tags:["Vegetarian","High-Protein","Keto"],allergens:[$.Dairy],macros:{calories:280,protein:20,carbs:6,fat:20},ingredients:[{name:"Paneer",quantity:"200g",category:"Dairy"}],instructions:[],healthTags:["High-Protein","Low-Carb","Keto"]},{id:"keto-cauliflower-rice",name:"Cauliflower Rice",localName:"गोभी चावल",description:"Low-carb rice alternative",cuisine:"Continental",type:"Dinner",image:"https://picsum.photos/400/400?random=20",tags:["Vegetarian","Vegan","Keto"],allergens:[],macros:{calories:60,protein:3,carbs:8,fat:2},ingredients:[{name:"Cauliflower",quantity:"1 head",category:"Produce"}],instructions:[],healthTags:["Low-Carb","Keto","Diabetic-Friendly"]},{id:"keto-egg-omelette",name:"Masala Omelette",localName:"मसाला ऑमलेट",description:"Spiced Indian-style omelette",cuisine:"Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=21",tags:["Non-Veg","High-Protein","Keto"],allergens:[$.Eggs],macros:{calories:220,protein:14,carbs:2,fat:18},ingredients:[{name:"Eggs",quantity:"3",category:"Protein"}],instructions:[],healthTags:["High-Protein","Low-Carb","Keto"]},{id:"nonveg-butter-chicken",name:"Butter Chicken",localName:"बटर चिकन",description:"Creamy tomato-based chicken curry",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=4",tags:["Non-Veg","Comfort-Food"],allergens:[$.Dairy],macros:{calories:420,protein:32,carbs:18,fat:26},ingredients:[{name:"Chicken Breast",quantity:"500g",category:"Protein"}],instructions:[],healthTags:["High-Protein"]},{id:"nonveg-fish-curry",name:"Fish Curry",localName:"मछली करी",description:"Coastal-style fish in coconut gravy",cuisine:"South Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=5",tags:["Non-Veg","Omega-3"],allergens:[],macros:{calories:250,protein:28,carbs:12,fat:10},ingredients:[{name:"Fish Fillet",quantity:"400g",category:"Protein"}],instructions:[],healthTags:["Heart-Healthy","High-Protein"]},{id:"nonveg-chicken-tikka",name:"Chicken Tikka",localName:"चिकन टिक्का",description:"Grilled marinated chicken chunks",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=22",tags:["Non-Veg","High-Protein"],allergens:[$.Dairy],macros:{calories:280,protein:35,carbs:5,fat:14},ingredients:[{name:"Chicken",quantity:"500g",category:"Protein"}],instructions:[],healthTags:["High-Protein","Low-Carb","Keto"]},{id:"nonveg-keema-matar",name:"Keema Matar",localName:"कीमा मटर",description:"Minced meat with green peas",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=23",tags:["Non-Veg"],allergens:[],macros:{calories:320,protein:28,carbs:15,fat:18},ingredients:[{name:"Mutton Mince",quantity:"400g",category:"Protein"}],instructions:[],healthTags:["High-Protein"]},{id:"nonveg-egg-curry",name:"Egg Curry",localName:"अंडा करी",description:"Boiled eggs in spiced onion-tomato gravy",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=24",tags:["Non-Veg"],allergens:[$.Eggs],macros:{calories:240,protein:16,carbs:12,fat:16},ingredients:[{name:"Eggs",quantity:"4",category:"Protein"}],instructions:[],healthTags:["High-Protein"]},{id:"nonveg-prawn-masala",name:"Prawn Masala",localName:"प्रॉन मसाला",description:"Spicy prawns in rich gravy",cuisine:"Coastal",type:"Dinner",image:"https://picsum.photos/400/400?random=25",tags:["Non-Veg","Seafood"],allergens:[$.Shellfish],macros:{calories:220,protein:25,carbs:10,fat:10},ingredients:[{name:"Prawns",quantity:"300g",category:"Protein"}],instructions:[],healthTags:["High-Protein","Low-Carb"]},{id:"nonveg-tandoori-chicken",name:"Tandoori Chicken",localName:"तंदूरी चिकन",description:"Yogurt-marinated grilled chicken",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=26",tags:["Non-Veg","High-Protein"],allergens:[$.Dairy],macros:{calories:260,protein:32,carbs:6,fat:12},ingredients:[{name:"Chicken Legs",quantity:"500g",category:"Protein"}],instructions:[],healthTags:["High-Protein","Low-Carb","Keto"]},{id:"continental-pasta",name:"Pasta Arrabiata",localName:"पास्ता",description:"Spicy tomato pasta",cuisine:"Italian",type:"Dinner",image:"https://picsum.photos/400/400?random=27",tags:["Vegetarian","Vegan"],allergens:[$.Gluten],macros:{calories:380,protein:12,carbs:65,fat:8},ingredients:[{name:"Penne Pasta",quantity:"200g",category:"Pantry"}],instructions:[],healthTags:[]},{id:"continental-stir-fry",name:"Veggie Stir Fry",localName:"स्टर फ्राई",description:"Asian-style mixed vegetables",cuisine:"Asian",type:"Dinner",image:"https://picsum.photos/400/400?random=28",tags:["Vegetarian","Vegan","Quick"],allergens:[$.Soy],macros:{calories:150,protein:5,carbs:20,fat:6},ingredients:[{name:"Mixed Vegetables",quantity:"2 cups",category:"Produce"}],instructions:[],healthTags:["Low-Calorie","Diabetic-Friendly"]},{id:"continental-fried-rice",name:"Vegetable Fried Rice",localName:"फ्राइड राइस",description:"Wok-tossed rice with vegetables",cuisine:"Chinese",type:"Lunch",image:"https://picsum.photos/400/400?random=29",tags:["Vegetarian","Vegan"],allergens:[$.Soy],macros:{calories:320,protein:8,carbs:55,fat:8},ingredients:[{name:"Cooked Rice",quantity:"2 cups",category:"Pantry"}],instructions:[],healthTags:[]},{id:"continental-salad",name:"Greek Salad",localName:"ग्रीक सलाद",description:"Fresh vegetables with feta cheese",cuisine:"Mediterranean",type:"Lunch",image:"https://picsum.photos/400/400?random=30",tags:["Vegetarian","Light","Fresh"],allergens:[$.Dairy],macros:{calories:180,protein:8,carbs:12,fat:12},ingredients:[{name:"Cucumber",quantity:"1 medium",category:"Produce"}],instructions:[],healthTags:["Low-Carb","Keto","Heart-Healthy"]},{id:"continental-soup",name:"Tomato Soup",localName:"टमाटर सूप",description:"Creamy classic tomato soup",cuisine:"Continental",type:"Dinner",image:"https://picsum.photos/400/400?random=31",tags:["Vegetarian","Comfort-Food"],allergens:[$.Dairy],macros:{calories:120,protein:3,carbs:18,fat:5},ingredients:[{name:"Tomatoes",quantity:"4 medium",category:"Produce"}],instructions:[],healthTags:["Low-Calorie"]},{id:"diabetic-moong-dal",name:"Moong Dal Cheela",localName:"मूंग दाल चीला",description:"Savory lentil pancakes",cuisine:"North Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=32",tags:["Vegetarian","Vegan","Light"],allergens:[],macros:{calories:140,protein:10,carbs:18,fat:3},ingredients:[{name:"Moong Dal",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["High-Protein","Diabetic-Friendly","Gluten-Free"]},{id:"diabetic-lauki-curry",name:"Lauki Sabzi",localName:"लौकी सब्जी",description:"Bottle gourd curry",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=33",tags:["Vegetarian","Vegan","Light"],allergens:[],macros:{calories:80,protein:2,carbs:12,fat:3},ingredients:[{name:"Bottle Gourd",quantity:"1 medium",category:"Produce"}],instructions:[],healthTags:["Low-Calorie","Diabetic-Friendly","Heart-Healthy"]},{id:"diabetic-karela",name:"Karela Fry",localName:"करेला फ्राई",description:"Crispy bitter gourd",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=34",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:100,protein:3,carbs:8,fat:7},ingredients:[{name:"Bitter Gourd",quantity:"2 medium",category:"Produce"}],instructions:[],healthTags:["Diabetic-Friendly","Low-Carb"]},{id:"snack-poha",name:"Poha",localName:"पोहा",description:"Flattened rice with peanuts",cuisine:"Central Indian",type:"Breakfast",image:"https://picsum.photos/400/400?random=35",tags:["Vegetarian","Vegan","Quick"],allergens:[$.Nuts],macros:{calories:180,protein:4,carbs:32,fat:5},ingredients:[{name:"Poha",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["Gluten-Free"]},{id:"snack-sprouts",name:"Sprouts Chaat",localName:"अंकुरित चाट",description:"Tangy sprouted lentil salad",cuisine:"Indian",type:"Snack",image:"https://picsum.photos/400/400?random=36",tags:["Vegetarian","Vegan","Light"],allergens:[],macros:{calories:120,protein:8,carbs:18,fat:2},ingredients:[{name:"Mixed Sprouts",quantity:"1 cup",category:"Produce"}],instructions:[],healthTags:["High-Fiber","Diabetic-Friendly"]},{id:"snack-dhokla",name:"Dhokla",localName:"ढोकला",description:"Steamed savory gram flour cake",cuisine:"Gujarati",type:"Snack",image:"https://picsum.photos/400/400?random=37",tags:["Vegetarian","Light"],allergens:[],macros:{calories:150,protein:6,carbs:20,fat:5},ingredients:[{name:"Besan",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["Gluten-Free","Low-Fat"]},{id:"pcos-quinoa-salad",name:"Quinoa Salad",localName:"क्विनोआ सलाद",description:"Protein-rich grain bowl",cuisine:"Continental",type:"Lunch",image:"https://picsum.photos/400/400?random=38",tags:["Vegetarian","Vegan","Superfood"],allergens:[],macros:{calories:220,protein:10,carbs:30,fat:7},ingredients:[{name:"Quinoa",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["High-Protein","PCOS-Friendly","Gluten-Free"]},{id:"pcos-dal-palak",name:"Dal Palak",localName:"दाल पालक",description:"Spinach lentils",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=39",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:170,protein:12,carbs:22,fat:4},ingredients:[{name:"Spinach",quantity:"2 cups",category:"Produce"}],instructions:[],healthTags:["High-Fiber","PCOS-Friendly","Iron-Rich"]},{id:"heart-oats-porridge",name:"Masala Oats",localName:"मसाला ओट्स",description:"Savory spiced oatmeal",cuisine:"Indian Fusion",type:"Breakfast",image:"https://picsum.photos/400/400?random=40",tags:["Vegetarian","Heart-Healthy"],allergens:[$.Gluten],macros:{calories:180,protein:7,carbs:30,fat:4},ingredients:[{name:"Rolled Oats",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["High-Fiber","Heart-Healthy","Diabetic-Friendly"]},{id:"heart-grilled-fish",name:"Grilled Fish",localName:"ग्रिल्ड फिश",description:"Lemon herb grilled fish",cuisine:"Continental",type:"Dinner",image:"https://picsum.photos/400/400?random=41",tags:["Non-Veg","Light"],allergens:[],macros:{calories:200,protein:30,carbs:2,fat:8},ingredients:[{name:"Fish Fillet",quantity:"200g",category:"Protein"}],instructions:[],healthTags:["High-Protein","Heart-Healthy","Low-Carb"]},{id:"variety-khichdi",name:"Dal Khichdi",localName:"दाल खिचड़ी",description:"Comfort rice and lentils",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=42",tags:["Vegetarian","Vegan","Comfort-Food"],allergens:[],macros:{calories:280,protein:10,carbs:45,fat:6},ingredients:[{name:"Rice",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["Easy-to-Digest","Gluten-Free"]},{id:"variety-pulao",name:"Vegetable Pulao",localName:"वेज पुलाव",description:"Fragrant rice with vegetables",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=43",tags:["Vegetarian","Vegan"],allergens:[],macros:{calories:300,protein:6,carbs:50,fat:8},ingredients:[{name:"Basmati Rice",quantity:"1.5 cups",category:"Pantry"}],instructions:[],healthTags:["Gluten-Free"]},{id:"variety-biryani-veg",name:"Vegetable Biryani",localName:"वेज बिरयानी",description:"Layered spiced rice with vegetables",cuisine:"Hyderabadi",type:"Lunch",image:"https://picsum.photos/400/400?random=44",tags:["Vegetarian"],allergens:[$.Dairy],macros:{calories:380,protein:8,carbs:55,fat:14},ingredients:[{name:"Basmati Rice",quantity:"2 cups",category:"Pantry"}],instructions:[],healthTags:[]},{id:"variety-thali",name:"Mini Thali",localName:"थाली",description:"Complete balanced meal plate",cuisine:"Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=45",tags:["Vegetarian","Balanced"],allergens:[$.Dairy,$.Gluten],macros:{calories:550,protein:18,carbs:75,fat:18},ingredients:[{name:"Rice",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:[]},{id:"variety-paratha",name:"Aloo Paratha",localName:"आलू पराठा",description:"Stuffed potato flatbread",cuisine:"Punjabi",type:"Breakfast",image:"https://picsum.photos/400/400?random=46",tags:["Vegetarian","Comfort-Food"],allergens:[$.Gluten,$.Dairy],macros:{calories:320,protein:8,carbs:45,fat:12},ingredients:[{name:"Whole Wheat Flour",quantity:"2 cups",category:"Pantry"}],instructions:[],healthTags:[]},{id:"variety-roti-sabzi",name:"Roti with Sabzi",localName:"रोटी सब्जी",description:"Whole wheat bread with seasonal vegetables",cuisine:"North Indian",type:"Dinner",image:"https://picsum.photos/400/400?random=47",tags:["Vegetarian","Vegan","Traditional"],allergens:[$.Gluten],macros:{calories:250,protein:8,carbs:40,fat:7},ingredients:[{name:"Whole Wheat Flour",quantity:"1 cup",category:"Pantry"}],instructions:[],healthTags:["High-Fiber"]},{id:"variety-dahi-chawal",name:"Dahi Chawal",localName:"दही चावल",description:"Cooling curd rice",cuisine:"South Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=48",tags:["Vegetarian","Light","Cooling"],allergens:[$.Dairy],macros:{calories:220,protein:6,carbs:38,fat:5},ingredients:[{name:"Curd",quantity:"1 cup",category:"Dairy"}],instructions:[],healthTags:["Easy-to-Digest","Gluten-Free"]},{id:"variety-pav-bhaji",name:"Pav Bhaji",localName:"पाव भाजी",description:"Spiced mashed vegetables with bread",cuisine:"Mumbai",type:"Dinner",image:"https://picsum.photos/400/400?random=49",tags:["Vegetarian","Street-Food"],allergens:[$.Gluten,$.Dairy],macros:{calories:400,protein:10,carbs:55,fat:16},ingredients:[{name:"Mixed Vegetables",quantity:"2 cups",category:"Produce"}],instructions:[],healthTags:[]},{id:"variety-mix-veg",name:"Mix Veg Curry",localName:"मिक्स वेज",description:"Seasonal vegetables in mild gravy",cuisine:"North Indian",type:"Lunch",image:"https://picsum.photos/400/400?random=50",tags:["Vegetarian","Vegan","Balanced"],allergens:[],macros:{calories:180,protein:6,carbs:22,fat:8},ingredients:[{name:"Mixed Vegetables",quantity:"3 cups",category:"Produce"}],instructions:[],healthTags:["High-Fiber","Heart-Healthy"]}];function Ko(e){return Yo.filter(n=>!(e.allergens.some(s=>n.allergens.includes(s))||e.dietaryPreference==="Vegetarian"&&n.tags.includes("Non-Veg")||e.dietaryPreference==="Vegan"&&(n.tags.includes("Non-Veg")||n.allergens.includes($.Dairy))||e.cuisines&&e.cuisines.length>0&&!e.cuisines.some(r=>n.cuisine.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes(n.cuisine.toLowerCase()))))}const ea=e=>{let n;const a=new Set,s=(u,h)=>{const c=typeof u=="function"?u(n):u;if(!Object.is(c,n)){const g=n;n=h??(typeof c!="object"||c===null)?c:Object.assign({},n,c),a.forEach(m=>m(n,g))}},r=()=>n,p={setState:s,getState:r,getInitialState:()=>o,subscribe:u=>(a.add(u),()=>a.delete(u))},o=n=e(s,r,p);return p},Wo=(e=>e?ea(e):ea),Jo=e=>e;function Xo(e,n=Jo){const a=ee.useSyncExternalStore(e.subscribe,ee.useCallback(()=>n(e.getState()),[e,n]),ee.useCallback(()=>n(e.getInitialState()),[e,n]));return ee.useDebugValue(a),a}const ta=e=>{const n=Wo(e),a=s=>Xo(n,s);return Object.assign(a,n),a},Zo=(e=>e?ta(e):ta);function os(e,n){let a;try{a=e()}catch{return}return{getItem:r=>{var i;const l=o=>o===null?null:JSON.parse(o,void 0),p=(i=a.getItem(r))!=null?i:null;return p instanceof Promise?p.then(l):l(p)},setItem:(r,i)=>a.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>a.removeItem(r)}}const mt=e=>n=>{try{const a=e(n);return a instanceof Promise?a:{then(s){return mt(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return mt(s)(a)}}}},Qo=(e,n)=>(a,s,r)=>{let i={storage:os(()=>localStorage),partialize:d=>d,version:0,merge:(d,f)=>({...f,...d}),...n},l=!1,p=0;const o=new Set,u=new Set;let h=i.storage;if(!h)return e((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...d)},s,r);const c=()=>{const d=i.partialize({...s()});return h.setItem(i.name,{state:d,version:i.version})},g=r.setState;r.setState=(d,f)=>(g(d,f),c());const m=e((...d)=>(a(...d),c()),s,r);r.getInitialState=()=>m;let y;const N=()=>{var d,f;if(!h)return;const v=++p;l=!1,o.forEach(E=>{var j;return E((j=s())!=null?j:m)});const _=((f=i.onRehydrateStorage)==null?void 0:f.call(i,(d=s())!=null?d:m))||void 0;return mt(h.getItem.bind(h))(i.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate){const j=i.migrate(E.state,E.version);return j instanceof Promise?j.then(H=>[!0,H]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var j;if(v!==p)return;const[H,J]=E;if(y=i.merge(J,(j=s())!=null?j:m),a(y,!0),H)return c()}).then(()=>{v===p&&(_==null||_(y,void 0),y=s(),l=!0,u.forEach(E=>E(y)))}).catch(E=>{v===p&&(_==null||_(void 0,E))})};return r.persist={setOptions:d=>{i={...i,...d},d.storage&&(h=d.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>N(),hasHydrated:()=>l,onHydrate:d=>(o.add(d),()=>{o.delete(d)}),onFinishHydration:d=>(u.add(d),()=>{u.delete(d)})},i.skipHydration||N(),y||m},el=Qo,tl=Zo()(el((e,n)=>({currentUser:null,isSyncing:!1,showAuth:!1,setCurrentUser:a=>e({currentUser:a}),setIsSyncing:a=>e({isSyncing:a}),setShowAuth:a=>e({showAuth:a}),view:Y.Onboarding,setView:a=>e({view:a}),userProfile:null,setUserProfile:a=>e({userProfile:a}),availableDishes:[],approvedDishes:[],fetchingMore:!1,isSeeding:!1,setAvailableDishes:a=>e(s=>({availableDishes:typeof a=="function"?a(s.availableDishes):a})),setApprovedDishes:a=>e(s=>({approvedDishes:typeof a=="function"?a(s.approvedDishes):a})),setFetchingMore:a=>e({fetchingMore:a}),setIsSeeding:a=>e({isSeeding:a}),addApprovedDish:a=>e(s=>({approvedDishes:[...s.approvedDishes,a]})),removeDish:a=>e(s=>({approvedDishes:s.approvedDishes.filter(r=>r.id!==a)})),weeklyPlan:[],setWeeklyPlan:a=>e({weeklyPlan:a}),pantryStock:[],setPantryStock:a=>e(s=>({pantryStock:typeof a=="function"?a(s.pantryStock):a})),togglePantryItem:a=>e(s=>{const r=s.pantryStock.find(i=>i.name.toLowerCase()===a.toLowerCase());return r?{pantryStock:ca(s.pantryStock,r.id)}:{pantryStock:da(s.pantryStock,{name:a})}}),clearPantry:()=>e({pantryStock:[]}),modifyingDish:null,showReceipt:!1,initialImportTab:null,setModifyingDish:a=>e({modifyingDish:a}),setShowReceipt:a=>e({showReceipt:a}),setInitialImportTab:a=>e({initialImportTab:a}),hydrateFromCloud:a=>e({userProfile:a.profile,approvedDishes:a.approvedDishes,weeklyPlan:a.weeklyPlan,pantryStock:a.pantryStock,view:Y.Swipe}),getAppState:()=>{const a=n();return{profile:a.userProfile,approvedDishes:a.approvedDishes,weeklyPlan:a.weeklyPlan,pantryStock:a.pantryStock}}}),{name:Ki.PROFILE,storage:os(()=>localStorage),partialize:e=>({userProfile:e.userProfile,approvedDishes:e.approvedDishes.slice(-50),availableDishes:e.availableDishes.slice(0,10),weeklyPlan:e.weeklyPlan,pantryStock:e.pantryStock}),onRehydrateStorage:()=>e=>{console.log("[useStore] Rehydrated from localStorage"),e&&console.warn("[Sync Checks] Store overwritten by Tab Sync/Reload. Check for lost data if editing.")}})),ve=[{icon:Os,title:"The Sous-Chef",desc:"I'm not just a recipe book. I understand your taste, your health, and your pantry."},{icon:Nt,title:"The Swipe",desc:"Swipe right on dishes you love. I'll remember every preference."},{icon:pa,title:"The Plan",desc:"I'll curate your week and build your grocery list instantly."}],nl=({onComplete:e})=>{const[n,a]=b.useState(0),s=()=>{n<ve.length-1?a(n+1):e()},r=ve[n].icon;return t.jsxs("div",{className:"h-screen w-full bg-[#1A4D2E] text-[#F8F5F2] flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}}),t.jsxs("div",{className:"z-10 w-full max-w-sm",children:[t.jsx(G.div,{initial:{scale:.8,opacity:0,rotate:-10},animate:{scale:1,opacity:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"w-24 h-24 bg-[#F8F5F2]/10 rounded-full flex items-center justify-center mb-12 mx-auto border border-[#F8F5F2]/20 backdrop-blur-md",children:t.jsx(r,{size:40,className:"text-[#F9C74F]"})},n),t.jsx("div",{className:"text-center h-40",children:t.jsx(ge,{mode:"wait",children:t.jsxs(G.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.4},children:[t.jsx("h2",{className:"font-serif text-4xl mb-4 text-[#F8F5F2]",children:ve[n].title}),t.jsx("p",{className:"font-sans text-lg opacity-70 leading-relaxed font-light",children:ve[n].desc})]},n)})}),t.jsx("div",{className:"flex justify-center gap-2 mb-12",children:ve.map((i,l)=>t.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${l===n?"w-8 bg-[#F9C74F]":"w-2 bg-[#F8F5F2]/20"}`},l))}),t.jsxs(G.button,{onClick:s,whileTap:{scale:.95},className:"w-full bg-[#F8F5F2] text-[#1A4D2E] py-4 rounded-full font-mono text-sm uppercase tracking-widest font-bold flex items-center justify-center gap-2 shadow-2xl hover:bg-white transition-colors",children:[n===ve.length-1?"Enter Kitchen":"Continue"," ",t.jsx(ft,{size:16})]})]})]})},al=({profile:e,onProfileChange:n,onNext:a})=>t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-6",children:[t.jsx("div",{className:"bg-brand-100 p-4 rounded-full mb-4",children:t.jsx(Ie,{size:48,className:"text-brand-600"})}),t.jsxs("h2",{className:"text-3xl font-display font-black text-ink",children:["Hi, I'm ",t.jsx("span",{className:"text-brand-500",children:"TadkaSync"}),"."]}),t.jsx("p",{className:"text-ink-light max-w-xs leading-relaxed",children:"I'm your new AI kitchen assistant. I'll help you plan meals, track your pantry, and prevent food waste."}),t.jsxs("div",{className:"w-full max-w-xs pt-4",children:[t.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-ink-light mb-2",children:"What should I call you?"}),t.jsx("input",{type:"text",value:e.name,onChange:s=>n({...e,name:s.target.value}),placeholder:"Enter your name...",className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 font-medium text-ink focus:border-brand-500 focus:bg-white transition-all outline-none text-center text-lg",autoFocus:!0})]})]}),t.jsx("div",{className:"pt-8",children:t.jsxs("button",{onClick:a,disabled:!e.name||e.name.trim().length<2,className:"w-full bg-ink text-white py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-black transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Let's Get Cooking ",t.jsx(ft,{size:16})]})})]}),sl=({profile:e,onProfileChange:n,onNext:a})=>{const s=r=>{n({...e,allergens:e.allergens.includes(r)?e.allergens.filter(i=>i!==r):[...e.allergens,r]})};return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"font-serif text-3xl text-[#1A4D2E] mb-2",children:"Restricted Items?"}),t.jsx("p",{className:"text-[#1A4D2E]/60 font-sans text-sm",children:"We'll filter out recipes containing these ingredients entirely."})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8 flex-1 content-start",children:Object.values($).map(r=>{const i=e.allergens.includes(r);return t.jsxs(G.button,{onClick:()=>s(r),whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                                relative p-4 rounded-xl text-left transition-all duration-200 border
                                ${i?"bg-[#1A4D2E] text-[#F8F5F2] border-[#1A4D2E] shadow-lg shadow-[#1A4D2E]/20":"bg-white text-[#1A4D2E] border-[#1A4D2E]/10 hover:border-[#1A4D2E]/30 hover:shadow-md"}
                            `,children:[t.jsx("span",{className:"font-serif font-bold text-lg block",children:r}),i&&t.jsx("div",{className:"absolute top-4 right-4 bg-[#F9C74F] text-[#1A4D2E] rounded-full p-1",children:t.jsx(xt,{size:12,strokeWidth:3})})]},r)})}),t.jsxs("div",{className:"mt-auto space-y-4",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("textarea",{className:"w-full bg-[#F8F5F2] border border-[#1A4D2E]/10 rounded-xl p-4 font-mono text-xs h-24 resize-none focus:outline-none focus:border-[#1A4D2E] focus:ring-1 focus:ring-[#1A4D2E] transition-all",placeholder:"Any specifics? (e.g. 'Severe Peanut Allergy', 'No raw tomatoes')...",value:e.allergenNotes,onChange:r=>n({...e,allergenNotes:r.target.value})}),t.jsx("div",{className:"absolute top-0 right-0 p-2 pointer-events-none opacity-50",children:t.jsx(cs,{size:14,className:"text-[#1A4D2E]"})})]}),t.jsx("button",{onClick:a,className:"w-full bg-[#1A4D2E] text-[#F8F5F2] py-4 rounded-full font-mono text-sm uppercase tracking-widest font-bold shadow-xl hover:bg-[#143d24] hover:shadow-2xl hover:scale-[1.01] transition-all",children:"Confirm & Next"})]})]})},rl=({profile:e,onProfileChange:n,onNext:a,onBack:s})=>{const[r,i]=b.useState(!1),[l,p]=b.useState(null),o=h=>{n({...e,conditions:e.conditions.includes(h)?e.conditions.filter(c=>c!==h):[...e.conditions,h]})},u=async h=>{var g;const c=(g=h.target.files)==null?void 0:g[0];if(c){if(c.size>5*1024*1024){p("File too large (Max 5MB)");return}p(null),i(!0);const m=await Rt(c);n({...e,healthReportSummary:m}),i(!1)}};return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:"mb-6 flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx("h2",{className:"font-serif text-3xl text-[#1A4D2E] mb-2",children:"Health Priority"}),t.jsx("p",{className:"text-[#1A4D2E]/60 font-sans text-sm",children:"Select conditions to tailor your nutrition plan."})]})}),t.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6 flex-1 overflow-y-auto pr-2 no-scrollbar",children:Object.values(Ye).filter(h=>h!==Ye.None).map(h=>{const c=e.conditions.includes(h);return t.jsxs(G.button,{onClick:()=>o(h),whileHover:{scale:1.01,x:5},whileTap:{scale:.99},className:`
                                p-4 rounded-xl text-left transition-all duration-200 border flex justify-between items-center group
                                ${c?"bg-blue-50 border-blue-500 text-blue-900 shadow-md":"bg-white text-[#1A4D2E] border-[#1A4D2E]/10 hover:border-blue-200 hover:bg-blue-50/50"}
                            `,children:[t.jsx("span",{className:"font-medium text-lg",children:h}),t.jsx("div",{className:`
                                w-6 h-6 rounded-full flex items-center justify-center transition-colors
                                ${c?"bg-blue-500 text-white":"bg-gray-100 text-gray-300 group-hover:bg-blue-200"}
                            `,children:t.jsx(xt,{size:14,strokeWidth:3})})]},h)})}),t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"relative group",children:[r&&t.jsxs("div",{className:"absolute inset-0 bg-white/90 z-10 flex flex-col items-center justify-center rounded-xl backdrop-blur-sm",children:[t.jsx(fe,{className:"animate-spin mb-2 text-blue-600"}),t.jsx("span",{className:"font-mono text-[10px] uppercase text-blue-600 tracking-widest animate-pulse",children:"Reading Report..."})]}),e.healthReportSummary?t.jsxs("div",{className:"w-full bg-green-50 rounded-xl p-4 border border-green-200",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"font-bold text-xs uppercase text-green-800 flex items-center gap-1",children:[t.jsx(vr,{size:14})," Report Analyzed"]}),t.jsx("button",{onClick:()=>n({...e,healthReportSummary:""}),className:"text-[10px] uppercase tracking-widest text-green-800/60 hover:text-green-800 transition-colors",children:"Remove"})]}),t.jsx("textarea",{value:e.healthReportSummary,onChange:h=>n({...e,healthReportSummary:h.target.value}),className:"w-full bg-transparent font-mono text-xs text-green-900 focus:outline-none resize-none h-16"})]}):t.jsxs("label",{className:`
                            flex flex-col items-center justify-center w-full h-20 rounded-xl border border-dashed cursor-pointer transition-all
                            ${l?"border-red-500 bg-red-50":"border-[#1A4D2E]/20 bg-[#F8F5F2] hover:bg-white hover:border-blue-400"}
                        `,children:[t.jsxs("div",{className:"flex items-center gap-3 opacity-60 group-hover:opacity-100 transition-opacity",children:[t.jsx(ar,{size:20,className:l?"text-red-500":"text-[#1A4D2E]"}),t.jsx("span",{className:`font-mono text-xs uppercase ${l?"text-red-500":"text-[#1A4D2E]"}`,children:l||"Upload Lab Report (PDF/IMG)"})]}),t.jsx("input",{type:"file",className:"hidden",accept:"image/*,application/pdf",onChange:u})]})]})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:s,className:"w-14 h-14 rounded-full border border-[#1A4D2E]/10 flex items-center justify-center text-[#1A4D2E] hover:bg-gray-50 transition-colors",children:t.jsx(bt,{size:24})}),t.jsx("button",{onClick:a,className:"flex-1 bg-[#1A4D2E] text-[#F8F5F2] h-14 rounded-full font-mono text-sm uppercase tracking-widest font-bold shadow-xl hover:bg-[#143d24] hover:shadow-2xl hover:scale-[1.01] transition-all",children:"Continue"})]})]})},na=["North Indian","South Indian","Italian","Mexican","Thai","Chinese","Mediterranean","American"],il=({profile:e,onProfileChange:n,onNext:a,onBack:s})=>{var g;const[r,i]=b.useState(""),[l,p]=b.useState(""),o=m=>{n({...e,cuisines:e.cuisines.includes(m)?e.cuisines.filter(y=>y!==m):[...e.cuisines,m]})},u=()=>{r.trim()&&!e.cuisines.includes(r.trim())&&(n({...e,cuisines:[...e.cuisines,r.trim()]}),i(""))},h=()=>{l.trim()&&(n({...e,likedDishes:[...e.likedDishes||[],l.trim()]}),p(""))},c=m=>{n({...e,likedDishes:e.likedDishes.filter((y,N)=>N!==m)})};return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"font-serif text-3xl text-[#1A4D2E] mb-2",children:"Flavor Profile"}),t.jsx("p",{className:"text-[#1A4D2E]/60 font-sans text-sm",children:"What do you enjoy eating?"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-2 space-y-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-[#1A4D2E]/40 tracking-widest mb-3 block",children:"Popular Cuisines"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:na.map(m=>{const y=e.cuisines.includes(m);return t.jsx(G.button,{onClick:()=>o(m),whileHover:{scale:1.05},whileTap:{scale:.95},className:`
                                        px-4 py-2 rounded-full font-medium text-sm transition-all border
                                        ${y?"bg-[#F9C74F] text-[#1A4D2E] border-[#F9C74F] shadow-sm":"bg-white text-[#1A4D2E]/70 border-[#1A4D2E]/10 hover:border-[#F9C74F]/50"}
                                    `,children:m},m)})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-[#1A4D2E]/40 tracking-widest mb-2 block",children:"More Cuisines"}),t.jsxs("div",{className:"flex flex-row items-center gap-2 mb-3 w-full",children:[t.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value),placeholder:"Type & Enter (e.g. 'Lebanese')",className:"flex-1 bg-white border border-[#1A4D2E]/10 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#1A4D2E] focus:ring-1 focus:ring-[#1A4D2E] shadow-sm transition-all",onKeyDown:m=>m.key==="Enter"&&u()}),t.jsx("button",{onClick:u,disabled:!r.trim(),className:"bg-[#1A4D2E] text-white p-3 rounded-lg hover:bg-[#143d24] disabled:opacity-50 disabled:cursor-not-allowed shadow-md transition-all shrink-0",children:t.jsx(_e,{size:20})})]}),t.jsx("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:e.cuisines.filter(m=>!na.includes(m)).map(m=>t.jsxs(G.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-[#1A4D2E] text-[#F8F5F2] px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-2 shadow-sm",children:[m,t.jsx("button",{onClick:()=>o(m),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",children:t.jsx(he,{size:12})})]},m))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-[#1A4D2E]/40 tracking-widest mb-2 block",children:"Must-Haves (Favorites)"}),t.jsxs("div",{className:"flex flex-row items-center gap-2 mb-3 w-full",children:[t.jsx("input",{type:"text",value:l,onChange:m=>p(m.target.value),placeholder:"Type & Enter (e.g. 'Rajma')",className:"flex-1 bg-white border border-[#1A4D2E]/10 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#F9C74F] focus:ring-1 focus:ring-[#F9C74F] shadow-sm transition-all",onKeyDown:m=>m.key==="Enter"&&h()}),t.jsx("button",{onClick:h,disabled:!l.trim(),className:"bg-[#F9C74F] text-[#1A4D2E] p-3 rounded-lg hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-md transition-all shrink-0",children:t.jsx(ot,{size:20})})]}),t.jsx("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:(g=e.likedDishes)==null?void 0:g.map((m,y)=>t.jsxs(G.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"bg-[#F9C74F]/20 border border-[#F9C74F]/50 text-[#1A4D2E] px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-2 shadow-sm",children:[m,t.jsx("button",{onClick:()=>c(y),className:"hover:bg-[#1A4D2E]/10 rounded-full p-0.5 transition-colors",children:t.jsx(he,{size:12})})]},`${m}-${y}`))})]})]}),t.jsx("textarea",{className:"w-full bg-[#F8F5F2] border border-[#1A4D2E]/10 rounded-xl p-4 font-mono text-xs h-20 resize-none focus:outline-none focus:border-[#1A4D2E] transition-all",placeholder:"Any specific notes? (e.g. 'Love spicy food', 'No cilantro', 'Prefer creamy textures')...",value:e.cuisineNotes,onChange:m=>n({...e,cuisineNotes:m.target.value})})]}),t.jsxs("div",{className:"flex gap-4 mt-6",children:[t.jsx("button",{onClick:s,className:"w-14 h-14 rounded-full border border-[#1A4D2E]/10 flex items-center justify-center text-[#1A4D2E] hover:bg-gray-50 transition-colors",children:t.jsx(bt,{size:24})}),t.jsx("button",{onClick:a,className:"flex-1 bg-[#1A4D2E] text-[#F8F5F2] h-14 rounded-full font-mono text-sm uppercase tracking-widest font-bold shadow-xl hover:bg-[#143d24] hover:shadow-2xl hover:scale-[1.01] transition-all",children:"Almost Done"})]})]})},ol=["Vegetarian","Non-Vegetarian","Vegan","Any"],ll=({profile:e,onProfileChange:n,onFinish:a,onBack:s})=>{var i,l,p,o,u,h;const r=(c,g)=>{n({...e,biometrics:{...e.biometrics,[c]:g}})};return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"font-serif text-3xl text-[#1A4D2E] mb-2",children:"Final Calibration"}),t.jsx("p",{className:"text-[#1A4D2E]/60 font-sans text-sm",children:"We calculate your needs based on science."})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-2",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-[#1A4D2E]/40 tracking-widest mb-3 block",children:"Primary Diet"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:ol.map(c=>t.jsx("button",{onClick:()=>n({...e,dietaryPreference:c}),className:`
                                    py-3 rounded-lg font-bold uppercase text-[10px] transition-all border
                                    ${e.dietaryPreference===c?"bg-[#1A4D2E] text-[#F8F5F2] border-[#1A4D2E] shadow-lg":"bg-white text-[#1A4D2E] border-[#1A4D2E]/10 hover:border-[#1A4D2E]/30"}
                                `,children:c},c))})]}),t.jsxs("div",{className:"bg-white rounded-2xl border border-[#1A4D2E]/10 p-6 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6 opacity-50",children:[t.jsx(jt,{size:16}),t.jsx("span",{className:"font-mono text-xs uppercase tracking-widest font-bold",children:"Body Metrics"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 block mb-1",children:"Gender"}),t.jsxs("select",{value:(i=e.biometrics)==null?void 0:i.gender,onChange:c=>r("gender",c.target.value),className:"w-full bg-[#F8F5F2] rounded-md p-2 text-sm font-bold focus:outline-none",children:[t.jsx("option",{value:"Male",children:"Male"}),t.jsx("option",{value:"Female",children:"Female"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 block mb-1",children:"Age"}),t.jsx("input",{type:"number",value:(l=e.biometrics)==null?void 0:l.age,onChange:c=>r("age",parseInt(c.target.value)),className:"w-full bg-[#F8F5F2] rounded-md p-2 text-sm font-bold focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 block mb-1",children:"Weight (kg)"}),t.jsx("input",{type:"number",value:(p=e.biometrics)==null?void 0:p.weight,onChange:c=>r("weight",parseInt(c.target.value)),className:"w-full bg-[#F8F5F2] rounded-md p-2 text-sm font-bold focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 block mb-1",children:"Height (cm)"}),t.jsx("input",{type:"number",value:(o=e.biometrics)==null?void 0:o.height,onChange:c=>r("height",parseInt(c.target.value)),className:"w-full bg-[#F8F5F2] rounded-md p-2 text-sm font-bold focus:outline-none"})]})]})]}),t.jsxs("div",{className:"bg-[#F9C74F]/10 rounded-2xl p-6 border border-[#F9C74F]/20 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6 text-[#1A4D2E]",children:[t.jsx(Ui,{size:16}),t.jsx("span",{className:"font-mono text-xs uppercase tracking-widest font-bold",children:"Goals & Activity"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-[#1A4D2E]/50 block mb-1",children:"Activity Level"}),t.jsxs("select",{value:(u=e.biometrics)==null?void 0:u.activityLevel,onChange:c=>r("activityLevel",c.target.value),className:"w-full bg-white rounded-md p-2 text-sm font-bold text-[#1A4D2E] focus:outline-none",children:[t.jsx("option",{value:"Sedentary",children:"Sedentary (Desk Job)"}),t.jsx("option",{value:"Light",children:"Light (1-3 days/week)"}),t.jsx("option",{value:"Moderate",children:"Moderate (3-5 days/week)"}),t.jsx("option",{value:"Active",children:"Active (6-7 days/week)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] uppercase font-bold text-[#1A4D2E]/50 block mb-1",children:"Primary Goal"}),t.jsxs("select",{value:(h=e.biometrics)==null?void 0:h.goal,onChange:c=>r("goal",c.target.value),className:"w-full bg-white rounded-md p-2 text-sm font-bold text-[#1A4D2E] focus:outline-none",children:[t.jsx("option",{value:"Lose",children:"Weight Loss (-500 cal)"}),t.jsx("option",{value:"Maintain",children:"Maintenance"}),t.jsx("option",{value:"Gain",children:"Muscle Gain (+500 cal)"})]})]})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-[#1A4D2E]/10 flex items-center justify-between",children:[t.jsx("span",{className:"font-mono text-xs uppercase text-[#1A4D2E]/60",children:"Daily Target"}),t.jsxs("span",{className:"font-serif text-3xl font-bold text-[#1A4D2E]",children:[e.dailyTargets.calories," ",t.jsx("span",{className:"text-sm font-sans font-normal opacity-50",children:"kcal"})]})]})]})]}),t.jsxs("div",{className:"flex gap-4 mt-4",children:[t.jsx("button",{onClick:s,className:"w-14 h-14 rounded-full border border-[#1A4D2E]/10 flex items-center justify-center text-[#1A4D2E] hover:bg-gray-50 transition-colors",children:t.jsx(bt,{size:24})}),t.jsxs("button",{onClick:a,className:"flex-1 bg-[#1A4D2E] text-[#F8F5F2] h-14 rounded-full font-mono text-sm uppercase tracking-widest font-bold shadow-xl hover:bg-[#143d24] hover:shadow-2xl hover:scale-[1.01] transition-all flex items-center justify-center gap-3",children:["Generate Menu ",t.jsx(ft,{size:18})]})]})]})},aa=5,cl=({onComplete:e})=>{const[n,a]=b.useState(1),[s,r]=b.useState(1),[i,l]=b.useState({name:"",allergens:[],allergenNotes:"",conditions:[],conditionNotes:"",healthReportSummary:"",cuisines:[],cuisineNotes:"",dietaryPreference:"Any",customNotes:"",dailyTargets:{protein:0,carbs:0,fat:0,calories:0},isOnboarded:!1,biometrics:{age:30,gender:"Female",weight:70,height:170,activityLevel:"Moderate",goal:"Maintain"},likedDishes:[]});b.useEffect(()=>{if(i.biometrics){const{age:c,gender:g,weight:m,height:y,activityLevel:N,goal:d}=i.biometrics;let f=10*m+6.25*y-5*c;f+=g==="Male"?5:-161;let _=Math.round(f*{Sedentary:1.2,Light:1.375,Moderate:1.55,Active:1.725}[N]);d==="Lose"&&(_-=500),d==="Gain"&&(_+=500);const E=Math.round(_*.3/4),j=Math.round(_*.35/4),H=Math.round(_*.35/9);l(J=>({...J,dailyTargets:{calories:_,protein:E,carbs:j,fat:H}}))}},[i.biometrics]);const p=()=>{r(1),a(c=>c+1)},o=()=>{r(-1),a(c=>c-1)},u=()=>{const c={...i,cuisines:i.cuisines.length>0?i.cuisines:["North Indian","Italian"],isOnboarded:!0};c.uid&&ae(async()=>{const{preWarmService:g}=await import("./preWarmService-BTeQI0EQ.js");return{preWarmService:g}},__vite__mapDeps([14,1,2,3,0,4,5,6,7,8,9,10])).then(({preWarmService:g})=>{g.startPreWarming(c.uid,c)}).catch(console.warn),e(c)},h={enter:c=>({x:c>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:c=>({x:c<0?50:-50,opacity:0})};return t.jsxs("div",{className:"flex flex-col min-h-screen bg-[#F8F5F2] items-center justify-center text-[#1A4D2E] p-6 font-sans",children:[t.jsxs("div",{className:"w-full max-w-xl mb-10 flex flex-col gap-2",children:[t.jsxs("div",{className:"flex justify-between text-xs font-mono uppercase tracking-widest opacity-60",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[n," / ",aa]})]}),t.jsx("div",{className:"h-1 w-full bg-[#1A4D2E]/10 rounded-full overflow-hidden",children:t.jsx(G.div,{className:"h-full bg-[#F9C74F]",initial:{width:0},animate:{width:`${n/aa*100}%`},transition:{ease:"circOut",duration:.5}})})]}),t.jsxs("div",{className:"w-full max-w-xl bg-white p-8 md:p-12 rounded-[2rem] shadow-xl border border-[#1A4D2E]/5 relative overflow-hidden min-h-[500px] flex flex-col",children:[t.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-[#1A4D2E]/5 rounded-full blur-3xl pointer-events-none"}),t.jsx(ge,{mode:"wait",custom:s,children:t.jsxs(G.div,{custom:s,variants:h,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"flex-1 flex flex-col",children:[n===1&&t.jsx(al,{profile:i,onProfileChange:l,onNext:p}),n===2&&t.jsx(sl,{profile:i,onProfileChange:l,onNext:p}),n===3&&t.jsx(rl,{profile:i,onProfileChange:l,onNext:p,onBack:o}),n===4&&t.jsx(il,{profile:i,onProfileChange:l,onNext:p,onBack:o}),n===5&&t.jsx(ll,{profile:i,onProfileChange:l,onFinish:u,onBack:o})]},n)})]}),t.jsx("div",{className:"mt-8 text-center opacity-40 font-mono text-[10px] uppercase tracking-widest",children:"TadkaSync • Intelligent Kitchen OS"})]})},Re=[{label:"Looking for recipes",icon:ga},{label:"Checking your diet",icon:xa},{label:"Finding good matches",icon:Ds},{label:"Checking pantry",icon:Ei},{label:"Preparing cards",icon:va}],dl=({dishes:e,approvedDishes:n,approvedCount:a,onSwipe:s,onUndo:r,onModify:i,onImport:l,onDelete:p,pantryStock:o,userProfile:u,initialImportTab:h,fetchingMore:c})=>{var I;const[g,m]=b.useState("deck"),[y,N]=b.useState(0),[d,f]=b.useState(0),v=Mt(0),_=Mt(0),E=xe(v,[-200,200],[-15,15]);xe(v,[0,150],["#18181b","#22c55e"]),xe(v,[0,-150],["#18181b","#ef4444"]),xe(_,[0,-150],["#18181b","#3b82f6"]);const j=xe(v,[50,150],[0,1]),H=xe(v,[-50,-150],[0,1]),J=xe(_,[-50,-150],[0,1]),oe=xe(v,[-150,0,150],[1.05,1,1.05]);b.useRef(null);const[X,x]=b.useState(!1),[F,C]=b.useState("text"),[V,U]=b.useState(""),[B,q]=b.useState(""),[ue,Ne]=b.useState(!1),[ye,Ce]=b.useState("");b.useEffect(()=>{if(c){const D=setInterval(()=>{f(A=>(A+1)%Re.length)},2e3);return()=>clearInterval(D)}},[c]),b.useEffect(()=>{h&&(x(!0),C(h))},[h]);const[Fe,k]=b.useState(null),M=e||[],S=M[y],K=!S||y>=M.length,se=7;b.useEffect(()=>{(async()=>{if(!S)return;const A=localStorage.getItem("session_id");if(A)try{const{trackShownDish:L}=await ae(async()=>{const{trackShownDish:P}=await import("./userHistoryService-DKZlYY3g.js");return{trackShownDish:P}},__vite__mapDeps([11,4,5,12,1,2,3,6,7,8,9,10]));await L(A,S)}catch(L){console.warn("[SwipeDeck] Failed to track shown dish:",L)}})()},[S==null?void 0:S.id]);const Q=S?(D=>{if(!D||!D.ingredients)return 0;const A=P=>P.toLowerCase().trim();let L=0;return D.ingredients.forEach(P=>{o.some(te=>A(te.name).includes(A(P.name)))&&L++}),Math.round(L/(D.ingredients.length||1)*100)})(S):0,z=D=>{D===ne.Right?k({text:"APPROVED",color:"text-green-500 border-green-500",rotation:-6}):D===ne.Left?k({text:"SKIPPED",color:"text-red-500 border-red-500",rotation:6}):D===ne.Up&&k({text:"STAPLE",color:"text-blue-500 border-blue-500",rotation:0}),setTimeout(()=>k(null),700)},ie=(D,A)=>{if(!S)return;const L=100;A.offset.x>L?(z(ne.Right),s(S.id,ne.Right),T()):A.offset.x<-L?(z(ne.Left),s(S.id,ne.Left),T()):A.offset.y<-L&&(z(ne.Up),s(S.id,ne.Up),T())},T=()=>{N(0),v.set(0),_.set(0)},R=async()=>{if(F==="text"&&!V.trim())return;Ne(!0);const D=await as(F,V||(F==="pantry"?o.map(A=>A.name).join(","):""),"1K",u,B);Ne(!1),D&&(l(D),x(!1),U(""))};return t.jsxs("div",{className:"relative w-full h-full flex flex-col items-center overflow-hidden",children:[t.jsxs("div",{className:"w-full px-6 pt-4 pb-2 z-10 flex justify-between items-center bg-gradient-to-b from-background via-background to-transparent",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-display font-black text-ink tracking-tight leading-none bg-clip-text text-transparent bg-gradient-to-r from-ink to-ink-light",children:"Discover"}),t.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.jsxs("span",{className:"text-[10px] text-ink-light font-medium tracking-wide flex items-center gap-1.5 uppercase",children:[c?t.jsx(fe,{size:8,className:"animate-spin text-brand-500"}):t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-500/50"}),c?"AI Agent Curating...":"Your Cookbook"]})})]}),t.jsxs("div",{className:"flex bg-white p-1 rounded-full shadow-sm border border-gray-100",children:[t.jsx("button",{onClick:()=>m("deck"),className:`p-2 rounded-full transition-all duration-300 ${g==="deck"?"bg-ink text-white shadow-md transform scale-105":"text-ink-light hover:bg-gray-50"}`,title:"Swipe View",children:t.jsx(Nt,{size:16})}),t.jsx("button",{onClick:()=>m("registry"),className:`p-2 rounded-full transition-all duration-300 ${g==="registry"?"bg-ink text-white shadow-md transform scale-105":"text-ink-light hover:bg-gray-50"}`,title:"Grid View",children:t.jsx(Cr,{size:16})})]})]}),g==="deck"&&t.jsxs("div",{className:"w-full px-6 mb-4",children:[t.jsxs("div",{className:"flex justify-between items-end mb-1.5",children:[t.jsx("span",{className:"text-[10px] font-bold text-ink-light uppercase tracking-wider",children:"Daily Goal"}),t.jsxs("span",{className:"text-[10px] font-bold text-ink",children:[a,"/",se]})]}),t.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:t.jsx(G.div,{layout:!0,className:"h-full bg-gradient-brand shadow-[0_0_10px_rgba(249,115,22,0.4)]",initial:{width:0},animate:{width:`${Math.min(a/se*100,100)}%`}})})]}),g==="deck"?t.jsx("div",{className:"relative flex-1 w-full flex items-center justify-center p-4 min-h-[400px]",children:t.jsx(ge,{mode:"wait",children:K?t.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"w-full max-w-xs aspect-[3/4.2] bg-ink text-white shadow-2xl p-8 flex flex-col justify-between relative overflow-hidden rounded-[32px]",children:[t.jsx("div",{className:"absolute inset-0 z-0",children:t.jsx("div",{className:"absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-brand-600/30 via-ink to-ink animate-pulse-slow"})}),t.jsx("div",{className:"relative z-10",children:t.jsxs("span",{className:"font-mono text-[9px] uppercase tracking-[0.2em] text-brand-500/80 font-bold flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-500 animate-pulse"}),"System Active"]})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center space-y-6",children:[t.jsx("div",{className:"bg-white/10 p-5 rounded-full backdrop-blur-md border border-white/10 shadow-float",children:ee.createElement(Re[d].icon,{className:"w-10 h-10 text-brand-400 drop-shadow-[0_0_15px_rgba(234,179,8,0.5)]"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-3xl font-display font-medium tracking-tight text-white mb-2",children:["Finding",t.jsx("span",{className:"block font-bold text-transparent bg-clip-text bg-gradient-to-r from-brand-300 to-brand-500",children:"Inspiration"})]}),t.jsx("p",{className:"font-sans text-[12px] text-white/40 tracking-wide",children:Re[d].label})]})]}),t.jsxs("div",{className:"relative z-10 space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-full bg-white/10 h-1 rounded-full overflow-hidden backdrop-blur-sm",children:t.jsx(G.div,{className:"h-full bg-brand-500",initial:{width:"0%"},animate:{width:`${(d+1)/Re.length*100}%`},transition:{duration:.5}})}),t.jsxs("div",{className:"flex justify-between items-center text-[10px] font-medium text-white/30",children:[t.jsx("span",{children:"AI Agent Working"}),t.jsxs("span",{children:[Math.round((d+1)/Re.length*100),"%"]})]})]}),t.jsxs(G.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:8},onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full py-3 text-[10px] font-medium uppercase tracking-wider text-red-300 hover:text-white flex items-center justify-center gap-2 rounded-xl hover:bg-white/5 transition-colors",children:[t.jsx(di,{size:12})," Restart Engine"]})]})]},"console"):t.jsxs("div",{className:"relative w-full max-w-xs aspect-[3/4.2]",children:[t.jsx("div",{className:"absolute inset-0 bg-gray-200/50 transform scale-95 translate-y-4 -z-10 rounded-[32px] blur-sm"}),t.jsx("div",{className:"absolute inset-0 bg-gray-100/50 transform scale-90 translate-y-8 -z-20 rounded-[32px] blur-md"}),t.jsxs(G.div,{className:"w-full h-full bg-surface shadow-premium flex flex-col cursor-grab active:cursor-grabbing relative overflow-hidden rounded-[32px] border border-white/60",style:{x:v,y:_,rotate:E,scale:oe},drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},onDragEnd:ie,children:[t.jsx(G.div,{style:{opacity:j},className:"absolute top-8 left-8 z-50 border-[6px] border-green-500 rounded-lg p-2 transform -rotate-12 pointer-events-none",children:t.jsx("span",{className:"text-4xl font-black text-green-500 uppercase tracking-widest",children:"LIKE"})}),t.jsx(G.div,{style:{opacity:H},className:"absolute top-8 right-8 z-50 border-[6px] border-red-500 rounded-lg p-2 transform rotate-12 pointer-events-none",children:t.jsx("span",{className:"text-4xl font-black text-red-500 uppercase tracking-widest",children:"NOPE"})}),t.jsx(G.div,{style:{opacity:J},className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-50 border-[6px] border-blue-500 rounded-lg p-2 transform -rotate-6 pointer-events-none",children:t.jsx("span",{className:"text-3xl font-black text-blue-500 uppercase tracking-widest whitespace-nowrap",children:"STAPLE"})}),t.jsxs("div",{className:"h-[45%] bg-gradient-premium relative p-6 flex flex-col justify-between group overflow-hidden",children:[t.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-brand-100 rounded-full blur-3xl opacity-60"}),t.jsx("div",{className:"absolute top-10 -left-10 w-32 h-32 bg-accent-yellow/10 rounded-full blur-3xl"}),t.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("span",{className:"px-3 py-1 bg-white/60 backdrop-blur-md rounded-full text-[10px] uppercase font-bold tracking-wider text-ink-light shadow-sm",children:S.type}),(S.macros||S.healthTags)&&(()=>{const{calculateHealthScore:D,getHealthColor:A}=require("../utils/healthScoring"),L=D(S),P=A(L);return t.jsxs("span",{className:`px-3 py-1 bg-white/60 backdrop-blur-md rounded-full text-[10px] uppercase font-bold tracking-wider shadow-sm flex items-center gap-1 ${P}`,children:[t.jsx(ot,{size:10,fill:"currentColor"})," ",L]})})()]}),t.jsx("button",{onClick:D=>{D.stopPropagation(),i(S)},className:"w-8 h-8 flex items-center justify-center bg-white rounded-full shadow-sm hover:scale-110 transition-transform text-ink-light",children:t.jsx(Rr,{size:16})})]}),t.jsxs("div",{className:"relative z-10 mt-auto",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-ink/40 mb-1 block",children:S.cuisine}),t.jsx("h3",{className:"text-3xl font-display font-black leading-[1.0] text-ink mb-1 tracking-tight",children:S.name}),t.jsx("p",{className:"font-serif italic text-sm text-ink-light opacity-80",children:S.localName})]})]}),t.jsxs("div",{className:"flex-1 p-6 flex flex-col bg-white/50 backdrop-blur-xl relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto no-scrollbar pb-2",children:[t.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-wide border shadow-sm ${Q>=75?"bg-green-50 border-green-100 text-green-700":"bg-gray-50 border-gray-100 text-gray-500"}`,children:[t.jsx(xa,{size:12})," ",Q,"% Pantry"]}),(I=S.healthTags)==null?void 0:I.slice(0,3).map(D=>{let A="bg-blue-50 border-blue-100 text-blue-700",L=null;const P=D.toLowerCase();return P.includes("diabetes")||P.includes("low gi")||P.includes("safe")?(A="bg-green-50 border-green-100 text-green-700",L="🟢"):P.includes("high gi")||P.includes("warning")||P.includes("avoid")?(A="bg-red-50 border-red-100 text-red-700",L="🔴"):(P.includes("protein")||P.includes("muscle"))&&(A="bg-orange-50 border-orange-100 text-orange-700",L="💪"),t.jsxs("span",{className:`px-3 py-1.5 ${A} border text-[10px] font-bold uppercase rounded-full whitespace-nowrap shadow-sm flex items-center gap-1`,children:[L," ",D]},D)})]}),t.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar mask-gradient-to-b pr-2",children:t.jsx("p",{className:"font-sans text-sm leading-relaxed text-ink-light/90",children:S.description})})]})]})]},"deck")})}):t.jsxs("div",{className:"flex-1 w-full overflow-y-auto p-4 content-start grid grid-cols-2 gap-3 pb-24",children:[t.jsxs("div",{className:"col-span-2 relative mb-2",children:[t.jsx(wt,{size:16,className:"absolute left-4 top-3.5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search your cookbook...",className:"w-full pl-11 pr-4 py-3 text-sm font-sans bg-white border border-gray-100 shadow-sm rounded-2xl focus:outline-none focus:ring-2 focus:ring-brand-500/20 transition-all font-medium",value:ye,onChange:D=>Ce(D.target.value)})]}),n.filter(D=>D.name.toLowerCase().includes(ye.toLowerCase())).map(D=>t.jsxs(G.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white border border-gray-100 shadow-sm p-4 rounded-2xl relative group flex flex-col h-full hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-400 tracking-wider block mb-1",children:D.type}),t.jsx("h4",{className:"font-display font-bold text-sm text-ink leading-tight line-clamp-2",children:D.name})]}),t.jsxs("div",{className:"mt-auto pt-4 flex justify-between items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>i(D),className:"p-1.5 bg-gray-50 hover:bg-ink hover:text-white rounded-lg transition-colors",children:t.jsx(Ci,{size:12})}),t.jsx("button",{onClick:()=>p(D.id),className:"p-1.5 bg-red-50 text-red-500 hover:bg-red-500 hover:text-white rounded-lg transition-colors",children:t.jsx(Et,{size:12})})]})]},D.id))]}),g==="deck"&&t.jsxs("div",{className:"w-full px-8 pb-6 flex justify-center items-center gap-6 z-20",children:[t.jsx("button",{onClick:()=>x(!0),className:"w-12 h-12 flex items-center justify-center bg-white text-ink-light shadow-premium rounded-full hover:scale-110 active:scale-95 transition-all",children:t.jsx(Gr,{size:20})}),t.jsx("button",{onClick:()=>{z(ne.Left),s(S==null?void 0:S.id,ne.Left),T()},disabled:K,className:"w-16 h-16 flex items-center justify-center bg-white text-red-500 shadow-premium rounded-full hover:scale-110 active:scale-95 transition-all disabled:opacity-50 disabled:scale-100 border border-red-50 group",children:t.jsx(he,{size:28,strokeWidth:2.5,className:"group-hover:rotate-90 transition-transform"})}),t.jsx("button",{onClick:()=>{z(ne.Up),s(S==null?void 0:S.id,ne.Up),T()},disabled:K,className:"w-12 h-12 flex items-center justify-center bg-white text-blue-500 shadow-premium rounded-full hover:scale-110 active:scale-95 transition-all disabled:opacity-50 disabled:scale-100 border border-blue-50",children:t.jsx(Ns,{size:20,strokeWidth:2.5,fill:"currentColor",className:"text-blue-100"})}),t.jsx("button",{onClick:()=>{z(ne.Right),s(S==null?void 0:S.id,ne.Right),T()},disabled:K,className:"w-16 h-16 flex items-center justify-center bg-gradient-brand text-white shadow-lg shadow-orange-500/40 rounded-full hover:scale-110 active:scale-95 transition-all disabled:opacity-50 disabled:scale-100 disabled:shadow-none",children:t.jsx(ot,{size:28,strokeWidth:2.5,fill:"rgba(255,255,255,0.2)"})})]}),X&&t.jsx("div",{className:"fixed inset-0 z-[100] bg-ink/30 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in",children:t.jsxs("div",{className:"bg-surface w-full max-w-sm shadow-2xl p-6 rounded-[32px] relative border border-white/20",children:[t.jsx("button",{onClick:()=>x(!1),className:"absolute top-4 right-4 p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition",children:t.jsx(he,{size:16})}),t.jsxs("h3",{className:"text-xl font-display font-bold text-ink mb-6 flex items-center gap-2",children:[t.jsx(Le,{className:"text-brand-500 fill-brand-500",size:18})," Add Recipe"]}),t.jsx("div",{className:"flex gap-2 mb-6 p-1 bg-gray-50 rounded-xl",children:["text","image","pantry"].map(D=>t.jsx("button",{onClick:()=>C(D),className:`flex-1 py-2 rounded-lg font-sans text-[11px] font-bold uppercase tracking-wider transition-all ${F===D?"bg-white text-ink shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:D},D))}),t.jsx("textarea",{value:V,onChange:D=>U(D.target.value),className:"w-full h-32 bg-gray-50 border-none p-4 font-sans text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/20 mb-6 rounded-2xl resize-none",placeholder:"Describe dish or paste URL..."}),t.jsx("button",{onClick:R,disabled:ue,className:"w-full bg-ink text-white font-bold py-4 rounded-2xl shadow-lg hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50",children:ue?t.jsx(fe,{className:"animate-spin mx-auto"}):"Add to Cookbook"})]})})]})},hl=({plan:e,userProfile:n,onClose:a})=>{const[s,r]=b.useState("Hindi"),[i,l]=b.useState(""),[p,o]=b.useState(!1),[u,h]=b.useState(!1);b.useEffect(()=>{c()},[s]);const c=async()=>{o(!0);try{const N=await ss(e,n);l(N||"Could not generate instructions.")}catch{l("Error generating instructions.")}finally{o(!1)}},g=()=>{if("speechSynthesis"in window){const N=new SpeechSynthesisUtterance(i);if(s==="Hindi"){const f=window.speechSynthesis.getVoices().find(v=>v.lang.includes("hi"));f&&(N.voice=f)}window.speechSynthesis.speak(N)}else alert("Text-to-Speech not supported in this browser.")},m=()=>{const N=`https://wa.me/?text=${encodeURIComponent(i)}`;window.open(N,"_blank")},y=()=>{navigator.clipboard.writeText(i),h(!0),setTimeout(()=>h(!1),2e3)};return t.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-paper w-full max-w-md rounded-2xl shadow-2xl border-2 border-ink overflow-hidden flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"bg-ink text-white p-4 flex justify-between items-center shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fa,{size:20,className:"text-brand-300"}),t.jsx("h2",{className:"font-black uppercase tracking-wide text-lg",children:"Cook Delegate"})]}),t.jsx("button",{onClick:a,className:"hover:bg-white/20 p-1 rounded-full text-white/70 hover:text-white transition",children:t.jsx(he,{size:24})})]}),t.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex gap-2 shrink-0",children:["Hindi","English","Marathi"].map(N=>t.jsx("button",{onClick:()=>r(N),className:`flex-1 py-2 text-xs font-bold uppercase rounded-lg border-2 transition-all ${s===N?"bg-brand-500 text-white border-brand-600 shadow-sm":"bg-white text-gray-500 border-gray-200 hover:border-brand-200"}`,children:N},N))}),t.jsx("div",{className:"p-6 flex-1 overflow-y-auto min-h-0 bg-white",children:p?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 text-gray-400",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-brand-500 border-t-transparent rounded-full animate-spin"}),t.jsxs("p",{className:"font-mono text-xs uppercase animate-pulse",children:["Translating to ",s,"..."]})]}):t.jsx("div",{className:"prose prose-sm max-w-none",children:t.jsx("div",{className:"whitespace-pre-wrap font-sans text-gray-700 leading-relaxed text-sm",children:i})})}),t.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 shrink-0 space-y-3",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:g,disabled:p||!i,className:"flex-1 bg-white border border-gray-300 text-gray-600 py-2.5 text-xs font-bold uppercase rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 transition",children:[t.jsx(qi,{size:16}),"Read Aloud"]}),t.jsxs("button",{onClick:y,disabled:p||!i,className:"flex-1 bg-white border border-gray-300 text-gray-600 py-2.5 text-xs font-bold uppercase rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 transition",children:[u?t.jsx(xt,{size:16,className:"text-green-500"}):t.jsx(or,{size:16}),u?"Copied":"Copy"]})]}),t.jsxs("button",{onClick:m,disabled:p||!i,className:"w-full bg-[#25D366] text-white py-3.5 font-bold uppercase rounded-xl flex items-center justify-center gap-2 hover:brightness-105 transition shadow-hard-sm active:shadow-none active:translate-y-0.5 border-2 border-[#128C7E]",children:[t.jsx(vt,{size:22,fill:"currentColor"}),"Send to Cook (WhatsApp)"]})]})]})})},ul=[{mainDishes:["Idli","Idly","Rava Idli","Ragi Idli"],accompaniments:["Sambar","Coconut Chutney"],description:"Traditional South Indian breakfast"},{mainDishes:["Dosa","Masala Dosa","Rava Dosa","Plain Dosa","Set Dosa"],accompaniments:["Sambar","Coconut Chutney"],description:"Classic dosa with sambar and chutney"},{mainDishes:["Vada","Medu Vada","Dahi Vada"],accompaniments:["Sambar","Coconut Chutney"],description:"Crispy vadas with accompaniments"},{mainDishes:["Upma","Rava Upma"],accompaniments:["Coconut Chutney","Pickle"],description:"Semolina upma with chutney"},{mainDishes:["Pongal","Ven Pongal","Khara Pongal"],accompaniments:["Sambar","Coconut Chutney"],description:"Comforting pongal with sambar"},{mainDishes:["Uttapam","Onion Uttapam"],accompaniments:["Sambar","Tomato Chutney"],description:"Thick pancake with toppings"},{mainDishes:["Rice","Steamed Rice","Plain Rice"],accompaniments:["Rasam","Sambar","Papad"],description:"South Indian rice meal"}],pl=[{mainDishes:["Roti","Chapati","Phulka","Paratha"],accompaniments:["Dal","Sabzi"],description:"North Indian bread with dal and vegetables"},{mainDishes:["Dal Tadka","Dal Fry","Moong Dal"],accompaniments:["Rice","Roti"],description:"Dal served with carbs"},{mainDishes:["Rajma","Chole","Kadhi"],accompaniments:["Rice","Onion Salad"],description:"Curry with rice"}],ml=[{mainDishes:["Dhokla","Khaman"],accompaniments:["Green Chutney","Fried Chilies"],description:"Steamed snack"},{mainDishes:["Thepla"],accompaniments:["Pickle","Curd"],description:"Flatbread combo"},{mainDishes:["Khichdi"],accompaniments:["Kadhi","Papad"],description:"Comfort food"}],gl=[{mainDishes:["Fish Curry","Macher Jhol","Hilsa"],accompaniments:["Rice","Dal"],description:"Bengali fish meal"},{mainDishes:["Luchi"],accompaniments:["Aloo Dum","Cholar Dal"],description:"Fried bread combo"}],fl=[{mainDishes:["Fried Rice","Veg Fried Rice"],accompaniments:["Manchurian","Spring Rolls"],description:"Chinese rice combo"},{mainDishes:["Noodles","Hakka Noodles"],accompaniments:["Manchurian","Soup"],description:"Noodle combo"},{mainDishes:["Momos","Dumplings"],accompaniments:["Spicy Chutney","Soup"],description:"Dumplings with dip"}],xl=[{mainDishes:["Pad Thai"],accompaniments:["Peanuts","Lime","Bean Sprouts"],description:"Thai noodles"},{mainDishes:["Green Curry","Red Curry","Thai Curry"],accompaniments:["Jasmine Rice"],description:"Thai curry"}],yl=[{mainDishes:["Pasta","Spaghetti","Penne","Lasagna"],accompaniments:["Garlic Bread","Salad"],description:"Pasta meal"},{mainDishes:["Pizza"],accompaniments:["Garlic Dip","Coleslaw"],description:"Pizza combo"}],bl=[{mainDishes:["Tacos","Taco"],accompaniments:["Salsa","Guacamole"],description:"Tacos with dips"},{mainDishes:["Burrito"],accompaniments:["Salsa","Chips"],description:"Burrito meal"},{mainDishes:["Nachos"],accompaniments:["Cheese Dip","Salsa"],description:"Party snack"}],Nl=[{mainDishes:["Steak","Grilled Chicken"],accompaniments:["Mashed Potatoes","Veggies"],description:"Western main"},{mainDishes:["Sandwich","Club Sandwich"],accompaniments:["Fries","Coleslaw"],description:"Sandwich combo"}],vl=[...ul,...pl,...ml,...gl,...fl,...xl,...yl,...bl,...Nl],wl=e=>{const n=e.toLowerCase().trim();for(const a of vl)if(a.mainDishes.some(r=>n.includes(r.toLowerCase())||r.toLowerCase().includes(n)))return a.accompaniments;return[]},ze=e=>{const n=wl(e);return n.length===0?null:`Complete with: ${n.join(" + ")}`},kl=({approvedDishes:e,userProfile:n,onPlanUpdate:a,onRequestMoreDishes:s,onPublish:r,pantryStock:i=[],onDishClick:l})=>{const[p,o]=b.useState("Comfort"),[u,h]=b.useState([]),[c,g]=b.useState(!1),[m,y]=b.useState(null),[N,d]=b.useState(!1),[f,v]=b.useState(!1),_=ee.useRef(null),E=ee.useRef(null),j=ee.useRef(null);ee.useEffect(()=>()=>{_.current&&clearTimeout(_.current),E.current&&clearTimeout(E.current),j.current&&clearTimeout(j.current)},[]);const[H,J]=b.useState(!1),[oe,X]=b.useState(!1),[x,F]=b.useState(null);b.useEffect(()=>{const k=localStorage.getItem("tadkaSync_weeklyPlan");if(k)try{const S=JSON.parse(k);if(Array.isArray(S)&&S.length>0){h(S),a(S);return}}catch(S){console.error("Failed to parse saved plan",S)}const M=Ue.map(S=>({day:S,lunch:null,dinner:null,isLocked:!1}));h(M)},[]),b.useEffect(()=>{u.length>0&&localStorage.setItem("tadkaSync_weeklyPlan",JSON.stringify(u))},[u]);const C=(k,M,S=[],K=[],se=!1,W,Q)=>{let z=k.filter(I=>!S.includes(I.id));if(M&&(M==="Lunch"?z=z.filter(I=>I.type==="Lunch"||I.type==="Snack"||I.type==="Breakfast"):M==="Dinner"&&(z=z.filter(I=>I.type==="Dinner"))),z.length===0&&(z=k.filter(I=>!S.includes(I.id)),z.length===0))return null;const ie=z.filter(I=>!K.includes(I.id));let T=ie.length>0?ie:z;if(se&&i.length>0){const I=T.filter(D=>D.ingredients.some(A=>i.some(L=>L.name.toLowerCase().includes(A.name.toLowerCase())||A.name.toLowerCase().includes(L.name.toLowerCase()))));I.length>0&&(T=I)}if(W!==void 0&&W>0){const I=T.map(L=>{let P=100;const te=L.macros.calories||200,pe=L.macros.protein||10;return te>W*1.2?P-=40:te>W?P-=15:W>=400&&te>=300?P+=25:te>=W*.5&&(P+=15),Q!==void 0&&Q>10&&(pe>=20?P+=25:pe>=10&&(P+=10)),L.isStaple&&(P+=20),{dish:L,score:P}});I.sort((L,P)=>P.score-L.score);const D=I.slice(0,Math.max(3,Math.floor(I.length*.3))),A=D[Math.floor(Math.random()*D.length)];return(A==null?void 0:A.dish)||null}const R=[];return T.forEach(I=>{R.push(I),I.isStaple&&R.push(I)}),R[Math.floor(Math.random()*R.length)]},V=k=>{g(!0),_.current=setTimeout(()=>{let M=B(k);M.length<5&&s(k);const S=[],K=n.dailyTargets.calories||2e3,se=n.dailyTargets.protein||50,W=u.length>0?u.map((Q,z)=>{if(Q.isLocked)return Q.lunch&&S.push(Q.lunch.id),Q.dinner&&S.push(Q.dinner.id),Q;let ie=K,T=se;const R=C(M,"Lunch",[],S,!1,Math.floor(K*.4),Math.floor(se*.4));R&&(S.push(R.id),ie-=R.macros.calories||0,T-=R.macros.protein||0,S.length>3&&S.shift());const I=C(M,"Dinner",R?[R.id]:[],S,!1,ie,T);return I&&(S.push(I.id),S.length>3&&S.shift()),{day:Ue[z],lunch:R,dinner:I,isLocked:!1}}):Ue.map(Q=>({day:Q,lunch:null,dinner:null,isLocked:!1}));h(W),a(W),g(!1)},800)},U=()=>{g(!0),E.current=setTimeout(()=>{let k=B(p);if(k.length<3){alert("Not enough approved dishes to auto-fill. Swipe right on more dishes!"),g(!1);return}const M=new Date().getDay()-1,S=M<0?0:M,K=n.dailyTargets.calories||2e3,se=n.dailyTargets.protein||50,W=[...u],Q=[];for(let z=0;z<7;z++)if(z>=S&&z<=S+2){if(z>=W.length||W[z].isLocked)continue;let ie=K,T=se;const R=C(k,"Lunch",[],Q,!0,Math.floor(K*.4),Math.floor(se*.4));R&&(Q.push(R.id),ie-=R.macros.calories||0,T-=R.macros.protein||0);const I=C(k,"Dinner",R?[R.id]:[],Q,!0,ie,T);I&&Q.push(I.id),W[z]={...W[z],lunch:R,dinner:I}}h(W),a(W),g(!1)},600)},B=k=>{let M=[...e];if(k==="Strict")M=M.filter(S=>{var K;return(((K=S.macros)==null?void 0:K.calories)||0)<=n.dailyTargets.calories/2});else if(k==="Comfort"){const S=M.filter(K=>K.isStaple);S.length>0&&(M=[...M,...S,...S])}return M.length>0?M:e},q=(k,M)=>{u[k].isLocked||(y({dayIndex:k,type:M}),j.current=setTimeout(()=>{var T,R;const S=B(p),K=u[k],se=M==="lunch"?K.dinner:K.lunch,W=[M==="lunch"?((T=K.lunch)==null?void 0:T.id)||"":((R=K.dinner)==null?void 0:R.id)||"",(se==null?void 0:se.id)||""],z=C(S,M==="lunch"?"Lunch":"Dinner",W)||C(S,void 0,W),ie=[...u];ie[k]={...ie[k],[M]:z},h(ie),a(ie),y(null)},500))},ue=k=>{if(k===0||u[k].isLocked)return;const M=u[k-1].dinner;if(!M)return;const S=[...u];S[k]={...S[k],lunch:{...M,name:`${M.name} (Leftovers)`,localName:"Reheated"}},h(S),a(S)},Ne=()=>{if(confirm("Reset the entire week? This unlocks all days and clears meals.")){const k=Ue.map(M=>({day:M,lunch:null,dinner:null,isLocked:!1}));h(k),a(k)}},ye=k=>{const M=[...u];M[k]={...M[k],isLocked:!M[k].isLocked},h(M),a(M)},Ce=k=>{o(k),V(k)},Fe=()=>{const k=JSON.stringify(u),M=btoa(encodeURIComponent(k)),S=`${window.location.origin}${window.location.pathname}?view=cook&data=${encodeURIComponent(M)}`;navigator.clipboard.writeText(S).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})};return t.jsxs("div",{className:"flex flex-col h-full bg-paper",children:[t.jsxs("div",{className:"p-4 bg-paper border-b-2 border-ink sticky top-0 z-20",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase text-ink",children:"Weekly Plan"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:Ne,className:"text-[10px] font-bold uppercase text-red-500 hover:text-red-700 flex items-center gap-1 border border-red-200 bg-red-50 px-2 py-1",children:[t.jsx(gr,{size:12})," Clear Plan"]})})]}),t.jsxs("button",{onClick:U,disabled:c,className:"w-full mb-4 group relative overflow-hidden bg-white border-2 border-brand-200 hover:border-brand-500 rounded-xl p-4 flex items-center justify-between shadow-sm hover:shadow-md transition-all active:scale-[0.99]",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),t.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[t.jsx("div",{className:`w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 ${c?"animate-pulse":""}`,children:t.jsx(Le,{size:20,className:c?"animate-spin":""})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"block font-bold text-gray-900 text-sm",children:"Kitchen Autopilot"}),t.jsx("span",{className:"block text-xs text-brand-600 font-medium",children:"Auto-plan next 3 days"})]})]}),t.jsxs("div",{className:"relative z-10 flex items-center gap-1.5 text-brand-600 bg-brand-50 px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider group-hover:bg-brand-500 group-hover:text-white transition-colors",children:["Run ",t.jsx(Ft,{size:12,className:"fill-current"})]})]}),t.jsx("div",{className:"flex gap-2",children:["Strict","Comfort","Explorer"].map(k=>t.jsx("button",{onClick:()=>Ce(k),className:`flex-1 py-2 font-mono text-xs font-bold uppercase border-2 transition-all ${p===k?"bg-ink text-white border-ink shadow-hard-sm":"bg-white text-gray-500 border-gray-300"}`,children:k},k))})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:c&&u.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-ink animate-pulse",children:[t.jsx(ds,{className:"w-12 h-12 animate-spin mb-4",strokeWidth:1.5}),t.jsx("p",{className:"font-mono text-sm uppercase tracking-widest",children:"Planning meals..."})]}):u.map((k,M)=>t.jsxs("div",{className:`bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden transition-all hover:shadow-md ${k.isLocked?"ring-2 ring-brand-500 ring-offset-2":""}`,children:[t.jsxs("div",{className:`px-4 py-3 flex justify-between items-center bg-gradient-to-r ${k.isLocked?"from-brand-600 to-brand-500":"from-gray-50 to-white border-b border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-lg font-black uppercase tracking-tight ${k.isLocked?"text-white":"text-gray-900"}`,children:k.day.substring(0,3)}),t.jsxs("span",{className:`text-[10px] font-mono uppercase tracking-wider ${k.isLocked?"text-brand-100":"text-gray-400"}`,children:["• ",k.day]})]}),t.jsx("button",{onClick:()=>ye(M),className:`p-1.5 rounded-full transition-colors ${k.isLocked?"text-white hover:bg-white/20":"text-gray-300 hover:text-gray-600 hover:bg-gray-100"}`,children:k.isLocked?t.jsx(Ut,{size:14}):t.jsx(Br,{size:14})})]}),t.jsxs("div",{className:"p-0 relative",children:[k.isLocked&&t.jsx("div",{className:"absolute inset-0 bg-white/5 z-10 pointer-events-none flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:t.jsx(Ut,{size:48,className:"text-brand-500/10"})}),t.jsxs("div",{className:"flex group border-b border-gray-100 min-h-[5rem]",children:[t.jsxs("div",{className:"w-14 bg-gray-50/50 flex flex-col items-center justify-center gap-1 border-r border-gray-100",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400 tracking-wider",children:"Lunch"}),t.jsx(Ft,{size:14,className:"text-orange-300"})]}),t.jsxs("div",{className:"flex-1 p-3 flex justify-between items-center",children:[t.jsx("div",{className:"flex-1 min-w-0 pr-3",children:k.lunch?t.jsxs("div",{onClick:()=>l(k.lunch),className:"cursor-pointer hover:bg-gray-50 -ml-2 p-2 rounded-lg transition-colors group/dish",children:[t.jsx("p",{className:"font-bold text-gray-800 leading-tight truncate group-hover/dish:text-brand-600 transition-colors",children:k.lunch.name}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:k.lunch.localName}),ze(k.lunch.name)&&t.jsxs("p",{className:"text-[10px] text-brand-600 mt-1 font-medium",children:["↳ ",ze(k.lunch.name)]})]}):t.jsx("button",{onClick:()=>q(M,"lunch"),className:"w-full border-2 border-dashed border-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-400 hover:text-brand-600 hover:border-brand-300 hover:bg-brand-50 transition-all font-mono text-[10px] uppercase tracking-wider",children:"+ Plan Lunch"})}),t.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[M>0&&u[M-1].dinner&&!k.lunch&&!k.isLocked&&t.jsx("button",{onClick:()=>ue(M),className:"p-1.5 hover:bg-orange-50 text-orange-400 hover:text-orange-600 rounded-md transition",title:"Eat Leftovers",children:t.jsx(Hs,{size:14})}),!k.isLocked&&t.jsx("button",{onClick:()=>q(M,"lunch"),className:"p-1.5 hover:bg-gray-100 rounded-md transition text-gray-400 hover:text-brand-600",title:"Swap Dish",disabled:!!m,children:t.jsx(Gt,{size:14,className:(m==null?void 0:m.dayIndex)===M&&(m==null?void 0:m.type)==="lunch"?"animate-spin text-brand-600":""})})]})]})]}),t.jsxs("div",{className:"flex group min-h-[5rem]",children:[t.jsxs("div",{className:"w-14 bg-gray-50/50 flex flex-col items-center justify-center gap-1 border-r border-gray-100",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400 tracking-wider",children:"Dinner"}),t.jsx(rr,{size:14,className:"text-indigo-300"})]}),t.jsxs("div",{className:"flex-1 p-3 flex justify-between items-center",children:[t.jsx("div",{className:"flex-1 min-w-0 pr-3",children:k.dinner?t.jsxs("div",{onClick:()=>l(k.dinner),className:"cursor-pointer hover:bg-gray-50 -ml-2 p-2 rounded-lg transition-colors group/dish",children:[t.jsx("p",{className:"font-bold text-gray-800 leading-tight truncate group-hover/dish:text-brand-600 transition-colors",children:k.dinner.name}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:k.dinner.localName}),ze(k.dinner.name)&&t.jsxs("p",{className:"text-[10px] text-brand-600 mt-1 font-medium",children:["↳ ",ze(k.dinner.name)]})]}):t.jsx("button",{onClick:()=>q(M,"dinner"),className:"w-full border-2 border-dashed border-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-400 hover:text-brand-600 hover:border-brand-300 hover:bg-brand-50 transition-all font-mono text-[10px] uppercase tracking-wider",children:"+ Plan Dinner"})}),!k.isLocked&&t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("button",{onClick:()=>q(M,"dinner"),className:"p-1.5 hover:bg-gray-100 rounded-md transition text-gray-400 hover:text-brand-600",title:"Swap Dish",disabled:!!m,children:t.jsx(Gt,{size:14,className:(m==null?void 0:m.dayIndex)===M&&(m==null?void 0:m.type)==="dinner"?"animate-spin text-brand-600":""})})})]})]})]})]},k.day))}),t.jsx("div",{className:"absolute bottom-24 right-6 flex flex-col gap-4 items-end pointer-events-none",children:t.jsxs("div",{className:"flex flex-col gap-4 pointer-events-auto",children:[t.jsxs("button",{onClick:()=>v(!0),className:"group bg-[#25D366] text-white px-4 py-3 h-14 flex items-center justify-center gap-2 border-2 border-[#128C7E] shadow-hard hover:translate-y-1 hover:shadow-none transition-all rounded-full hover:brightness-105",title:"Send Instructions to Cook",children:[t.jsx(vt,{size:24,fill:"white",className:"drop-shadow-sm"}),t.jsx("span",{className:"font-bold uppercase text-[12px] tracking-wide",children:"WhatsApp Cook"})]}),t.jsxs("button",{onClick:Fe,className:"bg-white text-ink px-5 py-3 border-2 border-ink shadow-hard hover:translate-y-1 hover:shadow-none transition-all active:bg-gray-100 flex items-center gap-2 font-bold uppercase rounded-full",children:[N?t.jsx(kt,{size:18}):t.jsx($r,{size:18}),N?"Copied":"Link"]}),t.jsxs("button",{onClick:r,className:"bg-ink text-white px-5 py-3 border-2 border-ink shadow-hard hover:translate-y-1 hover:shadow-none transition-all active:bg-gray-800 flex items-center gap-2 font-bold uppercase rounded-full",children:[t.jsx(bi,{size:18})," Shop Ingredients"]})]})}),f&&t.jsx(hl,{plan:u,userProfile:n,onClose:()=>v(!1)})]})},sa=e=>e?e.toLowerCase().trim().replace(/[^a-z0-9]/g,"").replace(/s$/,""):"",El=e=>{const n={"½":.5,"¼":.25,"¾":.75,"⅓":.33,"⅔":.67};let a=e.trim();for(const[r,i]of Object.entries(n))a.includes(r)&&(a=a.replace(r,i.toString()));const s=a.match(/^([\d.]+)\s*(.*)$/);if(s){const r=parseFloat(s[1]),i=s[2].trim()||"unit";return{value:isNaN(r)?1:r,unit:i}}return{value:1,unit:e||"unit"}},jl=(e,n)=>{const a=new Map;return e.forEach(r=>{[r.lunch,r.dinner].forEach(l=>{l&&l.ingredients.forEach(p=>{const o=p.name.toLowerCase().trim(),{value:u,unit:h}=El(p.quantity),c=l.localName||l.name;if(a.has(o)){const g=a.get(o);g.totalQuantity+=u,g.sourceDishes.includes(c)||g.sourceDishes.push(c)}else a.set(o,{...p,totalQuantity:u,unit:h,quantity:"",sourceDishes:[c],isStocked:!1})})})}),Array.from(a.values()).map(r=>{const i=sa(r.name),l=n.some(o=>sa(o)===i),p=Number.isInteger(r.totalQuantity)?r.totalQuantity.toString():r.totalQuantity.toFixed(2).replace(/\.00$/,"");return r.quantity=`${p} ${r.unit}`.trim(),{...r,isStocked:l}})},Sl=e=>`https://blinkit.com/s/?q=${encodeURIComponent(e)}`,Il=e=>`https://zeptonow.com/search?query=${encodeURIComponent(e)}`,_l=e=>`https://www.swiggy.com/instamart/search?custom_back=true&query=${encodeURIComponent(e)}`,Tl=e=>[{name:"Blinkit",url:Sl(e),color:"bg-yellow-400 text-black"},{name:"Zepto",url:Il(e),color:"bg-purple-600 text-white"},{name:"Instamart",url:_l(e),color:"bg-orange-500 text-white"}],Cl=({plan:e,pantryStock:n,onToggleItem:a,onPrintTicket:s})=>{const[r,i]=b.useState([]),[l,p]=b.useState("");b.useEffect(()=>{const v=localStorage.getItem("tadkaSync_customGrocery");v&&i(JSON.parse(v))},[]),b.useEffect(()=>{localStorage.setItem("tadkaSync_customGrocery",JSON.stringify(r))},[r]);const o=v=>{const _=j=>j.toLowerCase().trim().replace(/s$/,""),E=_(v);return n.some(j=>_(j.name)===E&&(j.quantityType==="binary"||j.quantityLevel>0))},u=()=>{l.trim()&&(i(v=>[...v,l.trim()]),p(""))},h=v=>{i(_=>_.filter(E=>E!==v))},c=()=>{const v=r.filter(_=>!o(_));i(v)},g=b.useMemo(()=>{const v=n.filter(j=>j.quantityType==="binary"||j.quantityLevel>0).map(j=>j.name),_=jl(e,v),E={Produce:[],Protein:[],Dairy:[],Pantry:[],Spices:[],Custom:[]};return _.forEach(j=>{const H=j.category||"Pantry";E[H]?E[H].push(j):E.Pantry.push(j)}),r.forEach(j=>{const H=o(j);E.Custom.push({name:j,quantity:"1 unit",category:"Pantry",sourceDishes:["Manual Entry"],isStocked:H,totalQuantity:1,unit:"unit"})}),E},[e,r,n]),m=Object.values(g).every(v=>v.length===0),y=Object.values(g),N=y.reduce((v,_)=>v+_.length,0),d=y.flat().filter(v=>v.isStocked).length,f=N>0?d/N*100:0;return t.jsxs("div",{className:"flex flex-col h-full bg-paper",children:[t.jsxs("div",{className:"p-4 border-b-2 border-ink flex justify-between items-center sticky top-0 bg-paper z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black uppercase text-ink",children:"Shopping List"}),t.jsx("p",{className:"font-mono text-xs text-gray-600",children:"List"})]}),t.jsxs("button",{onClick:s,className:"bg-white text-ink border-2 border-ink px-4 py-2 font-bold uppercase shadow-hard hover:shadow-none hover:translate-y-1 transition flex items-center gap-2 text-xs",children:[t.jsx(yt,{size:16}),"Share"]})]}),t.jsx("div",{className:"h-2 w-full bg-gray-200 border-b-2 border-ink",children:t.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${f}%`}})}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-8 pb-32",children:[t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsx("input",{type:"text",placeholder:"Add household items (e.g. Dish Soap)...",className:"flex-1 border-2 border-ink p-2 font-mono text-xs focus:bg-yellow-50 focus:outline-none",value:l,onChange:v=>p(v.target.value),onKeyDown:v=>v.key==="Enter"&&u()}),t.jsx("button",{onClick:u,className:"bg-ink text-white px-3 border-2 border-ink shadow-hard active:translate-y-1 active:shadow-none",children:t.jsx(_e,{size:16})})]}),r.some(v=>o(v))&&t.jsxs("button",{onClick:c,className:"w-full mb-4 text-[10px] font-bold uppercase text-red-500 hover:text-red-700 flex items-center justify-center gap-1 border border-red-200 bg-red-50 p-2",children:[t.jsx(Ys,{size:12})," Clear Checked Custom Items"]}),Object.entries(g).map(([v,_])=>{const E=[..._].sort((j,H)=>j.isStocked!==H.isStocked?j.isStocked?1:-1:j.name.localeCompare(H.name));return E.length>0&&t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsx("h3",{className:"font-mono text-xs font-bold bg-ink text-white inline-block px-2 py-1 mb-3 uppercase",children:v}),t.jsx("div",{className:"space-y-1",children:E.map((j,H)=>{const J=j.isStocked,oe=v==="Custom",X=`${j.name}-${H}`;return t.jsxs("div",{className:`flex items-start gap-3 p-2 transition group ${J?"opacity-40 bg-gray-50":"hover:bg-yellow-50"}`,children:[t.jsx("div",{onClick:()=>a(j.name),className:"mt-0.5 text-ink transition-colors cursor-pointer group-hover:text-brand-600",children:J?t.jsx(kt,{size:18,strokeWidth:2}):t.jsx(Na,{size:18,strokeWidth:2})}),t.jsxs("div",{className:"flex-1 leading-tight flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:`font-bold text-sm ${J?"line-through decoration-2 decoration-ink text-gray-500":"text-ink"}`,children:j.name}),!oe&&t.jsxs("div",{className:"flex flex-col gap-0.5 mt-0.5",children:[t.jsx("span",{className:"font-mono text-xs text-gray-700 font-bold",children:j.quantity}),j.sourceDishes.length>1?t.jsxs("details",{className:"text-[9px] uppercase text-gray-400 cursor-pointer",children:[t.jsxs("summary",{className:"flex items-center gap-1 hover:text-gray-600",children:[t.jsx(qe,{size:8})," ",j.sourceDishes.length," dishes"]}),t.jsx("ul",{className:"mt-1 ml-3 space-y-0.5 text-gray-500",children:j.sourceDishes.map((F,C)=>t.jsxs("li",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-[8px]",children:"•"}),t.jsx("span",{children:F})]},C))})]}):t.jsxs("span",{className:"text-[9px] uppercase text-gray-400 flex items-center gap-1",children:[t.jsx(qe,{size:8})," ",j.sourceDishes[0]]})]})]}),t.jsxs("div",{className:"flex gap-2 items-center",children:[!oe&&!J&&Tl(j.name).slice(0,2).map(x=>t.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:`text-[9px] font-bold uppercase px-2 py-1 rounded-md flex items-center gap-1.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all
                                    ${x.name==="Blinkit"?"bg-[#F8CB46] text-black":x.name==="Zepto"?"bg-[#350F9C] text-white":"bg-[#FC8019] text-white"}`,title:`Buy on ${x.name}`,children:[t.jsx("span",{className:"font-black tracking-tighter",children:x.name}),t.jsx(xr,{size:10,className:"opacity-70"})]},x.name)),oe&&t.jsx("button",{onClick:()=>h(j.name),className:"text-gray-400 hover:text-red-500",children:t.jsx(Et,{size:14})})]})]})]},X)})})]},v)}),m&&t.jsxs("div",{className:"flex flex-col items-center justify-center mt-20 text-gray-400",children:[t.jsx(ba,{size:48,className:"mb-4 opacity-20"}),t.jsx("p",{className:"font-mono text-sm uppercase",children:"No Active Requirements"})]})]})]})},Al=({item:e,onUpdate:n,onDelete:a,onAddToGrocery:s})=>{const[r,i]=ee.useState(0),l=(o,u)=>{u.offset.x<-100?a():u.offset.x>100&&s()},p=()=>e.quantityType==="binary"?null:e.quantityType==="loose"?t.jsx("div",{className:"flex gap-1 items-center",onClick:o=>{o.stopPropagation();const u=e.quantityLevel===1?3:e.quantityLevel-1;n({quantityLevel:u})},children:[1,2,3].map(o=>t.jsx("div",{className:`w-2 h-4 rounded-sm transition-all ${e.quantityLevel>=o?"bg-brand-500":"bg-gray-200"}`},o))}):e.quantityType==="discrete"?t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-full px-2 py-1",onClick:o=>o.stopPropagation(),children:[t.jsx("button",{onClick:()=>n({quantityLevel:Math.max(0,e.quantityLevel-1)}),className:"p-1 hover:text-brand-600 rounded-full",children:t.jsx(Qr,{size:12})}),t.jsx("span",{className:"font-mono text-xs font-bold w-4 text-center",children:e.quantityLevel}),t.jsx("button",{onClick:()=>n({quantityLevel:e.quantityLevel+1}),className:"p-1 hover:text-brand-600 rounded-full",children:t.jsx(_e,{size:12})})]}):null;return t.jsxs("div",{className:"relative overflow-hidden rounded-xl h-16 group",children:[t.jsxs("div",{className:"absolute inset-0 flex justify-between items-center text-white px-6 font-bold uppercase text-xs",children:[t.jsxs("div",{className:"bg-green-500 absolute left-0 top-0 bottom-0 w-1/2 flex items-center pl-6",children:[t.jsx(ba,{className:"mr-2",size:18})," Restock"]}),t.jsxs("div",{className:"bg-red-500 absolute right-0 top-0 bottom-0 w-1/2 flex justify-end items-center pr-6",children:["Consumed ",t.jsx(Et,{className:"ml-2",size:18})]})]}),t.jsxs(G.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:l,whileDrag:{scale:1.02,cursor:"grabbing"},className:"relative bg-white border-2 border-ink p-3 shadow-hard-sm flex items-center justify-between h-full z-10 cursor-grab active:cursor-grabbing",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-2 h-8 rounded-full ${e.quantityType==="loose"&&e.quantityLevel===1?"bg-red-500":"bg-brand-200"}`}),t.jsxs("div",{children:[t.jsx("h4",{className:`font-bold text-sm text-ink leading-none ${e.quantityLevel===0?"opacity-50 line-through":""}`,children:e.name}),t.jsx("span",{className:"text-[10px] text-gray-400 font-mono uppercase tracking-wider",children:e.category})]})]}),t.jsx(p,{})]})]})},it=[{name:"Rice",category:"Pantry"},{name:"Dal",category:"Pantry"},{name:"Milk",category:"Dairy"},{name:"Eggs",category:"Dairy"},{name:"Onion",category:"Produce"},{name:"Potato",category:"Produce"},{name:"Tomato",category:"Produce"},{name:"Atta",category:"Pantry"}],Dl=({isOpen:e,onClose:n,onAdd:a})=>{const[s,r]=b.useState(""),[i,l]=b.useState(it);b.useEffect(()=>{if(s.trim()==="")l(it);else{const o=s.toLowerCase(),u=it.filter(h=>h.name.toLowerCase().includes(o));u.some(h=>h.name.toLowerCase()===o)||u.unshift({name:s,category:"Custom"}),l(u)}},[s]);const p=(o,u)=>{a(o,u),r("")};return t.jsx(ge,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-ink/50 backdrop-blur-sm z-50"}),t.jsxs(G.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 bg-paper rounded-t-[32px] shadow-2xl z-50 max-h-[85vh] flex flex-col",children:[t.jsxs("div",{className:"p-6 pb-2",children:[t.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"}),t.jsxs("div",{className:"relative",children:[t.jsx(wt,{className:"absolute left-4 top-4 text-gray-400",size:20}),t.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:o=>r(o.target.value),placeholder:"What did you buy?",className:"w-full pl-12 pr-12 py-4 bg-white border-2 border-ink rounded-2xl text-lg font-bold placeholder:text-gray-300 focus:outline-none focus:ring-4 focus:ring-brand-500/10"}),s&&t.jsx("button",{onClick:()=>r(""),className:"absolute right-4 top-4 text-gray-400 hover:text-ink",children:t.jsx(he,{size:20})})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pt-2",children:[t.jsx("h3",{className:"text-xs font-bold uppercase text-gray-400 ml-2 mb-2 tracking-wider",children:s?"Suggestions":"Quick Add Staples"}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.map((o,u)=>t.jsxs("button",{onClick:()=>p(o.name,o.category),className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl shadow-sm hover:border-brand-500 hover:bg-brand-50 transition-all group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-xs group-hover:bg-brand-200 group-hover:text-brand-700 transition-colors",children:o.name.substring(0,1)}),t.jsx("span",{className:"font-bold text-ink",children:o.name})]}),t.jsx(_e,{size:20,className:"text-gray-300 group-hover:text-brand-600"})]},o.name+u))})]})]})]})})},Rl=[{label:"Basics",items:["Salt","Pepper","Olive Oil","Sugar","Flour"]},{label:"Indian",items:["Turmeric","Cumin","Lentils","Basmati Rice"]},{label:"Fridge",items:["Eggs","Milk","Butter","Onion","Potato"]}],Ol=({pantryStock:e,onToggleItem:n,onBatchAdd:a,onClear:s,onCookFromPantry:r})=>{const[i,l]=b.useState(""),[p,o]=b.useState([]),[u,h]=b.useState(!1),[c,g]=b.useState(""),m=[...e].filter(f=>f.name.toLowerCase().includes(c.toLowerCase())).sort((f,v)=>f.name.localeCompare(v.name)),[y,N]=b.useState(!1),d=f=>{a([f])};return t.jsxs("div",{className:"flex flex-col h-full bg-paper",children:[t.jsxs("div",{className:"p-4 border-b-2 border-ink bg-paper sticky top-0 z-20",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black uppercase text-ink leading-none",children:"Manifest"}),t.jsx("p",{className:"font-mono text-[10px] text-gray-500 uppercase mt-1",children:"Operational Inventory"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>h(!u),className:`px-4 py-2 font-black text-[10px] uppercase border-2 transition-all ${u?"bg-red-500 text-white border-ink shadow-hard-sm":"bg-white text-ink border-ink"}`,children:u?"Confirm Audit":"Inventory Audit"}),t.jsxs("div",{className:"bg-ink text-white px-3 py-2 font-mono text-[10px] font-black border-2 border-ink",children:[e.length," UNIT"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(wt,{size:14,className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search inventory...",className:"w-full pl-9 pr-4 py-3 bg-white border-2 border-ink font-mono text-xs focus:outline-none",value:c,onChange:f=>g(f.target.value)})]}),!u&&t.jsx("button",{onClick:()=>N(!0),className:"bg-brand-500 text-white px-4 rounded-none border-2 border-ink shadow-hard active:translate-y-1 active:shadow-none hover:bg-brand-400 transition-all flex items-center justify-center",children:t.jsx(_e,{size:20,strokeWidth:3})})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-32 space-y-4",children:[!u&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"grid grid-cols-3 gap-2 py-4",children:Rl.map(f=>t.jsx("button",{onClick:()=>a(f.items),className:"bg-white border-2 border-ink p-2 font-mono text-[9px] font-black uppercase hover:bg-yellow-50",children:f.label},f.label))})}),u&&t.jsxs("div",{className:"bg-red-50 border-4 border-dashed border-red-500 p-4 mb-4",children:[t.jsx("p",{className:"font-black uppercase text-xs text-red-600 mb-1",children:"Audit Protocol Active"}),t.jsx("p",{className:"font-mono text-[9px] text-red-500",children:"Swipe Left to remove items or update quantity levels."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.map(f=>t.jsx(Al,{item:f,onUpdate:v=>{console.log("Update item",f.id,v)},onDelete:()=>n(f.name),onAddToGrocery:()=>{console.log("Add to grocery",f.id),n(f.name)}},f.id)),m.length===0&&t.jsxs("div",{className:"w-full py-20 text-center opacity-10",children:[t.jsx(ya,{size:64,className:"mx-auto mb-4"}),t.jsx("p",{className:"font-black text-2xl uppercase",children:"Zero Inventory"})]})]})]}),t.jsx("div",{className:"fixed bottom-24 right-6 flex flex-col gap-3 items-end",children:t.jsxs("button",{onClick:r,className:"bg-brand-500 text-white p-5 rounded-full border-4 border-ink shadow-hard flex items-center gap-3 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Ie,{size:24,strokeWidth:3}),t.jsx("span",{className:"font-black uppercase text-sm tracking-tighter",children:"Kitchen Autopilot"})]})}),t.jsx(Dl,{isOpen:y,onClose:()=>N(!1),onAdd:d})]})},ra=["North Indian","South Indian","Italian","Mexican","Thai","Chinese","Mediterranean","American"],Ml=["Vegetarian","Non-Vegetarian","Vegan","Any"],Ll=({userProfile:e,onUpdateProfile:n,onFactoryReset:a})=>{var j,H,J,oe,X;const[s,r]=b.useState({...e,allergens:e.allergens||[],conditions:e.conditions||[],cuisines:e.cuisines||[],dailyTargets:e.dailyTargets||{calories:2e3,protein:150,carbs:250,fat:70},allergenNotes:e.allergenNotes||"",conditionNotes:e.conditionNotes||"",cuisineNotes:e.cuisineNotes||"",healthReportSummary:e.healthReportSummary||"",biometrics:e.biometrics||{age:30,gender:"Other",weight:70,height:170,activityLevel:"Moderate",goal:"Maintain"}}),[i,l]=b.useState(!1),[p,o]=b.useState(!1),[u,h]=b.useState(""),c=x=>{r(F=>({...F,allergens:F.allergens.includes(x)?F.allergens.filter(C=>C!==x):[...F.allergens,x]}))},g=x=>{r(F=>({...F,conditions:F.conditions.includes(x)?F.conditions.filter(C=>C!==x):[...F.conditions,x]}))},m=x=>{r(F=>({...F,cuisines:F.cuisines.includes(x)?F.cuisines.filter(C=>C!==x):[...F.cuisines,x]}))},y=()=>{u.trim()&&!s.cuisines.includes(u.trim())&&(r(x=>({...x,cuisines:[...x.cuisines,u.trim()]})),h(""))},N=(x,F)=>{const C=parseInt(F)||0;r(V=>({...V,dailyTargets:{...V.dailyTargets,[x]:C}}))},d=(x,F)=>{r(C=>({...C,biometrics:{...C.biometrics,[x]:F}}))},f=async x=>{if(x.target.files&&x.target.files[0]){o(!0);try{const F=await Rt(x.target.files[0]);r(C=>({...C,healthReportSummary:F}))}finally{o(!1)}}},[v,_]=b.useState(null),E=()=>{if(!s.name||s.name.trim().length<2){_("Please enter a valid name (at least 2 characters).");return}if(s.cuisines.length===0){_("Please select at least one cuisine preference.");return}if(s.biometrics&&(s.biometrics.age<1||s.biometrics.age>120)){_("Please enter a valid age (1-120).");return}_(null),n(s),l(!0),setTimeout(()=>l(!1),2e3)};return t.jsxs("div",{className:"flex flex-col h-full bg-paper",children:[t.jsxs("div",{className:"p-4 border-b-2 border-ink bg-paper sticky top-0 z-10 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black uppercase text-ink",children:"My Profile"}),t.jsx("p",{className:"font-mono text-xs text-gray-600",children:"Settings"})]}),t.jsxs("button",{onClick:E,className:`px-4 py-2 font-bold uppercase border-2 border-ink shadow-hard hover:shadow-none hover:translate-y-1 transition flex items-center gap-2 text-xs ${i?"bg-green-500 text-white":"bg-ink text-white"}`,children:[t.jsx(lt,{size:16}),i?"Saved":"Save"]})]}),v&&t.jsxs("div",{className:"bg-red-100 border-b-2 border-red-500 p-3 text-red-800 text-sm font-bold flex items-center gap-2",children:[t.jsx(Ht,{size:16}),v]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-8 pb-24",children:[t.jsxs("div",{className:"bg-ink text-white p-6 rounded-2xl shadow-hard mb-8 relative overflow-hidden",children:[t.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-mono text-[10px] uppercase opacity-60 mb-1",children:"Credits"}),t.jsxs("div",{className:"text-4xl font-black tracking-tighter flex items-baseline gap-1",children:[s.credits||0,t.jsx("span",{className:"text-sm font-bold text-brand-500",children:"CR"})]})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"inline-flex items-center gap-1 bg-white/10 px-2 py-1 rounded text-[9px] font-bold uppercase mb-2",children:[t.jsx(tt,{size:10})," Balance"]})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"bg-white/5 p-2 rounded flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-500 text-ink flex items-center justify-center font-black text-xs",children:"+3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-[10px] uppercase",children:"Cook Dish"}),t.jsx("p",{className:"text-[8px] opacity-60",children:"Log a completed meal"})]})]}),t.jsxs("div",{className:"bg-white/5 p-2 rounded flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-white text-ink flex items-center justify-center font-black text-xs border-2 border-ink",children:"-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-[10px] uppercase",children:"View Recipe"}),t.jsx("p",{className:"text-[8px] opacity-60",children:"Reveal full recipe"})]})]})]})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(jt,{className:"text-ink",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm",children:"Name"})]}),t.jsx("label",{className:"font-mono text-xs uppercase text-gray-500 block mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:s.name,maxLength:40,onChange:x=>r({...s,name:x.target.value}),className:"w-full border-2 border-gray-200 p-2 font-bold text-ink focus:border-ink focus:outline-none"})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(tt,{className:"text-orange-500",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm text-orange-500",children:"Body Details"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Age"}),t.jsx("input",{type:"number",value:(j=s.biometrics)==null?void 0:j.age,onChange:x=>d("age",parseInt(x.target.value)),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Gender"}),t.jsxs("select",{value:(H=s.biometrics)==null?void 0:H.gender,onChange:x=>d("gender",x.target.value),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none bg-white",children:[t.jsx("option",{value:"Male",children:"Male"}),t.jsx("option",{value:"Female",children:"Female"}),t.jsx("option",{value:"Other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Weight (kg)"}),t.jsx("input",{type:"number",value:(J=s.biometrics)==null?void 0:J.weight,onChange:x=>d("weight",parseInt(x.target.value)),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Height (cm)"}),t.jsx("input",{type:"number",value:(oe=s.biometrics)==null?void 0:oe.height,onChange:x=>d("height",parseInt(x.target.value)),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Activity Level"}),t.jsxs("select",{value:(X=s.biometrics)==null?void 0:X.activityLevel,onChange:x=>d("activityLevel",x.target.value),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none bg-white",children:[t.jsx("option",{value:"Sedentary",children:"Sedentary (Office Job)"}),t.jsx("option",{value:"Light",children:"Light (1-2 days/week)"}),t.jsx("option",{value:"Moderate",children:"Moderate (3-5 days/week)"}),t.jsx("option",{value:"Active",children:"Active (6-7 days/week)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Goal"}),t.jsx("div",{className:"flex gap-2",children:["Lose","Maintain","Gain"].map(x=>{var F;return t.jsx("button",{onClick:()=>d("goal",x),className:`flex-1 py-2 text-xs font-bold uppercase border-2 transition ${((F=s.biometrics)==null?void 0:F.goal)===x?"bg-orange-500 text-white border-orange-700":"bg-white border-gray-200 text-gray-400"}`,children:x},x)})})]})]})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(qe,{className:"text-ink",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm",children:"Dietary Preferences"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"font-mono text-xs uppercase text-gray-500 block mb-2",children:"Type"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Ml.map(x=>t.jsx("button",{onClick:()=>r({...s,dietaryPreference:x}),className:`px-3 py-1 text-xs font-bold uppercase border-2 rounded-full transition ${s.dietaryPreference===x?"bg-ink text-white border-ink":"bg-white border-gray-200 text-gray-400"}`,children:x},x))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"font-mono text-xs uppercase text-gray-500 block mb-2",children:"Always remember"}),t.jsx("textarea",{value:s.customNotes,maxLength:300,onChange:x=>r({...s,customNotes:x.target.value}),className:"w-full border-2 border-gray-200 p-2 font-mono text-xs focus:border-ink focus:outline-none min-h-[80px]",placeholder:"Enter permanent constraints (e.g. 'Use olive oil', 'Meal prep on Sundays')..."})]})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(Ri,{className:"text-purple-600",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm text-purple-600",children:"Nutrition Goals"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Calories"}),t.jsx("input",{type:"number",value:s.dailyTargets.calories,onChange:x=>N("calories",x.target.value),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Protein (g)"}),t.jsx("input",{type:"number",value:s.dailyTargets.protein,onChange:x=>N("protein",x.target.value),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Carbs (g)"}),t.jsx("input",{type:"number",value:s.dailyTargets.carbs,onChange:x=>N("carbs",x.target.value),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 block mb-1",children:"Fat (g)"}),t.jsx("input",{type:"number",value:s.dailyTargets.fat,onChange:x=>N("fat",x.target.value),className:"w-full border-2 border-gray-200 p-2 font-mono text-sm focus:border-ink focus:outline-none"})]})]})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(ga,{className:"text-ink",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm",children:"Favorite Cuisines"})]}),t.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:ra.map(x=>t.jsx("button",{onClick:()=>m(x),className:`p-2 text-xs font-bold uppercase border-2 transition ${s.cuisines.includes(x)?"bg-yellow-300 border-ink text-ink":"bg-white border-gray-200 text-gray-400 hover:border-gray-400"}`,children:x},x))}),t.jsxs("div",{className:"mb-4 border-t border-gray-100 pt-3",children:[t.jsx("label",{className:"text-[10px] font-mono uppercase text-gray-500 mb-2 block",children:"Add Custom Cuisines"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("input",{type:"text",value:u,maxLength:25,onChange:x=>h(x.target.value),placeholder:"e.g. Ethiopian...",className:"flex-1 border-2 border-gray-200 p-2 font-mono text-xs focus:border-ink focus:outline-none",onKeyDown:x=>x.key==="Enter"&&y()}),t.jsx("button",{onClick:y,className:"bg-ink text-white px-3 border-2 border-ink hover:bg-gray-800",children:t.jsx(_e,{size:16})})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.cuisines.filter(x=>!ra.includes(x)).map(x=>t.jsxs("span",{className:"bg-yellow-100 border border-ink px-2 py-1 text-[10px] font-bold uppercase flex items-center gap-1",children:[x," ",t.jsx("button",{onClick:()=>m(x),children:t.jsx(he,{size:10})})]},x))})]}),t.jsx("textarea",{value:s.cuisineNotes,maxLength:300,onChange:x=>r({...s,cuisineNotes:x.target.value}),className:"w-full border-2 border-gray-200 p-2 font-mono text-xs focus:border-ink focus:outline-none min-h-[60px]",placeholder:"Taste nuances (e.g. 'Love spicy', 'Crispy textures')..."})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(wi,{className:"text-red-500",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm text-red-500",children:"Allergies"})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.values($).map(x=>t.jsx("button",{onClick:()=>c(x),className:`px-3 py-1 text-xs font-bold uppercase border-2 rounded-full transition ${s.allergens.includes(x)?"bg-red-500 border-red-700 text-white":"bg-white border-gray-200 text-gray-400"}`,children:x},x))}),t.jsx("textarea",{value:s.allergenNotes,maxLength:300,onChange:x=>r({...s,allergenNotes:x.target.value}),className:"w-full border-2 border-gray-200 p-2 font-mono text-xs focus:border-ink focus:outline-none min-h-[60px]",placeholder:"Specific allergy details (e.g. 'Peanut traces ok', 'Severe shellfish')..."})]}),t.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b-2 border-gray-100 pb-2",children:[t.jsx(tt,{className:"text-blue-500",size:20}),t.jsx("h3",{className:"font-black uppercase text-sm text-blue-500",children:"Health Conditions"})]}),t.jsx("div",{className:"flex flex-col gap-2 mb-4",children:Object.values(Ye).filter(x=>x!=="None").map(x=>t.jsxs("button",{onClick:()=>g(x),className:`p-3 text-xs font-bold uppercase border-2 flex justify-between items-center transition ${s.conditions.includes(x)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-400"}`,children:[x,s.conditions.includes(x)&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]},x))}),t.jsx("textarea",{value:s.conditionNotes,maxLength:300,onChange:x=>r({...s,conditionNotes:x.target.value}),className:"w-full border-2 border-gray-200 p-2 font-mono text-xs focus:border-ink focus:outline-none min-h-[60px]",placeholder:"Condition specifics (e.g. 'Insulin resistance', 'Low sodium')..."}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsxs("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-2 block flex items-center gap-1",children:[t.jsx(kr,{size:12})," Health Report"]}),p?t.jsxs("div",{className:"flex items-center gap-2 text-xs font-mono text-ink animate-pulse p-2",children:[t.jsx(fe,{className:"animate-spin",size:14})," ANALYZING REPORT..."]}):t.jsx("div",{className:"flex gap-2",children:t.jsxs("label",{className:"cursor-pointer bg-white border-2 border-gray-200 px-3 py-2 flex items-center gap-2 hover:border-ink transition active:translate-y-0.5",children:[t.jsx($i,{size:14}),t.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Upload Report"}),t.jsx("input",{type:"file",className:"hidden",accept:"image/*,.pdf",onChange:f})]})}),s.healthReportSummary?t.jsxs("div",{className:"bg-green-50 border border-green-200 p-2 text-xs font-mono text-green-800 mt-2",children:[t.jsx("div",{className:"font-bold uppercase text-[10px] mb-1 opacity-50",children:"Analysis Result:"}),s.healthReportSummary]}):t.jsx("div",{className:"text-xs text-gray-400 font-mono italic mt-2",children:"No data. Upload a fake medical report (image) to test."})]})]}),t.jsxs("div",{className:"border-2 border-red-200 bg-red-50 p-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-600",children:[t.jsx(Ht,{size:20}),t.jsx("h3",{className:"font-black uppercase text-sm",children:"Advanced"})]}),t.jsx("p",{className:"text-[10px] text-red-600 mb-4 font-mono",children:"Factory reset will wipe all local data including preferences, pantry stock, and meal plans."}),t.jsx("button",{onClick:a,className:"w-full bg-white border-2 border-red-500 text-red-500 font-bold uppercase py-3 text-xs hover:bg-red-500 hover:text-white transition-colors",children:"Factory Reset"})]})]})]})},Pl=e=>{const n=e.trim(),a=n.match(/^(\d+)[\s-](\d+)\/(\d+)$/);if(a)return parseInt(a[1])+parseInt(a[2])/parseInt(a[3]);const s=n.match(/^(\d+)\/(\d+)$/);if(s)return parseInt(s[1])/parseInt(s[2]);const r=n.match(/^(\d+(\.\d+)?)$/);return r?parseFloat(r[1]):null},Fl=e=>{if(e===0)return"";if(Number.isInteger(e))return e.toString();const n=Math.floor(e),a=e-n,s=(i,l)=>Math.abs(i-l)<.05;let r="";return s(a,.25)?r="¼":s(a,.33)?r="⅓":s(a,.5)?r="½":s(a,.66)?r="⅔":s(a,.75)?r="¾":r=a.toFixed(1).replace(".0",""),r.startsWith("0.")?r:n>0?`${n} ${r}`:r},ls=(e,n)=>{if(n===1)return e;const a=e.match(/^([\d\s\/\.-]+)(.*)$/);if(a){const s=a[1].trim(),r=a[2],i=Pl(s);if(i!==null){const l=i*n,p=Math.round(l*100)/100;return`${Fl(p)}${r}`}}return`${e} (x${n})`},Ul=({dish:e,servings:n,onClose:a,onFinish:s})=>{const[r,i]=b.useState(!1),[l,p]=b.useState(new Set),[o,u]=b.useState(new Set),[h,c]=b.useState(new Set);b.useEffect(()=>{if(r){const d=new Set;e.ingredients.forEach(f=>{["Produce","Protein","Dairy"].includes(f.category)&&d.add(f.name)}),p(d)}},[r,e.ingredients]),b.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const g=d=>{const f=new Set(o);f.has(d)?f.delete(d):f.add(d),u(f)},m=d=>{const f=new Set(h);f.has(d)?f.delete(d):f.add(d),c(f)},y=d=>{const f=new Set(l);f.has(d)?f.delete(d):f.add(d),p(f)},N=()=>{s(Array.from(l))};return t.jsxs("div",{className:"fixed inset-0 z-[60] bg-ink text-white flex flex-col animate-in slide-in-from-bottom duration-300",children:[r&&t.jsx("div",{className:"absolute inset-0 z-[70] bg-black/80 backdrop-blur-sm flex items-center justify-center p-6",children:t.jsxs("div",{className:"bg-paper text-ink w-full max-w-sm p-6 shadow-hard border-2 border-white animate-in zoom-in-95 duration-200",children:[t.jsx("h3",{className:"font-black uppercase text-xl mb-1",children:"Update Pantry"}),t.jsx("p",{className:"font-mono text-xs text-gray-600 mb-4",children:"Mark items as used to remove from pantry."}),t.jsx("div",{className:"max-h-60 overflow-y-auto mb-6 border-y-2 border-gray-200 py-2",children:e.ingredients.map(d=>t.jsxs("div",{onClick:()=>y(d.name),className:"flex items-center gap-3 p-2 cursor-pointer hover:bg-yellow-50",children:[l.has(d.name)?t.jsx(kt,{size:18,className:"text-red-500"}):t.jsx(Na,{size:18,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:`font-bold text-sm ${l.has(d.name)?"line-through text-gray-400":"text-ink"}`,children:d.name}),t.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400",children:d.category})]})]},d.name))}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>i(!1),className:"flex-1 py-3 font-bold uppercase border-2 border-ink hover:bg-gray-100",children:"Cancel"}),t.jsx("button",{onClick:N,className:"flex-1 py-3 font-black uppercase bg-red-500 text-white border-2 border-ink shadow-hard hover:translate-y-1 hover:shadow-none transition-all",children:"Confirm"})]})]})}),t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20 bg-ink sticky top-0 z-10",children:[t.jsx("button",{onClick:a,className:"p-2 -ml-2 text-gray-400 hover:text-white",children:t.jsx(ma,{size:24})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"font-black uppercase text-sm tracking-widest text-brand-500",children:"Cooking Mode"}),t.jsx("p",{className:"font-bold text-xs",children:e.name})]}),t.jsx("div",{className:"w-8"})," "]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 pb-32",children:[t.jsxs("section",{children:[t.jsx("h4",{className:"font-mono text-xs font-bold text-brand-500 uppercase mb-4 tracking-widest border-b border-white/10 pb-2",children:"1. Ingredients"}),t.jsx("div",{className:"space-y-3",children:e.ingredients.map((d,f)=>{const v=o.has(f);return t.jsxs("div",{onClick:()=>g(f),className:`flex items-start gap-4 p-3 rounded-lg border transition-all cursor-pointer ${v?"border-brand-900 bg-brand-900/20 opacity-50":"border-white/20 bg-white/5"}`,children:[v?t.jsx(Vs,{className:"text-brand-500 shrink-0"}):t.jsx(Ws,{className:"text-gray-500 shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:`font-mono text-lg font-bold block ${v?"line-through decoration-brand-500 text-gray-400":"text-white"}`,children:ls(d.quantity,n)}),t.jsx("span",{className:"text-sm text-gray-400 uppercase font-bold",children:d.name})]})]},f)})})]}),t.jsxs("section",{children:[t.jsx("h4",{className:"font-mono text-xs font-bold text-brand-500 uppercase mb-4 tracking-widest border-b border-white/10 pb-2",children:"2. Instructions"}),t.jsx("div",{className:"space-y-6",children:e.instructions.map((d,f)=>{const v=h.has(f);return t.jsxs("div",{onClick:()=>m(f),className:`relative pl-4 transition-all cursor-pointer ${v?"opacity-40":"opacity-100"}`,children:[t.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${v?"bg-brand-900":"bg-brand-500"}`}),t.jsxs("div",{className:"flex gap-3 mb-1",children:[t.jsxs("span",{className:"font-mono text-xs text-brand-500 font-bold mb-1",children:["STEP 0",f+1]}),v&&t.jsx("span",{className:"font-mono text-xs text-brand-500 font-bold",children:"✓ COMPLETED"})]}),t.jsx("p",{className:`text-xl font-medium leading-snug ${v?"line-through text-gray-500":"text-white"}`,children:d})]},f)})})]}),t.jsxs("div",{className:"pt-8 text-center pb-8",children:[t.jsx("button",{onClick:()=>i(!0),className:"w-full bg-white text-ink font-black uppercase py-4 tracking-widest hover:bg-gray-100 transition-colors",children:"Done Cooking"}),t.jsx("p",{className:"font-mono text-[10px] uppercase mt-4 opacity-50",children:"Screen Wake Lock Active"})]})]})]})},Gl=({dish:e,userProfile:n,onClose:a,onSave:s,onCook:r,onUpdate:i})=>{const[l,p]=b.useState(e.userNotes||""),[o,u]=b.useState("recipe"),[h,c]=b.useState(e.servings||1),[g,m]=b.useState(!1),[y,N]=b.useState(!1),[d,f]=b.useState(!1);ee.useEffect(()=>{const E=!e.ingredients||e.ingredients.length===0||!e.instructions||e.instructions.length===0,j=e.isLocked;E&&!d&&!y&&!j&&(console.log("[DishModal] Dish missing data (Ghost). Triggering Lazy Hydration for:",e.name),f(!0),ae(async()=>{const{enrichDishDetails:H}=await Promise.resolve().then(()=>is);return{enrichDishDetails:H}},void 0).then(({enrichDishDetails:H})=>{H(e,n).then(J=>{i&&i(J),f(!1)}).catch(J=>{console.error("Hydration Failed",J),f(!1)})}))},[e.id]);const v=()=>{s(e.id,l,h),a()},_=E=>{r&&r(e,E),a()};return g?t.jsx(Ul,{dish:e,servings:h,onClose:()=>m(!1),onFinish:_}):t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-ink/80 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white border-2 border-ink w-full max-w-sm shadow-hard overflow-hidden flex flex-col max-h-[85vh]",children:[t.jsxs("div",{className:"bg-paper border-b-2 border-ink p-6 relative shrink-0",children:[t.jsx("button",{onClick:a,className:"absolute top-4 right-4 bg-white border-2 border-ink p-1 hover:bg-red-50 text-ink transition active:translate-y-1",children:t.jsx(he,{size:20})}),t.jsxs("div",{className:"pr-8",children:[t.jsx("span",{className:"font-mono text-[10px] uppercase bg-ink text-white px-1",children:"Recipe"}),t.jsx("h3",{className:"font-black text-2xl uppercase mt-2 leading-none text-ink",children:e.name}),t.jsx("p",{className:"font-serif italic text-gray-600 mt-1",children:e.localName})]})]}),(d||y)&&t.jsxs("div",{className:"p-2 bg-blue-50 border-b border-blue-100 flex items-center gap-2 justify-center text-xs font-bold text-blue-700 animate-pulse",children:[t.jsx(fe,{className:"animate-spin",size:14})," RESTORING RECIPE DATA..."]}),!d&&t.jsxs("div",{className:"mt-4 p-2 bg-yellow-50 border border-yellow-200 rounded text-[10px] text-yellow-800 flex items-center gap-2 mx-4",children:[t.jsx("span",{className:"font-bold",children:"⚠️ AI GENERATED:"})," Verify ingredients and instructions before cooking."]}),t.jsxs("div",{className:"flex border-b-2 border-ink",children:[t.jsxs("button",{onClick:()=>u("recipe"),className:`flex-1 py-4 text-xs font-bold uppercase flex items-center justify-center gap-2 transition-colors ${o==="recipe"?"bg-ink text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:[t.jsx(Ie,{size:16})," Ingredients"]}),t.jsxs("button",{onClick:()=>u("notes"),className:`flex-1 py-4 text-xs font-bold uppercase flex items-center justify-center gap-2 transition-colors ${o==="notes"?"bg-ink text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:[t.jsx(fi,{size:16})," Notes"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white flex flex-col",children:o==="recipe"?t.jsxs("div",{className:"space-y-8 flex-1",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[t.jsx(wa,{size:16}),t.jsx("span",{className:"font-mono text-xs font-bold uppercase",children:"Servings"})]}),t.jsx("div",{className:"flex gap-1",children:[1,2,4,6].map(E=>t.jsxs("button",{onClick:()=>c(E),className:`w-8 h-8 font-mono text-xs font-bold border ${h===E?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-200 hover:bg-blue-100"}`,children:["x",E]},E))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-mono text-xs font-bold text-ink bg-gray-100 inline-block px-2 py-1 mb-4 uppercase",children:"Ingredients"}),t.jsx("ul",{className:"space-y-2",children:e.ingredients.map((E,j)=>t.jsxs("li",{className:"text-sm font-medium flex justify-between items-end border-b border-dashed border-gray-300 pb-1",children:[t.jsx("span",{className:"text-ink",children:E.name}),t.jsx("span",{className:`font-mono text-xs ${h>1?"text-blue-600 font-bold":"text-gray-500"}`,children:ls(E.quantity,h)})]},j))})]}),t.jsxs("button",{onClick:()=>m(!0),className:"w-full bg-brand-500 text-white border-2 border-ink py-4 font-black uppercase tracking-wider shadow-hard active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2",children:[t.jsx(ri,{size:20,fill:"currentColor"})," Start Cooking"]}),t.jsxs("div",{className:"opacity-60 grayscale",children:[t.jsx("h4",{className:"font-mono text-xs font-bold text-ink bg-gray-100 inline-block px-2 py-1 mb-4 uppercase",children:"Instructions"}),e.instructions&&e.instructions.length>0?t.jsxs("ol",{className:"space-y-4",children:[e.instructions.slice(0,3).map((E,j)=>t.jsxs("li",{className:"text-sm flex gap-4",children:[t.jsx("span",{className:"shrink-0 w-6 h-6 border-2 border-ink text-ink flex items-center justify-center font-mono text-xs font-bold",children:j+1}),t.jsx("span",{className:"text-gray-800 leading-snug pt-0.5 line-clamp-2",children:E})]},j)),e.instructions.length>3&&t.jsx("li",{className:"text-xs text-center italic font-mono pt-2",children:"...Start Cooking to see full steps"})]}):t.jsxs("div",{className:"mt-8 bg-gradient-to-br from-brand-50 to-brand-100/50 border border-brand-200 p-6 rounded-xl text-center relative overflow-hidden group",children:[t.jsx(Ie,{className:"absolute top-[-20%] right-[-10%] text-brand-500/5 w-32 h-32 rotate-12 group-hover:rotate-0 transition-transform duration-700"}),t.jsx("h4",{className:"font-mono text-xs font-black uppercase text-brand-800 mb-2",children:"Want to cook this?"}),t.jsx("p",{className:"text-xs text-brand-700 mb-4 px-4 leading-relaxed",children:"Unlock the full step-by-step guide, precise measurements, and chef's secrets."}),i&&t.jsx("button",{onClick:async()=>{N(!0);const E=await ns(e,n);i(E),N(!1)},disabled:y,className:"w-full bg-brand-500 hover:bg-brand-600 text-white py-3 px-4 font-black uppercase text-xs tracking-wider rounded-lg shadow-hard-sm hover:shadow-hard active:translate-y-px active:shadow-none transition-all flex items-center justify-center gap-2",children:y?t.jsxs(t.Fragment,{children:[t.jsx(fe,{className:"animate-spin",size:14})," Chef is writing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Le,{size:14})," Generate Full Recipe"]})})]})]}),t.jsxs("button",{onClick:v,className:"w-full mt-4 bg-white text-ink border-2 border-ink py-3 font-bold uppercase tracking-wider hover:bg-gray-50 transition-all text-xs",children:[t.jsx(lt,{size:14,className:"inline mr-2"})," Save & Close"]})]}):t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("label",{className:"block font-mono text-xs font-bold text-ink uppercase mb-2",children:"My Notes"}),t.jsx("p",{className:"text-xs text-gray-500 mb-4 leading-relaxed",children:"These notes will be saved for next time."}),t.jsx("textarea",{className:"w-full border-2 border-ink bg-yellow-50 p-4 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-black/10 resize-none flex-1 min-h-[150px]",placeholder:"e.g. Omit cilantro. Low sodium...",maxLength:250,value:l,onChange:E=>p(E.target.value)}),t.jsxs("div",{className:"text-right text-[10px] text-gray-400 mt-1 mb-4 font-mono",children:[l.length,"/250"]}),t.jsxs("button",{onClick:v,className:"w-full mt-auto bg-ink text-white border-2 border-ink py-4 font-black uppercase tracking-wider shadow-hard-sm hover:translate-y-px hover:shadow-none transition-all",children:[t.jsx(lt,{size:18,className:"inline mr-2"})," Save Notes"]})]})})]})})},Hl=({plan:e,missingIngredients:n,onClose:a,onSend:s})=>{const[r,i]=b.useState(null),[l,p]=b.useState(!1),o=async()=>{p(!0);const h=await rs();if(h){const c=await(await fetch(`data:audio/wav;base64,${h}`)).blob(),g=URL.createObjectURL(c);i(g)}else alert("Voice generation is currently disabled.");p(!1)},u=async()=>{if(r)try{const h=await(await fetch(r)).blob(),c=new File([h],"Cook_Instructions.wav",{type:"audio/wav"});if(navigator.canShare&&navigator.canShare({files:[c]}))await navigator.share({files:[c],title:"Cook Instructions (Hindi)",text:"TadkaSync Audio Briefing for the Cook."});else{const g=document.createElement("a");g.href=r,g.download="Cook_Instructions.wav",document.body.appendChild(g),g.click(),document.body.removeChild(g)}}catch(h){console.error("Sharing failed",h)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-4 animate-in fade-in duration-300 overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"w-full max-w-sm relative my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 text-white",children:[t.jsx("h3",{className:"font-mono text-[10px] uppercase tracking-[0.3em] text-white/50",children:"Terminal Printout"}),t.jsx("button",{onClick:a,className:"bg-white/10 hover:bg-white/20 p-2 rounded-full transition",children:t.jsx(he,{size:20})})]}),t.jsxs("div",{className:"bg-[#F2F0E9] w-full shadow-2xl relative flex flex-col font-mono text-ink text-[12px] leading-tight filter drop-shadow-xl transform rotate-1",children:[t.jsxs("div",{className:"p-8 pb-6 text-center border-b-[2px] border-dashed border-ink/30 mx-2",children:[t.jsx("div",{className:"flex justify-center mb-3",children:t.jsx(li,{size:32,strokeWidth:1})}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tighter mb-1 scale-y-110",children:"TadkaSync OS"}),t.jsx("p",{className:"text-[9px] uppercase tracking-widest text-ink/40",children:"INTELLIGENCE LAYER ACTIVATED"}),t.jsxs("div",{className:"flex justify-between mt-6 text-[10px] uppercase font-bold border-t border-b border-ink py-2",children:[t.jsxs("span",{children:["Dte: ",new Date().toLocaleDateString()]}),t.jsxs("span",{children:["Tkt: ",Math.floor(Math.random()*99999)]})]})]}),t.jsxs("div",{className:"px-8 py-6 space-y-8 max-h-[50vh] overflow-y-auto no-scrollbar",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("span",{className:"bg-ink text-[#F2F0E9] px-1.5 py-0.5 font-black text-[10px] uppercase",children:"Service Rotation"}),t.jsx("div",{className:"flex-1 h-px bg-ink/20"})]}),e.filter(h=>h.lunch||h.dinner).map((h,c)=>t.jsxs("div",{className:"mb-6 last:mb-0 border-l-2 border-ink/10 pl-4",children:[t.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[t.jsx("span",{className:"font-black text-[13px] uppercase tracking-wider",children:h.day}),t.jsxs("span",{className:"text-[8px] uppercase text-ink/30 font-bold",children:["NODE ",c+1]})]}),t.jsxs("div",{className:"space-y-3",children:[h.lunch&&t.jsxs("div",{className:"flex justify-between items-start gap-4",children:[t.jsx("span",{className:"text-[9px] uppercase font-bold text-ink/30 shrink-0",children:"AM"}),t.jsx("span",{className:"flex-1 text-right font-bold leading-none",children:h.lunch.localName||h.lunch.name})]}),h.dinner&&t.jsxs("div",{className:"flex justify-between items-start gap-4",children:[t.jsx("span",{className:"text-[9px] uppercase font-bold text-ink/30 shrink-0",children:"PM"}),t.jsx("span",{className:"flex-1 text-right font-bold leading-none",children:h.dinner.localName||h.dinner.name})]})]})]},c))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("span",{className:"bg-ink text-[#F2F0E9] px-1.5 py-0.5 font-black text-[10px] uppercase",children:"Procurement List"}),t.jsx("div",{className:"flex-1 h-px bg-ink/20"})]}),n.length===0?t.jsx("p",{className:"text-center italic text-ink/40 text-xs py-4",children:"-- INVENTORY OPTIMIZED --"}):n.map(h=>t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider text-ink/40 mb-2 block",children:h.category}),h.items.map(c=>{var g;return t.jsxs("div",{className:"flex justify-between pl-0 text-[11px] py-1 border-b border-dotted border-ink/10 last:border-0",children:[t.jsx("span",{className:"uppercase font-medium pr-4",children:c.split("(")[0]}),t.jsx("span",{className:"font-bold whitespace-nowrap",children:((g=c.split("(")[1])==null?void 0:g.replace(")",""))||"1 Unit"})]},c)})]},h.category))]}),t.jsxs("div",{className:"pt-6 border-t-[2px] border-dashed border-ink/30 mt-6",children:[t.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase mb-1",children:[t.jsx("span",{children:"Planned Nodes"}),t.jsx("span",{children:e.filter(h=>h.lunch||h.dinner).length})]}),t.jsxs("div",{className:"flex justify-between text-xl font-black uppercase mt-4 border-t-2 border-ink pt-2",children:[t.jsx("span",{children:"Grand Total"}),t.jsx("span",{children:"0.00"})]}),t.jsxs("div",{className:"text-center mt-10 mb-4 opacity-30 grayscale contrast-150",children:[t.jsx(Ss,{className:"w-full h-10"}),t.jsxs("p",{className:"text-[8px] uppercase mt-2 tracking-[0.4em] font-black",children:["Authentication: ",Math.random().toString(36).substring(7).toUpperCase()]})]})]})]}),t.jsx("div",{className:"relative h-4 w-full bg-[#F2F0E9] translate-y-[95%]",children:t.jsx("div",{className:"receipt-zigzag opacity-100"})})]}),t.jsxs("div",{className:"mt-12 flex flex-col gap-4",children:[t.jsxs("div",{className:"bg-white/5 border-2 border-white/10 p-4 rounded-2xl",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-brand-500",children:[t.jsx(Le,{size:14}),t.jsx("span",{className:"font-mono text-[10px] font-bold uppercase tracking-widest",children:"Hindi Briefing (AI)"})]}),r?t.jsxs("div",{className:"flex items-center gap-2 bg-white/10 p-2 rounded-xl border border-white/10",children:[t.jsxs("button",{onClick:u,className:"bg-green-500 text-white p-3 rounded-xl hover:bg-green-600 transition flex items-center gap-2 font-bold uppercase text-[10px]",children:[t.jsx(vt,{size:16,fill:"currentColor"})," WhatsApp Audio"]}),t.jsx("audio",{src:r,controls:!0,className:"flex-1 h-10 filter invert"}),t.jsx("button",{onClick:()=>i(null),className:"p-2 text-white/30 hover:text-red-500",children:t.jsx(he,{size:20})})]}):t.jsxs("button",{onClick:o,disabled:l,className:"w-full bg-brand-500 text-white py-3 font-black uppercase tracking-widest hover:bg-brand-600 transition-all flex items-center justify-center gap-3 disabled:opacity-50 border-2 border-brand-400",children:[l?t.jsx(fe,{className:"animate-spin"}):t.jsx(fa,{size:18,strokeWidth:3}),l?"Synthesizing...":"Briefing for Cook"]})]}),t.jsxs("button",{onClick:s,className:"w-full bg-white text-ink py-4 font-black uppercase tracking-widest shadow-hard hover:translate-y-1 hover:shadow-none transition-all flex items-center justify-center gap-4 border-2 border-ink",children:[t.jsx(yt,{size:22,strokeWidth:3}),"Transmit Manifest"]})]})]})})},$l=()=>{const[e,n]=b.useState([]),[a,s]=b.useState("today"),[r,i]=b.useState(new Set);b.useEffect(()=>{try{const g=new URLSearchParams(window.location.search).get("data");if(g){const m=decodeURIComponent(atob(g)),y=JSON.parse(m);n(y)}}catch(c){console.error("Failed to load kitchen data",c)}},[]);const l=new Date().getDay()-1,p=l<0?0:l,o=a==="today"?e[p]:e[(p+1)%7],u=c=>{const g=new Set(r);g.has(c)?g.delete(c):g.add(c),i(g)};if(!o)return t.jsxs("div",{className:"h-screen bg-ink text-white flex flex-col items-center justify-center p-8 text-center",children:[t.jsx(va,{size:64,className:"mb-4 text-brand-500 animate-pulse"}),t.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter",children:"Connecting Terminal..."}),t.jsx("p",{className:"font-mono text-xs opacity-50 mt-4 uppercase",children:"Waiting for House Manager Broadcast"})]});const h=({title:c,dish:g})=>{if(!g)return null;const m=g.instructions.length,y=g.instructions.filter((d,f)=>r.has(`${g.id}-step-${f}`)).length,N=Math.round(y/m*100);return t.jsxs("div",{className:"bg-white text-ink mb-16 border-4 border-ink shadow-[12px_12px_0px_0px_#18181b] rounded-none overflow-hidden",children:[t.jsxs("div",{className:"bg-ink text-white p-6 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(jr,{className:"text-brand-500",size:20}),t.jsx("span",{className:"font-mono text-sm font-black uppercase tracking-widest",children:c})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 font-mono text-xs font-black uppercase",children:[t.jsx(wa,{size:14,className:"text-brand-500"})," ",g.servings||1]}),t.jsxs("div",{className:`px-3 py-1 font-mono text-[10px] font-black uppercase ${N===100?"bg-brand-500":"bg-gray-700"}`,children:[N,"% Done"]})]})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-6xl font-black uppercase leading-[0.85] mb-6 tracking-tighter border-b-8 border-ink pb-4",children:g.localName||g.name}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[t.jsxs("div",{className:"bg-gray-100 p-4 border-2 border-ink",children:[t.jsx("span",{className:"font-mono text-[10px] uppercase font-bold text-gray-500 block mb-1",children:"Cuisine"}),t.jsx("span",{className:"font-black uppercase text-sm",children:g.cuisine})]}),t.jsxs("div",{className:"bg-gray-100 p-4 border-2 border-ink",children:[t.jsx("span",{className:"font-mono text-[10px] uppercase font-bold text-gray-500 block mb-1",children:"Type"}),t.jsx("span",{className:"font-black uppercase text-sm",children:g.type})]})]}),g.userNotes&&t.jsxs("div",{className:"bg-yellow-300 border-4 border-ink p-6 mb-10 relative overflow-hidden",children:[t.jsx(Us,{className:"absolute -right-4 -top-4 opacity-10",size:80}),t.jsx("span",{className:"font-mono text-[10px] font-black uppercase block mb-2 text-ink/60",children:"House Manager Protocol:"}),t.jsxs("p",{className:"font-black text-2xl uppercase leading-tight",children:['"',g.userNotes,'"']})]}),t.jsxs("div",{className:"mb-12",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("h3",{className:"font-black uppercase text-2xl tracking-tighter",children:"1. MISE EN PLACE"}),t.jsx("div",{className:"flex-1 h-1 bg-ink opacity-10"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.ingredients.map((d,f)=>t.jsxs("div",{className:"flex justify-between items-center border-4 border-ink p-4 bg-paper font-black uppercase text-xl",children:[t.jsx("span",{children:d.name}),t.jsx("span",{className:"bg-ink text-white px-3 py-1 text-sm",children:d.quantity})]},f))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("h3",{className:"font-black uppercase text-2xl tracking-tighter",children:"2. SERVICE EXECUTION"}),t.jsx("div",{className:"flex-1 h-1 bg-ink opacity-10"})]}),t.jsx("div",{className:"space-y-6",children:g.instructions.map((d,f)=>{const v=`${g.id}-step-${f}`,_=r.has(v);return t.jsxs("div",{onClick:()=>u(v),className:`flex gap-6 p-8 border-4 transition-all cursor-pointer relative ${_?"bg-gray-100 border-gray-300 opacity-40":"bg-white border-ink hover:bg-brand-50"}`,children:[t.jsx("div",{className:"shrink-0 pt-1",children:_?t.jsx(zs,{size:40,className:"text-brand-500",strokeWidth:3}):t.jsx("div",{className:"w-10 h-10 border-4 border-ink rounded-full"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("span",{className:"font-mono text-[10px] font-black text-gray-400 uppercase mb-2 block",children:["Step 0",f+1]}),t.jsx("p",{className:`text-3xl font-black leading-none uppercase tracking-tighter ${_?"line-through":""}`,children:d})]})]},f)})})]})]})]})};return t.jsxs("div",{className:"min-h-screen bg-paper pb-40",children:[t.jsxs("div",{className:"sticky top-0 z-40 bg-ink border-b-8 border-brand-500 p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-brand-500 p-2 border-2 border-white",children:t.jsx(Ie,{size:32,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-white font-black uppercase tracking-tighter text-3xl leading-none",children:"KITCHEN TERMINAL"}),t.jsxs("p",{className:"text-brand-500 font-mono text-[10px] font-black uppercase tracking-[0.3em] mt-1",children:["ACTIVE ROTATION: ",o==null?void 0:o.day]})]})]}),t.jsxs("div",{className:"flex bg-white/5 border-2 border-white/20 p-1",children:[t.jsx("button",{onClick:()=>s("today"),className:`px-8 py-3 font-black text-xs uppercase transition-all ${a==="today"?"bg-brand-500 text-white":"text-gray-500 hover:text-white"}`,children:"Service: Today"}),t.jsx("button",{onClick:()=>s("tomorrow"),className:`px-8 py-3 font-black text-xs uppercase transition-all ${a==="tomorrow"?"bg-brand-500 text-white":"text-gray-500 hover:text-white"}`,children:"Service: Tomorrow"})]})]}),t.jsxs("div",{className:"p-6 max-w-4xl mx-auto mt-10",children:[!o.lunch&&!o.dinner&&t.jsxs("div",{className:"py-40 text-center opacity-10 flex flex-col items-center",children:[t.jsx(Li,{size:120,strokeWidth:1}),t.jsx("p",{className:"font-black text-5xl uppercase mt-8",children:"Standby Mode"})]}),t.jsx(h,{title:"LUNCH SERVICE",dish:o==null?void 0:o.lunch}),t.jsx(h,{title:"DINNER SERVICE",dish:o==null?void 0:o.dinner})]}),t.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-ink p-4 flex justify-center border-t-4 border-brand-500 z-50",children:t.jsx("p",{className:"font-mono text-[9px] text-white/40 uppercase tracking-[0.5em] font-black",children:"TadkaSync Tactical Feed // Operational Intelligence Level 2.6"})})]})},Vl=({onLogin:e,onClose:n,loading:a})=>t.jsx("div",{className:"fixed inset-0 z-[100] bg-ink/90 flex items-center justify-center p-6 backdrop-blur-md animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-paper w-full max-w-sm border-2 border-ink shadow-[12px_12px_0px_0px_#22c55e] p-8 relative overflow-hidden rounded-xl",children:[t.jsx("div",{className:"absolute -top-10 -right-10 opacity-5 rotate-12",children:t.jsx(cr,{size:200})}),t.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-ink/40 hover:text-ink transition-colors",children:t.jsx(he,{size:24})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-16 h-16 bg-brand-500 border-2 border-ink flex items-center justify-center mb-6 shadow-hard-sm rounded-lg",children:t.jsx(tr,{className:"text-white",size:32})}),t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter mb-2 leading-none text-ink",children:"Global OS Sync"}),t.jsx("p",{className:"font-mono text-[10px] text-gray-500 mb-8 uppercase tracking-widest leading-relaxed",children:"Bridge the gap between House Manager & Kitchen Cook with persistent cloud state."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("button",{onClick:e,disabled:a,className:"w-full bg-white border-2 border-ink py-4 px-6 flex items-center justify-between font-black uppercase text-sm shadow-hard hover:translate-y-1 hover:shadow-none transition-all disabled:opacity-50 rounded-lg group",children:[t.jsxs("span",{className:"flex items-center gap-3",children:[a?t.jsx(fe,{className:"animate-spin text-brand-500",size:18}):t.jsx(Yr,{size:18,className:"group-hover:text-brand-600"}),a?"Reconciling Data...":"Sync with Google"]}),t.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-brand-500 animate-ping":"bg-brand-500"}`})]}),t.jsxs("div",{className:"bg-gray-100 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[t.jsx("h4",{className:"font-mono text-[9px] font-black uppercase mb-2 text-gray-400",children:"Migration Protocol"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-600",children:[t.jsx(nt,{size:12,className:"text-brand-500"})," Auto-Merge Swiped Dishes"]}),t.jsxs("li",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-600",children:[t.jsx(nt,{size:12,className:"text-brand-500"})," Real-time Cook Update"]}),t.jsxs("li",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-600",children:[t.jsx(nt,{size:12,className:"text-brand-500"})," Cross-Device Inventory"]})]})]}),t.jsx("p",{className:"text-[9px] font-mono text-gray-400 text-center uppercase mt-6 leading-relaxed",children:"Sign in to enable 256-bit encrypted data persistence."})]}),t.jsx("div",{className:"mt-10 pt-6 border-t border-ink/10 flex items-center justify-center gap-2 opacity-30",children:t.jsx("span",{className:"font-mono text-[8px] uppercase font-black",children:"Household System v2.5.0"})})]})]})}),ia=[{icon:Es,color:"#FF4D4D",name:"Apple"},{icon:Ls,color:"#FF9F43",name:"Carrot"},{icon:Xs,color:"#F9C74F",name:"Citrus"},{icon:hr,color:"#A0522D",name:"Protein"},{icon:pr,color:"#F8F5F2",name:"Egg"},{icon:Fr,color:"#43AA8B",name:"Herb"},{icon:ai,color:"#F3722C",name:"Carb"},{icon:pi,color:"#90BE6D",name:"Fiber"},{icon:Ii,color:"#577590",name:"Umami"}],Bl=()=>{const[e,n]=b.useState(0),[a,s]=b.useState(50),[r,i]=b.useState([]),l=b.useRef(null),p=b.useRef(null),o=b.useCallback(c=>{if(!l.current)return;const g=l.current.getBoundingClientRect(),m=(c-g.left)/g.width*100;s(Math.max(5,Math.min(95,m)))},[]),u=c=>o(c.clientX),h=c=>{c.cancelable&&c.preventDefault(),o(c.touches[0].clientX)};return b.useEffect(()=>{const c=setInterval(()=>{const g={id:Math.random(),x:Math.random()*90+5,y:-10,type:ia[Math.floor(Math.random()*ia.length)],speed:1.5+Math.random()*2};i(m=>[...m.slice(-10),g])},1500);return()=>clearInterval(c)},[]),b.useEffect(()=>{let c;const g=()=>{i(m=>m.map(d=>({...d,y:d.y+d.speed})).filter(d=>d.y>75&&d.y<90&&Math.abs(d.x-a)<15?(n(v=>v+1),!1):d.y<110)),c=requestAnimationFrame(g)};return c=requestAnimationFrame(g),()=>cancelAnimationFrame(c)},[a]),t.jsxs("div",{ref:l,onMouseMove:u,onTouchMove:h,className:"relative w-full h-56 bg-black/10 rounded-3xl overflow-hidden cursor-none touch-none border border-white/5 group shadow-inner",children:[t.jsxs("div",{className:"absolute top-4 left-6 z-20 flex flex-col items-start select-none",children:[t.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-black opacity-40 text-white",children:"Score"}),t.jsx(G.span,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},className:"text-2xl font-black text-[#F9C74F]",children:e},e)]}),t.jsx("div",{className:"absolute top-4 right-6 z-20 flex flex-col items-end select-none",children:t.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-black opacity-40 text-white",children:"ontouchstart"in window?"Slide to move":"Move cursor"})}),t.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}}),t.jsx(ge,{children:r.map(c=>t.jsx("div",{style:{position:"absolute",left:`${c.x}%`,top:`${c.y}%`,color:c.type.color,transform:"translate(-50%, -50%)"},className:"pointer-events-none drop-shadow-2xl transition-transform duration-100",children:t.jsx(c.type.icon,{size:28,style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.3))"}})},c.id))}),t.jsx(G.div,{ref:p,animate:{x:`calc(${a}% - 2rem)`},transition:{type:"spring",damping:25,stiffness:250},className:"absolute bottom-6 w-16 h-10 pointer-events-none flex items-end justify-center",children:t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("div",{className:"absolute -inset-4 bg-[#F9C74F]/20 blur-xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity"}),t.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-xl border-2 border-white/20 rounded-b-3xl rounded-t-md shadow-2xl"}),t.jsx("div",{className:"absolute top-0 w-full h-1 bg-gradient-to-r from-transparent via-white/40 to-transparent opacity-50"}),t.jsx(ge,{children:e>0&&t.jsx(G.div,{initial:{scale:.5,opacity:0,y:0},animate:{scale:1.5,opacity:1,y:-40},exit:{opacity:0},className:"absolute left-1/2 -translate-x-1/2 text-white font-black text-lg select-none",children:"✨"},e)})]})}),t.jsx("div",{className:"absolute bottom-0 w-full h-20 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"})]})},oa=["Analyzing your taste profile...","Sourcing the perfect recipes...","Matching with your preferences...","Curating your personal menu...","Almost ready..."],zl=({dishesLoaded:e,targetDishes:n,recentDishName:a,userCuisines:s=[],onComplete:r})=>{const[i,l]=b.useState(0),[p,o]=b.useState(!1),u=Math.min(e/n*100,100),h=b.useRef(e);b.useEffect(()=>{h.current=e},[e]),b.useEffect(()=>{const d=setInterval(()=>{l(f=>(f+1)%oa.length)},2500);return()=>clearInterval(d)},[]);const c=b.useRef(null),g=b.useRef(null),m=b.useRef(!1),y=()=>{m.current||(m.current=!0,c.current&&clearTimeout(c.current),g.current&&clearTimeout(g.current),r())};b.useEffect(()=>{e>=n&&!m.current&&(o(!0),c.current=setTimeout(y,1500))},[e,n]),b.useEffect(()=>(g.current=setTimeout(()=>{h.current>=5&&y()},3e4),()=>{c.current&&clearTimeout(c.current),g.current&&clearTimeout(g.current)}),[]);const N=s.length>0?`Finding ${s[0]} favorites...`:"Discovering new flavors...";return t.jsxs(G.div,{className:"fixed inset-0 z-[100] bg-gradient-to-br from-[#1A4D2E] via-[#2D6A4F] to-[#1A4D2E] text-[#F8F5F2] flex flex-col items-center justify-center p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95},transition:{duration:.5},children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx(G.div,{className:"absolute top-20 left-10 text-[#F9C74F]/20",animate:{y:[0,-20,0],rotate:[0,10,0]},transition:{duration:4,repeat:1/0},children:t.jsx(Ie,{size:60})}),t.jsx(G.div,{className:"absolute bottom-32 right-16 text-[#F9C74F]/20",animate:{y:[0,15,0],rotate:[0,-10,0]},transition:{duration:3.5,repeat:1/0},children:t.jsx(qe,{size:48})})]}),t.jsxs("div",{className:"relative z-10 max-w-md w-full text-center",children:[t.jsxs(G.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"mb-8",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold tracking-tight",children:"TadkaSync"}),t.jsx("p",{className:"text-[#F9C74F] text-sm font-mono uppercase tracking-widest mt-2",children:"Curating Your Kitchen"})]}),t.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[t.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"rgba(249, 199, 79, 0.2)",strokeWidth:"8",fill:"none"}),t.jsx(G.circle,{cx:"64",cy:"64",r:"56",stroke:"#F9C74F",strokeWidth:"8",fill:"none",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:u/100},transition:{duration:.5,ease:"easeOut"},style:{strokeDasharray:"352",strokeDashoffset:0}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs(G.span,{className:"text-2xl font-bold",initial:{scale:1.2},animate:{scale:1},children:[e,"/",n]},e)})]}),t.jsx(ge,{mode:"wait",children:t.jsx(G.p,{initial:{opacity:0,y:10},animate:{opacity:.8,y:0},exit:{opacity:0,y:-10},className:"text-lg mb-4",children:p?"Your menu is ready!":oa[i]},i)}),t.jsx("p",{className:"text-sm text-[#F9C74F]/70 mb-6",children:N}),t.jsxs("div",{className:"mb-8 w-full",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 opacity-60",children:[t.jsx(Ir,{size:14,className:"text-[#F9C74F]"}),t.jsx("span",{className:"text-[10px] font-mono uppercase tracking-[0.2em]",children:"Kitchen Warm-up"})]}),t.jsx(Bl,{})]}),t.jsx(ge,{children:a&&!p&&t.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center justify-center gap-2 text-[#F9C74F] text-sm",children:[t.jsx(Le,{size:16}),t.jsxs("span",{className:"font-medium",children:[a," added"]})]},a)}),t.jsx(ge,{children:p&&t.jsx(G.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`mt-8 px-8 py-3 bg-[#F9C74F] text-[#1A4D2E] rounded-full font-semibold \r
                         hover:bg-[#F9C74F]/90 transition-colors shadow-lg`,onClick:r,children:"Start Swiping →"})})]})]})},ql=({view:e,setView:n})=>t.jsx("div",{className:"fixed bottom-8 left-0 w-full flex justify-center z-50 pointer-events-none",children:t.jsx("div",{className:"bg-white/80 backdrop-blur-xl px-2 py-2 rounded-full shadow-premium border border-white/40 flex gap-2 pointer-events-auto transform transition-transform hover:scale-[1.02] duration-500",children:[{v:Y.Swipe,l:"Discover",i:Nt},{v:Y.Planner,l:"Plan",i:Lr},{v:Y.Shopping,l:"Shop",i:Qs},{v:Y.Journal,l:"Journal",i:_s},{v:Y.Pantry,l:"Pantry",i:ya},{v:Y.Profile,l:"Me",i:jt}].map(a=>{const s=e===a.v;return t.jsxs("button",{onClick:()=>n(a.v),onTouchEnd:r=>{r.preventDefault(),n(a.v)},className:`
                relative flex items-center justify-center w-12 h-12 rounded-full transition-all duration-300 group
                ${s?"bg-gradient-brand text-white shadow-lg shadow-orange-500/30 ring-2 ring-white scale-110":"text-ink-light hover:bg-gray-100 hover:text-ink hover:scale-105"}
              `,title:a.l,children:[t.jsx(a.i,{size:20,strokeWidth:s?2.5:2,className:"transition-transform group-hover:scale-110"}),s&&t.jsx("span",{className:"absolute -bottom-8 bg-black/80 text-white text-[9px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:a.l})]},a.v)})})}),me={name:"Chef Diya",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"},Yl=[{id:"1",slug:"high-protein-vegetarian-indian-diet",title:"The Protein Myth: How to Hit 30g Per Meal as an Indian Vegetarian",excerpt:"Tired of hearing 'Indian food is just carbs'? Here is the science-backed guide to building muscle without eating chicken.",coverImage:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-03-20",readTime:"7 min read",tags:["Health","Protein","Vegetarian"],views:34200,content:`
            <p><strong>Topic:</strong> High Protein Vegetarian Nutrition</p>
            <p><strong>Audience:</strong> Fitness-conscious vegetarians who struggle to hit macronutrient goals.</p>
            <p><strong>Goal:</strong> Provide realistic, non-boring ways to increase protein intake without supplements.</p>
            <hr />

            <h3>The Problem: The 'Carb-Heavy' Default</h3>
            <p>A standard Indian thali is delicious, but often unbalanced: Rice (Carbs), Roti (Carbs), Aloo Gobi (Carbs + Fat), and a watery Dal (mostly water + negligible protein). If you are trying to build muscle or manage insulin, this ratio works against you.</p>

            <h3>The Solution: The 'Protein First' Plate</h3>
            <p>You don't need to eat boiled tofu. You need to prioritize these three ingredients:</p>

            <h4>1. Soya Chunks (The Vegetarian Meat)</h4>
            <p><strong>52g Protein per 100g.</strong> This is the king. It has more protein than chicken breast. The secret? Boil them with salt, squeeze ALL the water out, then roast them until crispy before adding to your gravy. It changes the texture from 'sponge' to 'meat'.</p>

            <h4>2. Paneer (Casein Power)</h4>
            <p><strong>18g Protein per 100g.</strong> Paneer is slow-digesting casein protein, perfect for keeping you full. Stop frying it deep-brown; lightly pan-sear it to keep the protein structure intact. <em>Swap: Use Low-fat milk to make paneer if calories are a concern.</em></p>

            <h4>3. Greek Yogurt / Hung Curd</h4>
            <p><strong>10g Protein per 100g.</strong> Dahi keeps your gut healthy, but Hung Curd packs a protein punch. Use it as a marinade for 'Tandoori Gobi' or mix it into your dal to make it creamy without cream.</p>

            <h3>Action Step: The Breakfast Swap</h3>
            <p>Tomorrow morning, do not eat Poha or Upma (mostly carbs). Eat <strong>Paneer Bhurji</strong> or a <strong>Besan Chilla (Chickpea Flour Pancake)</strong> with added grated tofu. You will start your day with 20g of protein instead of 5g.</p>
        `},{id:"2",slug:"why-your-curry-tastes-bland",title:"5 Reasons Your Homemade Curry Tastes 'Flat' (And How to Fix It)",excerpt:"You used all the spices, but it still tastes like spiced water. Here is the restaurant chemistry you are missing.",coverImage:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-03-18",readTime:"6 min read",tags:["Cooking Technique","Flavor","Troubleshooting"],views:28900,content:`
            <p><strong>Topic:</strong> Flavor Development in Indian Curries</p>
            <p><strong>Audience:</strong> Home cooks frustrated by the gap between their food and restaurant food.</p>
            <p><strong>Goal:</strong> Diagnose and fix the most common flavor mistakes.</p>
            <hr />

            <h3>The Problem: The 'Raw' Spice Taste</h3>
            <p>Nothing ruins a dish faster than the dusty, raw taste of coriander powder that hasn't been cooked out. If your curry tastes 'powdery' or 'flat', you likely skipped the most crucial step: <strong>Bhunai</strong> (Sautéing).</p>

            <h3>The 3 Fixes</h3>

            <h4>1. The Oil Separation Rule</h4>
            <p>When you cook your onion-tomato masala, you cannot stop when it 'looks cooked'. You must cook it until the oil visibly separates from the paste and oozes out the sides. This visual cue tells you the water is gone and the flavors have concentrated. If you don't see oil, keep cooking.</p>

            <h4>2. Salt Timing is Everything</h4>
            <p>Add salt <strong>when you add the tomatoes</strong>. Salt draws moisture out of the vegetable cells, helping them break down into a sauce rather than staying as chopped chunks. This creates that thick, luscious gravy texture.</p>

            <h4>3. The 'Tadka' Finish</h4>
            <p>Restaurants often do a 'double tadka'. They cook the dish, and then right before serving, they pour almost-smoking oil with chili and cumin over the top. This hits your nose before the food hits your tongue.</p>

            <h3>Action Step: The 'Oil Test'</h3>
            <p>Next time you make a base gravy, do not add a drop of water until you see the oil separate from the masala. It might take 7-10 minutes longer than you think. Wait for it. The flavor difference is worth the wait.</p>
        `},{id:"3",slug:"indian-meal-prep-guide",title:"The 'Bhuna Masala' Hack: Cook 5 Dinners in 1 Hour",excerpt:"Restaurants don't cook everything from scratch when you order. They use a master gravy. Now, so can you.",coverImage:"https://images.unsplash.com/photo-1606491956689-2ea866880c84?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-03-15",readTime:"8 min read",tags:["Meal Prep","Time Saving","Hacks"],views:41e3,content:`
            <p><strong>Topic:</strong> Efficient Indian Meal Prep</p>
            <p><strong>Audience:</strong> Busy professionals who order takeout because cooking takes too long.</p>
            <p><strong>Goal:</strong> Teach the restaurant 'Master Gravy' technique.</p>
            <hr />

            <h3>The Problem: The Cutting Board Bottleneck</h3>
            <p>Peeling garlic, chopping onions, and reducing tomatoes takes 20 minutes for every single meal. If you cook 5 nights a week, that's 100 minutes just spent chopping onions.</p>

            <h3>The Solution: One Gravy to Rule Them All</h3>
            <p>Restaurants make huge pots of 'Bhuna Masala' (Onion-Tomato Paste) in the morning. When you order Chana Masala, they take a scoop of paste, add chickpeas and water, and it's done in 5 minutes. When you order Paneer Butter Masala, they take the same paste, add cream and paneer.</p>

            <h4>The Master Ratio</h4>
            <ul>
                <li>4 Cups Chopped Onions</li>
                <li>2 Cups Chopped Tomatoes</li>
                <li>1/2 Cup Ginger-Garlic Paste</li>
                <li>SPICES: Turmeric, Coriander, Chili Powder, Garam Masala.</li>
            </ul>
            <p>Cook this down until it is a dark, thick paste (remember the oil separation rule!). Cool it. Store it in a jar.</p>

            <h3>Action Step: Sunday 1-Hour Prep</h3>
            <p>This Sunday, make a triple batch of Bhuna Masala. Freeze it in an ice cube tray. On Tuesday night at 7 PM, pop 3 cubes into a pan, throw in a can of chickpeas and some water. You will have a slow-cooked tasting dinner in 8 minutes flat.</p>
        `},{id:"4",slug:"air-fryer-indian-snacks-mistakes",title:"Why Your Air Fryer Samosas Taste Dry (And How to Fix It)",excerpt:"The air fryer promises guilt-free snacking, but often delivers cardboard. Here is the hydration secret to getting that deep-fried crunch.",coverImage:"https://images.unsplash.com/photo-1601050690597-df0568f70950?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-03-25",readTime:"9 min read",tags:["Healthy Comfort","Air Fryer","Technique"],views:45600,content:`
            <p><strong>Topic:</strong> Mastering Indian Snacks in the Air Fryer</p>
            <p><strong>Audience:</strong> Health-conscious cooks wishing to enjoy traditional snacks without the deep-frying guilt.</p>
            <p><strong>Goal:</strong> Replicate the texture of deep-frying using convection technology.</p>
            <hr />

            <h3>The Problem: The 'Cardboard' Effect</h3>
            <p>You bought an air fryer to make healthy Samosas and Pakoras. But when they come out, the crust is pale, dry, and tastes like baked flour, while the filling is scorching hot. You miss the blisters, the golden sheen, and that specific 'shatter' when you bite in.</p>
            <p>This happens because an air fryer is essentially a powerful convection oven. It dehydrates food to make it crisp. Deep frying, ironically, adds moisture (fat) while removing water. If you just throw raw dough into hot air, you are baking bread, not frying a snack.</p>

            <h3>The Solution: Artificial Hydration & Fat Emulation</h3>
            <p>To trick your tongue, you need to simulate the environment of hot oil.</p>

            <h4>1. The Detergent-Style Dough</h4>
            <p>Your samosa dough needs more fat <em>inside</em> it (Moyen). In deep frying, the oil penetrates from the outside. In air frying, the fat must buble from within. Increase the ghee in your flour kneading stage by 20%. It sounds counter-intuitive to add fat to a 'low fat' recipe, but it ensures the shell flakes instead of hardening.</p>

            <h4>2. The 'Oil-Brush-Oil' Sandwich</h4>
            <p><strong>Step A:</strong> Brush the raw samosas generously with oil. <br/><strong>Step B:</strong> Air fry at 180°C for 10 minutes. <br/><strong>Step C:</strong> (The Secret) Open the basket. They will look dry. Brush them <em>again</em> with oil and crank the heat to 200°C for the final 4 minutes. This second coating hits the hot surface and mimics the 'flash fry' finish.</p>

            <h4>3. For Pakoras: Pre-Toast the Besan</h4>
            <p>Raw chickpea flour (Besan) tastes bitter if not cooked thoroughly. Deep frying cooks it fast. Air frying sometimes leaves the inside raw. Lightly dry-roast your besan in a pan for 5 minutes before mixing your batter. This ensures the nutty flavor is already unlocked before it hits the basket.</p>

            <h3>Action Step: The Onion Bhaji Test</h3>
            <p>Tonight, slice onions thinly. Mix with pre-roasted besan, salt, turmeric, and ajwain. Instead of water, use a tablespoon of hot oil to bind it. Air fry at 180°C for 12 minutes, flipping halfway. You will never go back to deep frying.</p>
        `},{id:"5",slug:"gut-health-indian-fermented-foods",title:"Beyond Yogurt: The Ancient Indian Probiotics You Aren't Eating",excerpt:"Dahi is great, but it's just the beginning. Discover the gut-healing power of Kanji, fermented rice, and traditional pickles.",coverImage:"https://images.unsplash.com/photo-1606914502288-5c4e85764d26?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-03-22",readTime:"10 min read",tags:["Wellness","Gut Health","Fermentation"],views:21300,content:`
            <p><strong>Topic:</strong> Traditional Indian Fermentation for Gut Health</p>
            <p><strong>Audience:</strong> Wellness seekers dealing with bloating, digestion issues, or low immunity.</p>
            <p><strong>Goal:</strong> Reintroduce lost traditional fermented foods into the modern diet.</p>
            <hr />

            <h3>The Problem: The Sanitized Diet</h3>
            <p>Modern hygiene is great for preventing disease, but bad for our microbiome. We sanitize perfectly, we refrigerate immediately, and we eat sterile, processed food. Our ancestors didn't just preserve food to keep it from spoiling; they fermented it to pre-digest it. If you feel heavy or bloated after meals, your gut might lack the diverse bacteria needed to break down complex Indian spices and legumes.</p>

            <h3>The Solution: Wild Fermentation</h3>
            <p>Indian cuisine has a "Probiotic Super-League" that puts store-bought kombucha to shame.</p>

            <h4>1. Gajar ki Kanji (The Winter Elixir)</h4>
            <p>Made from dark purple carrots (Kali Gajar), mustard seeds, and water, this drink ferments in the sun for 3-4 days. It is packed with Lactobacillus bacteria. The mustard acts as a heater for the body, while the bacteria populate the gut. It keeps for weeks and aids digestion of heavy winter meals.</p>

            <h4>2. Panta Bhat / Pazhaya Sadam (The Breakfast of Champions)</h4>
            <p>This is simply leftover cooked rice soaked in water overnight in a clay pot. By morning, the starch breaks down, nutrient availability (Iron, Potassium) spikes by up to 60%, and it becomes rich in B-vitamins. It is cooling, hydrating, and widely eaten by farmers for sustained energy. It is the original 'overnight oats' but better.</p>

            <h4>3. Classical Achar (Pickles without Vinegar)</h4>
            <p>Most commercial pickles are preserved with vinegar and preservatives. Real Indian Manga or Nimbu Achar is lacto-fermented using just salt, spices, oil, and sun. A tiny piece of this pickle with your meal isn't just a condiment; it's a digestive enzyme supplement.</p>

            <h3>Action Step: Start a 'Kanji' Jar</h3>
            <p>You don't need purple carrots. Take normal orange carrots and a small beet for color. Slice them. Add 1 tbsp crushed mustard seeds, 1 tsp salt, and water in a glass jar. Cover with a cloth. Leave it in a sunny window for 3 days. When it tastes sour and tangy, put it in the fridge. Drink a shot glass before dinner.</p>
        `},{id:"6",slug:"south-indian-breakfast-protein",title:"Breakfast Beyond Idli: High-Protein Batters You Should Know",excerpt:"Idli and Dosa are heavy on rice. Switch to these Dal-based batters to double your protein without sacrificing the crunch.",coverImage:"https://images.unsplash.com/photo-1589301760014-d9296896fba8?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-03-28",readTime:"8 min read",tags:["Regional","High Protein","Breakfast"],views:38900,content:`
            <p><strong>Topic:</strong> Diversifying the South Indian Breakfast</p>
            <p><strong>Audience:</strong> Breakfast lovers who are tired of the resulting carb-coma from heavy rice diets.</p>
            <p><strong>Goal:</strong> Introduce lentil-dominant pancakes (Dosai) for better macros.</p>
            <hr />

            <h3>The Problem: The '4:1' Rice Trap</h3>
            <p>The standard Idli/Dosa batter ratio is 4 cups of Rice to 1 cup of Urad Dal. That means your batter is 80% simple carbohydrate. While delicious, it spikes blood sugar and often leaves you hungry again by 11 AM. If you strictly eat vegetarian, this missed opportunity for morning protein is critical.</p>

            <h3>The Solution: The 'Dal-First' Batters</h3>
            <p>Andhra and Tamil Nadu cuisines have solved this problem centuries ago with batters that use no rice at all.</p>

            <h4>1. Pesarattu (The Green Mung Miracle)</h4>
            <p>Originating from Andhra Pradesh, this dosa is made from whole green moong dal (mung beans).
            <br/><strong>The Ratio:</strong> 100% Green Moong + Ginger + Green Chili.
            <br/><strong>The Win:</strong> It requires no fermentation. Soak for 4 hours, grind, and pour immediately. It creates a deeply savory, earthy crepe that pairs perfectly with ginger chutney. It packs huge fiber and protein.</p>

            <h4>2. Adai (The Multi-Lentil Powerhouse)</h4>
            <p>A thick, hearty pancake from Tamil Nadu.
            <br/><strong>The Ratio:</strong> Equal parts Chana Dal, Toor Dal, Urad Dal, and a little Rice.
            <br/><strong>The Win:</strong> It has bite. It has texture. It keeps you full for 6 hours. Because of the Chana Dal, it crisps up beautifully with a nutty aroma.</p>

            <h4>3. Ragi Dosa (The Calcium King)</h4>
            <p>Finger Millet (Ragi) is a supergrain. Mix Ragi flour with sour curd or leftover dosa batter. It has a low glycemic index and 3x the calcium of milk.</p>

            <h3>Action Step: The 'Green' Soak</h3>
            <p>Tonight, put 1 cup of whole green moong dal in a bowl of water. Just do it. Tomorrow morning, blend it with an inch of ginger, 2 green chilies, and salt. Pour it on your hot tawa. You just made the healthiest breakfast of your life.</p>
        `},{id:"7",slug:"healthy-indian-desserts-sugar-free",title:"Kheer Without the Coma: How to Make Guilt-Free Indian Sweets",excerpt:"Indian desserts are notorious for their sugar content. Here is how to swap refined sugar for natural alternatives without ruining the taste.",coverImage:"https://images.unsplash.com/photo-1595861179836-3914948a27d1?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-04-02",readTime:"7 min read",tags:["Dessert","Sugar Free","Healthy"],views:56200,content:`
            <p><strong>Topic:</strong> Healthier Traditional Indian Desserts</p>
            <p><strong>Audience:</strong> People with a sweet tooth who are watching their insulin or weight.</p>
            <p><strong>Goal:</strong> Provide a credible alternative to the '1 cup sugar' standard recipe.</p>
            <hr />

            <h3>The Problem: The 'White Poison' Default</h3>
            <p>Traditional Indian sweets are preservation methods. Gulab Jamun is fried dough soaked in syrup. Kheer is milk reduced with piles of white sugar. We associate 'celebration' with massive insulin spikes. But sweetness is a spectrum, not a binary switch.</p>

            <h3>The Solution: Whole Sweeteners & Fat</h3>
            <p>When you remove refined sugar, you remove 'body' and 'gloss'. To replace it, you need ingredients that bring their own texture.</p>

            <h4>1. Date Paste vs. Sugar</h4>
            <p>Soaking dates and blending them creates a caramel-like paste.
            <br/><strong>The Swap:</strong> 1 Cup Sugar = 1 Cup Date Paste.
            <br/><strong>Best For:</strong> Kheer, Halwa, and Laddoos. The date paste adds a toffee note that actually improves Gajar ka Halwa.</p>

            <h4>2. Jaggery (Gud) Chemistry</h4>
            <p>Jaggery is unrefined cane sugar. It creates a complex, molasses flavor.
            <br/><strong>Warning:</strong> Never boil milk with Jaggery; it will curdle.
            <br/><strong>Technique:</strong> Make your kheer with milk. Turn off the heat. Let it cool for 5 minutes. <em>Then</em> stir in the jaggery powder.</p>

            <h4>3. The Coconut Fat Trick</h4>
            <p>If you reduce sugar, increase healthy fat. Use full-fat coconut milk instead of dairy milk for Payasam. The natural sweetness of coconut means you need 50% less added sweetener.</p>

            <h3>Action Step: The 3-Ingredient Laddoo</h3>
            <p>Take 1 cup roasted peanuts, 1/2 cup soft dates, and a pinch of cardamom. Blitz in a food processor until sticky. Roll into balls. You just made a high-protein, zero-sugar dessert that tastes like peanut brittle.</p>
        `},{id:"8",slug:"indian-lunchbox-hacks-kids",title:"The 15-Minute Tiffin: Lunchbox Ideas Your Kids Won't Bring Back",excerpt:"Stop waking up at 5 AM to make Rotis. These nutritious hacks use last night's leftovers to create fresh, exciting lunches.",coverImage:"https://images.unsplash.com/photo-1604152135912-04a022e23696?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-04-05",readTime:"6 min read",tags:["Kids","Lunchbox","Quick"],views:31e3,content:`
            <p><strong>Topic:</strong> Stress-Free School Lunches</p>
            <p><strong>Audience:</strong> Exhausted parents who want their kids to eat healthy but lack time in the morning.</p>
            <p><strong>Goal:</strong> Reduce morning prep time to 15 minutes max.</p>
            <hr />

            <h3>The Problem: Cold Roti Syndrome</h3>
            <p>Roti-Sabzi is great at 8 AM. By 1 PM, the roti is dry leather and the sabzi is cold oil. Kids bring it back uneaten because the texture is unappealing. You need food that stays soft at room temperature.</p>

            <h3>The Solution: The 'Frankie' Rebrand</h3>
            <p>Kids love 'wraps'. It's just psychology. A roll is fun; a chapati is a chore.</p>

            <h4>1. The Paneer Kathi Hack</h4>
            <p>Don't make fresh roti. Use a tortilla or leftover paratha.
            <br/><strong>The Filling:</strong> Crumble paneer, mix with ketchup, cumin, and turmeric. Sauté for 2 minutes (it cooks instantly).
            <br/><strong>The Glue:</strong> Spread mint chutney or mayonnaise on the wrap to keep it moist.</p>

            <h4>2. Mini-Uttapam Pizzas</h4>
            <p>Keep a jar of Dosa batter ready (store-bought is fine). Spoon tiny circles into the pan. Top with finely chopped capsicum, corn, and cheese. Cover for 2 minutes. They are soft, cheesy, and packed with lentils.</p>

            <h4>3. Vermicelli (Seviyan) Upma</h4>
            <p>Pasta is a hit with kids. Seviyan is basically thin Indian pasta. Stir fry roasted vermicelli with peas and carrots. It stays fluffy for hours, unlike Poha which can get dry.</p>

            <h3>Action Step: The 'Freezer Paratha' Prep</h3>
            <p>This weekend, make 10 parathas stuffed with spinach (Palak) and cheese. Half-cook them (just until set). Freeze them with parchment paper in between. In the morning, you just roast one fresh in 2 minutes.</p>
        `},{id:"9",slug:"desi-masala-pasta-fusion",title:"The Masala Pasta Secret: How to Make 'Desi Pasta' That Actually Tastes Good",excerpt:"It's not Italian, and it's not trying to be. Here is how to embrace the chaos of the roadside Masala Pasta.",coverImage:"https://images.unsplash.com/photo-1563379926898-05f4575a45d8?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-04-10",readTime:"5 min read",tags:["Fusion","Street Food","Comfort"],views:67800,content:`
            <p><strong>Topic:</strong> Mastering Indian Street-Style Fusion</p>
            <p><strong>Audience:</strong> College students and comfort-food lovers who crave spicy carbs.</p>
            <p><strong>Goal:</strong> Elevate the humble 'macaroni' into a spicy masterpiece.</p>
            <hr />

            <h3>The Problem: Weak Sauce</h3>
            <p>People try to make Italian pasta and adding chili powder. It fails. The sauce is watery, the spices are raw, and the cheese clashes.</p>

            <h3>The Solution: Treat Pasta like Vegetables</h3>
            <p>In Desi Pasta, the pasta is just another vegetable in a heavy Curry. You don't boil it separately al-dente; you often cook it <em>in</em> the sauce or overcook it slightly to absorb flavor.</p>

            <h4>1. The 'Maggie Masala' Base</h4>
            <p>Start with butter, aromatics (garlic/chili), and a lot of finely chopped veggies (capsicum/onion). Sauté until soft. Add tomato puree and cook until oil separates. This is your Bhuna base.</p>

            <h4>2. The Spice Blend</h4>
            <p>Forget oregano. You need: Turmeric, Red Chili, Garam Masala, and—the secret weapon—<strong>Pav Bhaji Masala</strong>. This spice blend links the Italian tomato base with Indian street flavors perfectly.</p>

            <h4>3. The Creamy Finish</h4>
            <p>Don't use parmesan. Use processed Amul cheese or a splash of fresh cream (malai). It neutralizes the acidity of the tomatoes and binds the spices to the pasta shells.</p>

            <h3>Action Step: The One-Pot Method</h3>
            <p>Sauté your veggies and spices in a pressure cooker. Add dry uncooked macaroni. Add water (just enough to cover). Close lid. 2 Whistles. Open and stir in cheese. It is the ultimate late-night comfort bowl.</p>
        `},{id:"10",slug:"dorm-room-cooking-rice-cooker",title:"No Kitchen? No Problem. The Rice Cooker Biryani Hack",excerpt:"Living in a dorm or small studio? If you have a cheap electric rice cooker, you can make a feast.",coverImage:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=800&auto=format&fit=crop&q=60",author:me,date:"2024-04-12",readTime:"4 min read",tags:["Student","Budget","Hacks"],views:88900,content:`
            <p><strong>Topic:</strong> Cooking with Limited Equipment</p>
            <p><strong>Audience:</strong> Students and bachelors with zero kitchen space.</p>
            <p><strong>Goal:</strong> Cook a complete meal in one device.</p>
            <hr />

            <h3>The Problem: Instant Noodles Every Day</h3>
            <p>You think you can't cook because you don't have a stove. You settle for ramen. But your $20 rice cooker is actually just an electric pot.</p>

            <h3>The Solution: The 'Dump' Biryani</h3>
            <p>A rice cooker has two modes: 'Cook' (High Heat) and 'Warm' (Low Heat). That keeps it simple.</p>

            <h4>The Layering Technique</h4>
            <ol>
                <li><strong>Sauté (Cook Mode):</strong> Put oil in the pot. Add whole spices, onions, and marinated chicken (or paneer). Leave the lid open. It will sizzle just like a pan. Brown the meat.</li>
                <li><strong>The Rice (Cook Mode):</strong> Add washed basmati rice on top. Do not stir it too much.</li>
                <li><strong>The Liquid (Cook Mode):</strong> Pour in water (1.5 cups water for 1 cup rice). Season with salt.</li>
                <li><strong>The Steam (Cook Mode -> Warm):</strong> Close the lid. Let it run its cycle. When it clicks to 'Warm', <em>do not open it</em>. Let it sit for 10 minutes. This steaming fluff the rice.</li>
            </ol>

            <h3>Action Step: Buy a Bag of Frozen Veggies</h3>
            <p>Keep a bag of frozen mixed peas/carrots/corn. A handful of this added to your rice cooker instantly turns plain rice into Pulao. No chopping required. You have no excuse to eat cup noodles today.</p>
        `}],Kl=async()=>new Promise(e=>{setTimeout(()=>e(Yl),500)}),Wl=({onBack:e})=>{const[n,a]=b.useState([]),[s,r]=b.useState(null),[i,l]=b.useState(!0);b.useEffect(()=>{p()},[]);const p=async()=>{l(!0);const o=await Kl();a(o),l(!1)};return s?t.jsxs(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full flex flex-col bg-paper overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 z-20 bg-white/80 backdrop-blur-md border-b border-gray-100 flex items-center justify-between px-4 py-3",children:[t.jsxs("button",{onClick:()=>r(null),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors font-display font-medium text-sm flex items-center gap-1 text-ink-light",children:[t.jsx(ma,{size:18})," Back"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full text-ink-light",children:t.jsx(Cs,{size:18})}),t.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full text-ink-light",children:t.jsx(yt,{size:18})})]})]}),t.jsxs("article",{className:"px-6 py-8 max-w-2xl mx-auto w-full pb-32",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.map(o=>t.jsx("span",{className:"px-2 py-1 bg-brand-50 text-brand-700 text-[10px] font-bold uppercase tracking-wider rounded-md",children:o},o))}),t.jsx("h1",{className:"text-3xl font-display font-black text-ink mb-4 leading-tight",children:s.title}),t.jsx("p",{className:"text-lg text-ink-light font-serif italic mb-6 leading-relaxed opacity-80",children:s.excerpt}),t.jsxs("div",{className:"flex items-center justify-between border-y border-gray-100 py-4 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"w-10 h-10 rounded-full border border-gray-100"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-ink uppercase tracking-wide",children:s.author.name}),t.jsxs("div",{className:"text-[10px] text-gray-500 font-medium",children:[s.date," · ",s.readTime]})]})]}),t.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-mono text-gray-400",children:[t.jsx(br,{size:12})," ",s.views.toLocaleString()]})]}),t.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg mb-8",children:t.jsx("img",{src:s.coverImage,className:"w-full h-64 object-cover",alt:"Cover"})})]}),t.jsx("div",{className:"prose prose-zinc prose-headings:font-display prose-p:font-serif prose-p:text-lg prose-p:leading-8 prose-img:rounded-xl max-w-none text-ink-light",dangerouslySetInnerHTML:{__html:s.content}}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-100 text-center",children:[t.jsx("p",{className:"font-display font-bold text-ink mb-4",children:"Enjoyed this?"}),t.jsxs("button",{className:"px-6 py-3 bg-ink text-white rounded-full font-bold shadow-lg hover:scale-105 transition-transform",children:["Subscribe to ",s.author.name]})]})]})]}):t.jsxs("div",{className:"h-full flex flex-col bg-background overflow-hidden",children:[t.jsxs("div",{className:"px-6 pt-6 pb-2",children:[t.jsx("h2",{className:"text-3xl font-display font-black text-ink tracking-tight mb-2",children:"The Journal"}),t.jsx("p",{className:"text-sm text-ink-light font-medium opacity-60",children:"High-impact guides for your kitchen."})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32",children:i?t.jsx("div",{className:"flex justify-center p-8",children:t.jsx("span",{className:"animate-spin w-6 h-6 border-2 border-brand-500 border-t-transparent rounded-full"})}):t.jsxs("div",{className:"grid gap-6 py-4",children:[n.map((o,u)=>t.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},onClick:()=>r(o),className:"group bg-white rounded-3xl overflow-hidden shadow-sm hover:shadow-premium transition-all cursor-pointer border border-gray-100",children:[t.jsxs("div",{className:"h-48 overflow-hidden relative",children:[t.jsx("img",{src:o.coverImage,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:o.title}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx("span",{className:"px-2 py-1 bg-white/90 backdrop-blur text-ink text-[10px] font-bold uppercase tracking-wider rounded-md shadow-sm",children:o.tags[0]})}),t.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 backdrop-blur text-white text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[t.jsx(pa,{size:10})," ",o.readTime]})]}),t.jsxs("div",{className:"p-5",children:[t.jsx("h3",{className:"text-xl font-display font-bold text-ink mb-2 leading-tight group-hover:text-brand-600 transition-colors",children:o.title}),t.jsx("p",{className:"text-sm text-ink-light opacity-70 line-clamp-2 mb-4 font-normal",children:o.excerpt}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:o.author.avatar,className:"w-6 h-6 rounded-full",alt:"Author"}),t.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-500",children:o.author.name})]}),t.jsx("span",{className:"text-[10px] text-brand-500 font-bold uppercase group-hover:translate-x-1 transition-transform",children:"Read Now →"})]})]})]},o.id)),t.jsxs("div",{className:"p-6 text-center text-ink-light opacity-50 text-xs font-mono",children:[t.jsx("p",{children:"Showing 4 of 50+ Articles"}),t.jsx("p",{className:"mt-2",children:"SEO Optimized Content Engine Active"})]})]})})]})},Jl=()=>{const{currentUser:e,setCurrentUser:n,isSyncing:a,setIsSyncing:s,showAuth:r,setShowAuth:i,view:l,setView:p,userProfile:o,setUserProfile:u,availableDishes:h,setAvailableDishes:c,approvedDishes:g,setApprovedDishes:m,weeklyPlan:y,setWeeklyPlan:N,pantryStock:d,setPantryStock:f,togglePantryItem:v,clearPantry:_,fetchingMore:E,setFetchingMore:j,isSeeding:H,setIsSeeding:J,modifyingDish:oe,setModifyingDish:X,showReceipt:x,setShowReceipt:F,initialImportTab:C,setInitialImportTab:V,hydrateFromCloud:U,getAppState:B}=tl(),[q]=ee.useState(()=>{const T=localStorage.getItem("session_id");if(T)return T;const R=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem("session_id",R),R}),ue=ee.useMemo(()=>(e==null?void 0:e.uid)||q,[e,q]);b.useEffect(()=>{const T=us(async I=>{if(I){n({uid:I.uid,name:I.displayName||"Chef",photo:I.photoURL||""});const D=await Pt(I.uid);D&&U(D)}});return(async()=>{try{const I=localStorage.getItem("intro_seen");p(o?Y.Swipe:I?Y.Onboarding:Y.Intro),h.length===0&&c(Wi)}catch(I){console.error("Init Error",I)}})(),()=>T()},[]),b.useEffect(()=>{if(!o)return;const T=(R,I)=>I.filter(D=>{var P,te,pe;const A=R.allergens.some(Ae=>{var Ot;return(Ot=D.allergens)==null?void 0:Ot.includes(Ae)}),L=R.dietaryPreference==="Vegetarian"&&((P=D.tags)==null?void 0:P.includes("Non-Veg"))||R.dietaryPreference==="Vegan"&&(((te=D.tags)==null?void 0:te.includes("Non-Veg"))||((pe=D.ingredients)==null?void 0:pe.some(Ae=>Ae.category==="Dairy")));return!A&&!L});c(R=>T(o,R))},[o==null?void 0:o.allergens,o==null?void 0:o.dietaryPreference]),b.useEffect(()=>{if(e&&o){const T=B();ps(e.uid,T)}},[g,y,d,o,e]);const Ne=ee.useCallback(async()=>{s(!0);try{const T=await ms(),R=await Pt(T.uid),I=B(),D=gs(I,R);U(D),n(T),i(!1),p(Y.Swipe)}catch(T){console.error("Auth failed",T)}finally{s(!1)}},[B,U,n,s,i,p]),ye=ee.useCallback(async()=>{await fs(),localStorage.clear(),n(null),window.location.reload()},[n]),Ce=ee.useCallback((T,R)=>{const I=h.find(A=>A.id===T);if(!I)return;if(R===ne.Right||R===ne.Up)m(A=>[...A,{...I,isStaple:R===ne.Up}]),ae(async()=>{const{trackLikedDish:A}=await import("./userHistoryService-DKZlYY3g.js");return{trackLikedDish:A}},__vite__mapDeps([11,4,5,12,1,2,3,6,7,8,9,10])).then(({trackLikedDish:A})=>{ue&&A(ue,I)}),(!I.ingredients||I.ingredients.length===0)&&ae(async()=>{const{enrichDishDetails:A}=await Promise.resolve().then(()=>is);return{enrichDishDetails:A}},void 0).then(({enrichDishDetails:A})=>{A(I,o||void 0).then(L=>{console.log("[Hydration] Fetched details for:",L.name),m(P=>P.map(te=>te.id===I.id?{...L,isStaple:te.isStaple}:te))})});else if(R===ne.Left&&(ae(async()=>{const{trackDislikedDish:A}=await import("./userHistoryService-DKZlYY3g.js");return{trackDislikedDish:A}},__vite__mapDeps([11,4,5,12,1,2,3,6,7,8,9,10])).then(({trackDislikedDish:A})=>{ue&&A(ue,I)}),o)){const A={...o,dislikedDishes:[...o.dislikedDishes||[],I.name]};u(A)}c(A=>A.filter(L=>L.id!==T)),h.length-1<5&&!E&&o&&(j(!0),ts(3,o,A=>{c(L=>L.some(P=>P.id===A.id||P.name.toLowerCase()===A.name.toLowerCase())||g.some(P=>P.name.toLowerCase()===A.name.toLowerCase())?L:[...L,A])},"Explorer").finally(()=>j(!1)))},[h,g,E,m,c,j,ue,o,u]),Fe=ee.useCallback(()=>{localStorage.setItem("intro_seen","true"),p(Y.Onboarding)},[p]),[k,M]=ee.useState(0),[S,K]=ee.useState(),[se,W]=ee.useState(null),Q=ee.useCallback(async T=>{u(T),W(T);const I=Ko({dietaryPreference:T.dietaryPreference,allergens:T.allergens,cuisines:T.cuisines}).filter(A=>!g.some(L=>L.id===A.id)).slice(0,5);c([]),M(0),p(Y.Curating);const D=[];return I.forEach((A,L)=>{const P=setTimeout(()=>{c(te=>te.some(pe=>pe.id===A.id)?te:[...te,A]),M(te=>te+1),K(A.name)},(L+1)*800);D.push(P)}),()=>D.forEach(clearTimeout)},[g,c,M,K,u,W,p]),z=ee.useCallback(()=>{p(Y.Swipe),W(null)},[p,W]);return b.useMemo(()=>new URLSearchParams(window.location.search).get("view")==="cook",[])?t.jsx($l,{}):l===Y.Intro?t.jsx(nl,{onComplete:Fe}):H?t.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-[#F8F5F2] font-mono text-xs text-[#1A4D2E]",children:[t.jsx(fe,{className:"animate-spin mb-4"}),"Creating your menu..."]}):!o||l===Y.Onboarding?t.jsx(cl,{onComplete:Q}):l===Y.Curating?t.jsx(zl,{dishesLoaded:k,targetDishes:10,recentDishName:S,userCuisines:(se==null?void 0:se.cuisines)||(o==null?void 0:o.cuisines),onComplete:z}):t.jsxs("div",{className:"h-screen flex flex-col bg-background text-ink overflow-hidden selection:bg-brand-100 selection:text-brand-900 font-sans",children:[t.jsx(vs,{title:"My Kitchen"}),t.jsxs("div",{className:"absolute top-0 w-full px-6 py-4 flex justify-between items-center z-50 pointer-events-none",children:[t.jsx("div",{className:"pointer-events-auto flex items-center gap-3",children:t.jsx("span",{className:"font-display text-2xl font-black tracking-tight text-ink bg-clip-text text-transparent bg-gradient-to-r from-ink to-ink-light",children:"TadkaSync."})}),t.jsx("div",{className:"pointer-events-auto",children:t.jsx("button",{onClick:()=>e?ye():i(!0),onTouchEnd:T=>{T.preventDefault(),e?ye():i(!0)},className:"bg-white/50 backdrop-blur-md border border-white/20 px-4 py-2 rounded-full shadow-premium hover:shadow-premium-hover hover:bg-white transition-all flex items-center gap-2 group",children:e?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:e.photo,className:"w-6 h-6 rounded-full border border-white shadow-sm",alt:"Profile"}),t.jsx(Wr,{size:14,className:"opacity-50 group-hover:opacity-100 transition-opacity"})]}):t.jsx("span",{className:"font-display text-xs font-bold uppercase tracking-wider text-ink-light group-hover:text-brand-600",children:"Sign In"})})})]}),t.jsx("div",{className:"flex-1 relative overflow-hidden pt-20 pb-28",children:t.jsx(ge,{mode:"wait",children:t.jsxs(G.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1.02},transition:{duration:.4,ease:[.22,1,.36,1]},className:"h-full w-full max-w-md mx-auto relative",children:[l===Y.Swipe&&t.jsx(dl,{dishes:h.filter(T=>!g.some(R=>R.id===T.id)),approvedDishes:g,approvedCount:g.length,onSwipe:Ce,onModify:X,onImport:T=>{c(R=>[T,...R]),m(R=>[...R,T])},onDelete:T=>m(R=>R.filter(I=>I.id!==T)),pantryStock:d,userProfile:o,fetchingMore:E,initialImportTab:C}),l===Y.Planner&&t.jsx(kl,{approvedDishes:g,userProfile:o,onPlanUpdate:N,onRequestMoreDishes:()=>{},onPublish:()=>F(!0),pantryStock:d,onDishClick:T=>X(T)}),l===Y.Shopping&&t.jsx(Cl,{plan:y,pantryStock:d,onToggleItem:T=>{v(T)},onPrintTicket:()=>F(!0)}),l===Y.Pantry&&t.jsx(Ol,{pantryStock:d,onToggleItem:v,onBatchAdd:T=>f(R=>T.reduce((I,D)=>da(I,{name:D}),R)),onClear:_,onCookFromPantry:()=>{V("pantry"),p(Y.Swipe)}}),l===Y.Journal&&t.jsx(Wl,{}),l===Y.Profile&&t.jsx(Ll,{userProfile:o,onUpdateProfile:u,onFactoryReset:()=>{localStorage.clear(),window.location.reload()}})]},l)})}),t.jsx(ql,{view:l,setView:p}),r&&t.jsx(Vl,{onLogin:Ne,onClose:()=>i(!1),loading:a}),oe&&t.jsx(Gl,{dish:oe,userProfile:o||void 0,onClose:()=>X(null),onSave:(T,R,I)=>{m(D=>D.map(A=>A.id===T?{...A,userNotes:R,servings:I}:A)),X(null)},onUpdate:T=>{m(R=>R.map(I=>I.id===T.id?T:I)),c(R=>R.map(I=>I.id===T.id?T:I)),X(T)},onCook:(T,R)=>{f(L=>{let P=[...L];return R.forEach(te=>{const pe=P.find(Ae=>Ae.name.toLowerCase()===te.toLowerCase());pe&&(P=ca(P,pe.id))}),P});const I=Date.now(),D=I-(T.lastCooked||0),A=720*60*1e3;D>A?(o&&u({...o,credits:(o.credits||0)+3}),m(L=>L.map(P=>P.id===T.id?{...P,lastCooked:I}:P))):console.log(`[Economy] Credit farming blocked. Cooldown active for: ${T.name}`),X(null)}}),x&&t.jsx(Hl,{plan:y,missingIngredients:[],onClose:()=>F(!1),onSend:()=>{alert("Order Transmitted (Simulated)"),F(!1)}})]})},ic=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"}));export{$ as A,ic as D,is as a,Ba as e,zo as g};
